/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={418:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var o,a,l=i(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(l[c]=o[c]);if(t){a=t(o);for(var h=0;h<a.length;h++)r.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}},448:(e,t,n)=>{var r=n(294),i=n(418),s=n(840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,I=60106,k=60107,T=60108,S=60114,C=60109,N=60110,A=60112,x=60113,R=60120,D=60115,P=60116,O=60121,L=60128,M=60129,F=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;_=V("react.element"),I=V("react.portal"),k=V("react.fragment"),T=V("react.strict_mode"),S=V("react.profiler"),C=V("react.provider"),N=V("react.context"),A=V("react.forward_ref"),x=V("react.suspense"),R=V("react.suspense_list"),D=V("react.memo"),P=V("react.lazy"),O=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),U=V("react.legacy_hidden")}var j,q="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function B(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var $=!1;function W(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 22:return W(e.type._render,!1);case 1:return W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case I:return"Portal";case S:return"Profiler";case T:return"StrictMode";case x:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return K(e.type);case O:return K(e._render);case P:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ue(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ne=null;function Ae(e){if(e=ni(e)){if("function"!=typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Se(e.stateNode,e.type,t))}}function xe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function De(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Oe(){}var Le=De,Me=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(Oe(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){je=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){je=!1}function ze(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Be=!1,$e=null,We=!1,He=null,Ke={onError:function(e){Be=!0,$e=e}};function Ge(e,t,n,r,i,s,o,a,l){Be=!1,$e=null,ze.apply(Ke,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Je(i),e;if(s===r)return Je(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,st=[],ot=null,at=null,lt=null,ut=new Map,ct=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=ft(t,n,r,i,s),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ot&&yt(ot)&&(ot=null),null!==at&&yt(at)&&(at=null),null!==lt&&yt(lt)&&(lt=null),ut.forEach(vt),ct.forEach(vt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wt)))}function Et(e){function t(t){return bt(t,e)}if(0<st.length){bt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==at&&bt(at,e),null!==lt&&bt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},kt={},Tt={};function St(e){if(kt[e])return kt[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return kt[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=St("animationend"),Nt=St("animationiteration"),At=St("animationstart"),xt=St("transitionend"),Rt=new Map,Dt=new Map,Pt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Ot(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Rt.set(r,i),u(i,[r])}}(0,s.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Lt=15;else if(0!=(s=134217727&n)){var l=s&~o;0!==l?(r=Mt(l),i=Lt):0!=(a&=s)&&(r=Mt(a),i=Lt)}else 0!=(s=n&~o)?(r=Mt(s),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Bt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Vt(10,t):e;case 10:return 0===(e=jt(192&~t))?Vt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&0===(e=jt(4186112&~t))&&(e=512),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Wt|0)|0},$t=Math.log,Wt=Math.LN2,Ht=s.unstable_UserBlockingPriority,Kt=s.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Me||Oe();var i=Jt,s=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=s)||Ue()}}function Yt(e,t,n,r){Kt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<st.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var s=Xt(e,t,n,r);if(null===s)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(s,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=mt(ot,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ut.set(s,mt(ut.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ct.set(s,mt(ct.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;pt(e,r)}Or(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Te(r);if(null!==(i=ti(i))){var s=Qe(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Ye(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Or(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},fn,{relatedTarget:0})),wn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=an(bn),_n=an(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var Nn=i({},fn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Nn),xn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Un=h&&"TextEvent"in window&&!Fn,Vn=h&&(!Mn||Fn&&8<Fn&&11>=Fn),jn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Yn(e){Nr(e,0)}function Jn(e){if(J(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Qn=Gn=null)}function ir(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];if(Kn(t,Qn,e,Te(e)),e=Yn,Me)e(t);else{Me=!0;try{De(e,t)}finally{Me=!1,Ue()}}}}function sr(e,t,n){"focusin"===e?(rr(),Qn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function ar(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function hr(e,t){if(ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,wr=null,br=null,Er=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==vr||vr!==X(r)||(r="selectionStart"in(r=vr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Ot("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(Pt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Ir.length;kr++)Dt.set(Ir[kr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Ge.apply(this,arguments),Be){if(!Be)throw Error(o(198));var c=$e;Be=!1,$e=null,We||(We=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Cr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Cr(i,a,u),s=l}}}if(We)throw e=He,We=!1,He=null,e}function Ar(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[xr]||(e[xr]=!0,a.forEach((function(t){Sr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=si(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Pr(s,e,i,t),o.add(a))}function Pr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Or(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ti(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=s,i=Te(n),o=[];e:{var a=Rt.get(e);if(void 0!==a){var l=dn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Ct:case Nt:case At:l=wn;break;case xt:l=Dn;break;case"scroll":l=pn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Ve(p,d))&&c.push(Lr(p,m,f))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Zr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(h=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ri(l),f=null==u?a:ri(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,ti(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Fr(f))p++;for(f=0,m=d;m;m=Fr(m))f++;for(;0<p-f;)c=Fr(c),p--;for(;0<f-p;)d=Fr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Fr(c),d=Fr(d)}c=null}else c=null;null!==l&&Ur(o,a,l,c,!1),null!==u&&null!==h&&Ur(o,h,u,c,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Hn(a))if(Zn)g=lr;else{g=or;var y=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ri(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(vr=y,wr=r,br=null);break;case"focusout":br=wr=vr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,_r(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":_r(o,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else $n?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Vn&&"ko"!==n.locale&&($n||"onCompositionStart"!==w?"onCompositionEnd"===w&&$n&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,$n=!0)),0<(y=Mr(r,w)).length&&(w=new _n(w,e,null,n,i),o.push({event:w,listeners:y}),(v||null!==(v=Bn(n)))&&(w.data=v))),(v=Un?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(qn=!0,jn);case"textInput":return(e=t.data)===jn&&qn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Mn&&zn(e,t)?(e=nn(),tn=en=Zt=null,$n=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v)}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(Lr(e,s,i)),null!=(s=Ve(e,t))&&r.push(Lr(e,s,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ve(n,s))&&o.unshift(Lr(n,l,a)):i||null!=(l=Ve(n,s))&&o.push(Lr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var jr=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0,Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Jr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Jr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Xr]||null}function si(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ai=-1;function li(e){return{current:e}}function ui(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ci(e,t){ai++,oi[ai]=e.current,e.current=t}var hi={},di=li(hi),fi=li(!1),pi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gi(e){return null!=e.childContextTypes}function yi(){ui(fi),ui(di)}function vi(e,t,n){if(di.current!==hi)throw Error(o(168));ci(di,t),ci(fi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,K(t)||"Unknown",s));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=di.current,ci(di,e),ci(fi,fi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(di),ci(di,e)):ui(fi),ci(fi,n)}var _i=null,Ii=null,ki=s.unstable_runWithPriority,Ti=s.unstable_scheduleCallback,Si=s.unstable_cancelCallback,Ci=s.unstable_shouldYield,Ni=s.unstable_requestPaint,Ai=s.unstable_now,xi=s.unstable_getCurrentPriorityLevel,Ri=s.unstable_ImmediatePriority,Di=s.unstable_UserBlockingPriority,Pi=s.unstable_NormalPriority,Oi=s.unstable_LowPriority,Li=s.unstable_IdlePriority,Mi={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,ji=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Bi(){switch(xi()){case Ri:return 99;case Di:return 98;case Pi:return 97;case Oi:return 96;case Li:return 95;default:throw Error(o(332))}}function $i(e){switch(e){case 99:return Ri;case 98:return Di;case 97:return Pi;case 96:return Oi;case 95:return Li;default:throw Error(o(332))}}function Wi(e,t){return e=$i(e),ki(e,t)}function Hi(e,t,n){return e=$i(e),Ti(e,t,n)}function Ki(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Gi()}function Gi(){if(!ji&&null!==Ui){ji=!0;var e=0;try{var t=Ui;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Ri,Ki),t}finally{ji=!1}}}var Qi=E.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=li(null),Xi=null,Zi=null,es=null;function ts(){es=Zi=Xi=null}function ns(e){var t=Ji.current;ui(Ji),e.type._context._currentValue=t}function rs(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function is(e,t){Xi=e,es=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function ss(e,t){if(es!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(es=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Xi)throw Error(o(308));Zi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var os=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function hs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ds(e,t,n,r){var s=e.updateQueue;os=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(d=s.baseState,a=0,h=c=u=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,d,l):p))break e;d=i({},d,l);break e;case 2:os=!0}}null!==o.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,a|=l;if(null===(o=o.next)){if(null===(l=s.shared.pending))break;o=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===h&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,Ua|=a,e.lanes=a,e.memoizedState=d}}function fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ps=(new r.Component).refs;function ms(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gs={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),s=us(r,i);s.payload=t,null!=n&&(s.callback=n),cs(e,s),hl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),s=us(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),cs(e,s),hl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=cl(e),i=us(n,r);i.tag=2,null!=t&&(i.callback=t),cs(e,i),hl(e,r,n)}};function ys(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,s))}function vs(e,t,n){var r=!1,i=hi,s=t.contextType;return"object"==typeof s&&null!==s?s=ss(s):(i=gi(t)?pi:di.current,s=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ws(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gs.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ps,as(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=ss(s):(s=gi(t)?pi:di.current,i.context=mi(e,s)),ds(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ms(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&gs.enqueueReplaceState(i,i.state,null),ds(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Es=Array.isArray;function _s(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ps&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Is(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ks(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bl(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_s(e,t,n),r.return=e,r):((r=$l(n.type,n.key,n.props,null,e.mode,r)).ref=_s(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Wl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _:return(n=$l(t.type,t.key,t.props,null,e.mode,n)).ref=_s(e,null,t),n.return=e,n;case I:return(t=Gl(t,e.mode,n)).return=e,t}if(Es(t)||z(t))return(t=Wl(t,e.mode,n,null)).return=e,t;Is(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===k?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case I:return n.key===i?c(e,t,n,r):null}if(Es(n)||z(n))return null!==i?null:h(e,t,n,r,null);Is(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===k?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case I:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Es(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);Is(t,r)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=z(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,s,l){var u="object"==typeof s&&null!==s&&s.type===k&&null===s.key;u&&(s=s.props.children);var c="object"==typeof s&&null!==s;if(c)switch(s.$$typeof){case _:e:{for(c=s.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===k){n(e,u.sibling),(r=i(u,s.props.children)).return=e,e=r;break e}}else if(u.elementType===s.type){n(e,u.sibling),(r=i(u,s.props)).ref=_s(e,u,s),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}s.type===k?((r=Wl(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=$l(s.type,s.key,s.props,null,e.mode,l)).ref=_s(e,r,s),l.return=e,e=l)}return a(e);case I:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gl(s,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Kl(s,e.mode,l)).return=e,e=r),a(e);if(Es(s))return m(e,r,s,l);if(z(s))return g(e,r,s,l);if(c&&Is(e,s),void 0===s&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Ts=ks(!0),Ss=ks(!1),Cs={},Ns=li(Cs),As=li(Cs),xs=li(Cs);function Rs(e){if(e===Cs)throw Error(o(174));return e}function Ds(e,t){switch(ci(xs,t),ci(As,e),ci(Ns,Cs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Ns),ci(Ns,t)}function Ps(){ui(Ns),ui(As),ui(xs)}function Os(e){Rs(xs.current);var t=Rs(Ns.current),n=fe(t,e.type);t!==n&&(ci(As,e),ci(Ns,n))}function Ls(e){As.current===e&&(ui(Ns),ui(As))}var Ms=li(0);function Fs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=null,Vs=null,js=!1;function qs(e,t){var n=ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Bs(e){if(js){var t=Vs;if(t){var n=t;if(!zs(e,t)){if(!(t=Kr(n.nextSibling))||!zs(e,t))return e.flags=-1025&e.flags|2,js=!1,void(Us=e);qs(Us,n)}Us=e,Vs=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,js=!1,Us=e}}function $s(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Us=e}function Ws(e){if(e!==Us)return!1;if(!js)return $s(e),js=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=Vs;t;)qs(e,t),t=Kr(t.nextSibling);if($s(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vs=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vs=null}}else Vs=Us?Kr(e.stateNode.nextSibling):null;return!0}function Hs(){Vs=Us=null,js=!1}var Ks=[];function Gs(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var Qs=E.ReactCurrentDispatcher,Ys=E.ReactCurrentBatchConfig,Js=0,Xs=null,Zs=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function so(e,t,n,r,i,s){if(Js=s,Xs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=null===e||null===e.memoizedState?Do:Po,e=n(r,i),no){s=0;do{if(no=!1,!(25>s))throw Error(o(301));s+=1,eo=Zs=null,t.updateQueue=null,Qs.current=Oo,e=n(r,i)}while(no)}if(Qs.current=Ro,t=null!==Zs&&null!==Zs.next,Js=0,eo=Zs=Xs=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Xs.memoizedState=eo=e:eo=eo.next=e,eo}function ao(){if(null===Zs){var e=Xs.alternate;e=null!==e?e.memoizedState:null}else e=Zs.next;var t=null===eo?Xs.memoizedState:eo.next;if(null!==t)eo=t,Zs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Zs=e).memoizedState,baseState:Zs.baseState,baseQueue:Zs.baseQueue,queue:Zs.queue,next:null},null===eo?Xs.memoizedState=eo=e:eo=eo.next=e}return eo}function lo(e,t){return"function"==typeof t?t(e):t}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Zs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=s=null,u=i;do{var c=u.lane;if((Js&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,Xs.lanes|=c,Ua|=c}u=u.next}while(null!==u&&u!==i);null===l?s=r:l.next=a,ur(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function co(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ur(s,t.memoizedState)||(Mo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Js&e)===e)&&(t._workInProgressVersionPrimary=r,Ks.push(t))),e)return n(t._source);throw Ks.push(t),Error(o(350))}function fo(e,t,n,r){var i=xa;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),l=Qs.current,u=l.useState((function(){return ho(i,t,n)})),c=u[1],h=u[0];u=eo;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Xs;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=s(t._source);if(!ur(a,e)){e=n(t._source),ur(h,e)||(c(e),e=cl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-Bt(o),u=1<<l;r[l]|=e,o&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=cl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ur(p,n)&&ur(m,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:h}).dispatch=c=xo.bind(null,Xs,e),u.queue=e,u.baseQueue=null,h=ho(i,t,n),u.memoizedState=u.baseState=h),h}function po(e,t,n){return fo(ao(),e,t,n)}function mo(e){var t=oo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=xo.bind(null,Xs,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xs.updateQueue)?(t={lastEffect:null},Xs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function vo(){return ao().memoizedState}function wo(e,t,n,r){var i=oo();Xs.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=ao();r=void 0===r?null:r;var s=void 0;if(null!==Zs){var o=Zs.memoizedState;if(s=o.destroy,null!==r&&io(r,o.deps))return void go(t,n,s,r)}Xs.flags|=e,i.memoizedState=go(1|t,n,s,r)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function Io(e,t){return bo(4,2,e,t)}function ko(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!=n?n.concat([e]):null,bo(4,2,ko.bind(null,t,e),n)}function So(){}function Co(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Bi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ys.transition;Ys.transition=1;try{e(!1),t()}finally{Ys.transition=n}}))}function xo(e,t,n){var r=ul(),i=cl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Xs||null!==o&&o===Xs)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,ur(l,a))return}catch(e){}hl(e,i,r)}}var Ro={readContext:ss,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Do={readContext:ss,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:ss,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,wo(4,2,ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xo.bind(null,Xs,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return Eo((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fo(r,e,t,n)},useOpaqueIdentifier:function(){if(js){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0==(2&Xs.mode)&&(Xs.flags|=516,go(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:ss,useCallback:Co,useContext:ss,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Io,useMemo:No,useReducer:uo,useRef:vo,useState:function(){return uo(lo)},useDebugValue:So,useDeferredValue:function(e){var t=uo(lo),n=t[0],r=t[1];return _o((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=uo(lo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return uo(lo)[0]},unstable_isNewReconciler:!1},Oo={readContext:ss,useCallback:Co,useContext:ss,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Io,useMemo:No,useReducer:co,useRef:vo,useState:function(){return co(lo)},useDebugValue:So,useDeferredValue:function(e){var t=co(lo),n=t[0],r=t[1];return _o((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=co(lo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},Lo=E.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Ss(t,null,n,r):Ts(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var s=t.ref;return is(t,i),r=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function Vo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||zl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=$l(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?na(e,t,s):(t.flags|=1,(e=Bl(o,r)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,n,r,i,s){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0==(s&i))return t.lanes=e.lanes,na(e,t,s);0!=(16384&e.flags)&&(Mo=!0)}return Bo(e,t,n,r,s)}function qo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},wl(0,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(0,e),null;t.memoizedState={baseLanes:0},wl(0,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,wl(0,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Bo(e,t,n,r,i){var s=gi(n)?pi:di.current;return s=mi(t,s),is(t,i),n=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function $o(e,t,n,r,i){if(gi(n)){var s=!0;bi(t)}else s=!1;if(is(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vs(t,n,r),bs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?ss(u):mi(t,u=gi(n)?pi:di.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&ws(t,o,r,u),os=!1;var d=t.memoizedState;o.state=d,ds(t,r,o,i),l=t.memoizedState,a!==r||d!==l||fi.current||os?("function"==typeof c&&(ms(t,n,c,r),l=t.memoizedState),(a=os||ys(t,n,a,r,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ls(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Yi(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?ss(l):mi(t,l=gi(n)?pi:di.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ws(t,o,r,l),os=!1,d=t.memoizedState,o.state=d,ds(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||fi.current||os?("function"==typeof f&&(ms(t,n,f,r),p=t.memoizedState),(u=os||ys(t,n,u,r,d,p,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,s,i)}function Wo(e,t,n,r,i,s){zo(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),na(e,t,s);r=t.stateNode,Lo.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,a,s)):Fo(e,t,a,s),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Ds(e,t.containerInfo)}var Ko,Go,Qo,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,s=Ms.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ci(Ms,1&s),null===e?(void 0!==i.fallback&&Bs(t),e=i.children,s=i.fallback,o?(e=Xo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Hl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=function(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bl(o,a),null!==e?r=Bl(e,r):(r=Wl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Bl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Hl(t,i,0,null),n=Wl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),rs(e.return,t)}function ea(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ta(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fo(e,t,r.children,n),0!=(2&(r=Ms.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Ms,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ea(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ea(t,!0,n,null,s,t.lastEffect);break;case"together":ea(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function na(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ua|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Bl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ra(e,t){if(!js)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ia(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Ps(),ui(fi),ui(di),Gs(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ws(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ls(t);var s=Rs(xs.current);if(n=t.type,null!==e&&null!=t.stateNode)Go(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Rs(Ns.current),Ws(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Jr]=t,r[Xr]=a,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,a),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ar("invalid",r);break;case"textarea":le(r,a),Ar("invalid",r)}for(var u in Ie(n,a),e=null,a)a.hasOwnProperty(u)&&(s=a[u],"children"===u?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(u)&&null!=s&&"onScroll"===u&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===s.nodeType?s:s.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Ko(e,t),t.stateNode=e,u=ke(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),s=r;break;case"iframe":case"object":case"embed":Ar("load",e),s=r;break;case"video":case"audio":for(s=0;s<Tr.length;s++)Ar(Tr[s],e);s=r;break;case"source":Ar("error",e),s=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),s=r;break;case"details":Ar("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),Ar("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":le(e,r),s=ae(e,r),Ar("invalid",e);break;default:s=r}Ie(n,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Ar("scroll",e):null!=h&&b(e,a,h,u))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Rs(xs.current),Rs(Ns.current),Ws(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ui(Ms),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ws(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ms.current)?0===La&&(La=3):(0!==La&&3!==La||(La=4),null===xa||0==(134217727&Ua)&&0==(134217727&Va)||ml(xa,Da))),(r||n)&&(t.flags|=4),null);case 4:return Ps(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ns(t),null;case 19:if(ui(Ms),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(u=r.rendering))if(a)ra(r,!1);else{if(0!==La||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fs(e))){for(t.flags|=64,ra(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Ms,1&Ms.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ba&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Fs(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!js)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ba&&1073741824!==n&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ms.current,ci(Ms,a?1&t|2:1&t),n):null;case 23:case 24:return bl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function sa(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ps(),ui(fi),ui(di),Gs(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ls(e),null;case 13:return ui(Ms),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Ms),null;case 4:return Ps(),null;case 10:return ns(e),null;case 23:case 24:return bl(),null;default:return null}}function oa(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function aa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Rs(Ns.current);var o,a=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Vr)}for(h in Ie(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var u=s[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Ar("scroll",e),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var la="function"==typeof WeakMap?WeakMap:Map;function ua(e,t,n){(n=us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ka||(Ka=!0,Ga=r),aa(0,t)},n}function ca(e,t,n){(n=us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return aa(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Qa?Qa=new Set([this]):Qa.add(this),aa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function da(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fl(e,t)}else t.current=null}function fa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function pa(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ol(n,e),Pl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(o(163))}function ma(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ga(e,t){if(Ii&&"function"==typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(_i,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ol(t,n);else{r=t;try{i()}catch(e){Fl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(da(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fl(t,e)}break;case 5:da(t);break;case 4:_a(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:{for(var t=e.return;null!==t;){if(va(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ba(e,n,t):Ea(e,n,t)}function ba(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(ba(e,t,n),e=e.sibling;null!==e;)ba(e,t,n),e=e.sibling}function Ea(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function _a(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(ga(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ga(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function Ia(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?Ee(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?ye(n,l):b(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(za=zi(),ma(t.child,!0)),void ka(t);case 19:return void ka(t);case 23:case 24:return void ma(t,null!==t.memoizedState)}throw Error(o(163))}function ka(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ha),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ta(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Sa=Math.ceil,Ca=E.ReactCurrentDispatcher,Na=E.ReactCurrentOwner,Aa=0,xa=null,Ra=null,Da=0,Pa=0,Oa=li(0),La=0,Ma=null,Fa=0,Ua=0,Va=0,ja=0,qa=null,za=0,Ba=1/0;function $a(){Ba=zi()+500}var Wa,Ha=null,Ka=!1,Ga=null,Qa=null,Ya=!1,Ja=null,Xa=90,Za=[],el=[],tl=null,nl=0,rl=null,il=-1,sl=0,ol=0,al=null,ll=!1;function ul(){return 0!=(48&Aa)?zi():-1!==il?il:il=zi()}function cl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Bi()?1:2;if(0===sl&&(sl=Fa),0!==Qi.transition){0!==ol&&(ol=null!==qa?qa.pendingLanes:0),e=sl;var t=4186112&~ol;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Bi(),e=Vt(0!=(4&Aa)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),sl)}function hl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(o(185));if(null===(e=dl(e,t)))return null;zt(e,t,n),e===xa&&(Va|=t,4===La&&ml(e,Da));var r=Bi();1===t?0!=(8&Aa)&&0==(48&Aa)?gl(e):(fl(e,n),0===Aa&&($a(),Ki())):(0==(4&Aa)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),fl(e,n)),qa=e}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Bt(a),u=1<<l,c=s[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,Mt(u);var h=Lt;s[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=Ft(e,e===xa?Da:0),t=Lt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=gl.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Ri,Gi)):Ui.push(n),n=Mi):14===t?n=Hi(99,gl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,pl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function pl(e){if(il=-1,ol=sl=0,0!=(48&Aa))throw Error(o(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var n=Ft(e,e===xa?Da:0);if(0===n)return null;var r=n,i=Aa;Aa|=16;var s=Il();for(xa===e&&Da===r||($a(),El(e,r));;)try{Sl();break}catch(t){_l(e,t)}if(ts(),Ca.current=s,Aa=i,null!==Ra?r=0:(xa=null,Da=0,r=La),0!=(Fa&Va))El(e,0);else if(0!==r){if(2===r&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ut(e))&&(r=kl(e,n))),1===r)throw t=Ma,El(e,0),ml(e,n),fl(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Al(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=za+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(Al.bind(null,e),r);break}Al(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Bt(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sa(n/1960))-n)){e.timeoutHandle=$r(Al.bind(null,e),n);break}Al(e);break;default:throw Error(o(329))}}return fl(e,zi()),e.callbackNode===t?pl.bind(null,e):null}function ml(e,t){for(t&=~ja,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function gl(e){if(0!=(48&Aa))throw Error(o(327));if(Dl(),e===xa&&0!=(e.expiredLanes&Da)){var t=Da,n=kl(e,t);0!=(Fa&Va)&&(n=kl(e,t=Ft(e,t)))}else n=kl(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ut(e))&&(n=kl(e,t))),1===n)throw n=Ma,El(e,0),ml(e,t),fl(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e),fl(e,zi()),null}function yl(e,t){var n=Aa;Aa|=1;try{return e(t)}finally{0===(Aa=n)&&($a(),Ki())}}function vl(e,t){var n=Aa;Aa&=-2,Aa|=8;try{return e(t)}finally{0===(Aa=n)&&($a(),Ki())}}function wl(e,t){ci(Oa,Pa),Pa|=t,Fa|=t}function bl(){Pa=Oa.current,ui(Oa)}function El(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ra)for(n=Ra.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:Ps(),ui(fi),ui(di),Gs();break;case 5:Ls(r);break;case 4:Ps();break;case 13:case 19:ui(Ms);break;case 10:ns(r);break;case 23:case 24:bl()}n=n.return}xa=e,Ra=Bl(e.current,null),Da=Pa=Fa=t,La=0,Ma=null,ja=Va=Ua=0}function _l(e,t){for(;;){var n=Ra;try{if(ts(),Qs.current=Ro,to){for(var r=Xs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Js=0,eo=Zs=Xs=null,no=!1,Na.current=null,null===n||null===n.return){La=1,Ma=t,Ra=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Da,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Ms.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var y=new Set;y.add(u),d.updateQueue=y}else g.add(u);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=us(-1,1);v.tag=2,cs(a,v)}a.lanes|=1;break e}l=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new la,l=new Set,w.set(u,l)):void 0===(l=w.get(u))&&(l=new Set,w.set(u,l)),!l.has(a)){l.add(a);var b=Ul.bind(null,s,u,a);u.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==La&&(La=2),l=oa(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,t&=-t,d.lanes|=t,hs(d,ua(0,s,t));break e;case 1:s=l;var E=d.type,_=d.stateNode;if(0==(64&d.flags)&&("function"==typeof E.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Qa||!Qa.has(_)))){d.flags|=4096,t&=-t,d.lanes|=t,hs(d,ca(d,s,t));break e}}d=d.return}while(null!==d)}Nl(n)}catch(e){t=e,Ra===n&&null!==n&&(Ra=n=n.return);continue}break}}function Il(){var e=Ca.current;return Ca.current=Ro,null===e?Ro:e}function kl(e,t){var n=Aa;Aa|=16;var r=Il();for(xa===e&&Da===t||El(e,t);;)try{Tl();break}catch(t){_l(e,t)}if(ts(),Aa=n,Ca.current=r,null!==Ra)throw Error(o(261));return xa=null,Da=0,La}function Tl(){for(;null!==Ra;)Cl(Ra)}function Sl(){for(;null!==Ra&&!Ci();)Cl(Ra)}function Cl(e){var t=Wa(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,null===t?Nl(e):Ra=t,Na.current=null}function Nl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ia(n,t,Pa)))return void(Ra=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Pa)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=sa(t)))return n.flags&=2047,void(Ra=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ra=t);Ra=t=e}while(null!==t);0===La&&(La=5)}function Al(e){var t=Bi();return Wi(99,xl.bind(null,e,t)),null}function xl(e,t){do{Dl()}while(null!==Ja);if(0!=(48&Aa))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var u=31-Bt(s),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,s&=~c}if(null!==tl&&0==(24&r)&&tl.has(e)&&tl.delete(e),e===xa&&(Ra=xa=null,Da=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Aa,Aa|=32,Na.current=null,jr=Gt,gr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,s=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==l||0!==s&&3!==g.nodeType||(d=h+s),g!==u||0!==c&&3!==g.nodeType||(f=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===l&&++p===s&&(d=h),y===u&&++m===c&&(f=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;qr={focusedElem:a,selectionRange:l},Gt=!1,al=null,ll=!1,Ha=r;do{try{Rl()}catch(e){if(null===Ha)throw Error(o(330));Fl(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);al=null,Ha=r;do{try{for(a=e;null!==Ha;){var w=Ha.flags;if(16&w&&ye(Ha.stateNode,""),128&w){var b=Ha.alternate;if(null!==b){var E=b.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:wa(Ha),Ha.flags&=-3;break;case 6:wa(Ha),Ha.flags&=-3,Ia(Ha.alternate,Ha);break;case 1024:Ha.flags&=-1025;break;case 1028:Ha.flags&=-1025,Ia(Ha.alternate,Ha);break;case 4:Ia(Ha.alternate,Ha);break;case 8:_a(a,l=Ha);var _=l.alternate;ya(l),null!==_&&ya(_)}Ha=Ha.nextEffect}}catch(e){if(null===Ha)throw Error(o(330));Fl(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);if(E=qr,b=mr(),w=E.focusedElem,a=E.selectionRange,b!==w&&w&&w.ownerDocument&&pr(w.ownerDocument.documentElement,w)){null!==a&&gr(w)&&(b=a.start,void 0===(E=a.end)&&(E=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(E,w.value.length)):(E=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,_=Math.min(a.start,l),a=void 0===a.end?_:Math.min(a.end,l),!E.extend&&_>a&&(l=a,a=_,_=l),l=fr(w,_),s=fr(w,a),l&&s&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==s.node||E.focusOffset!==s.offset)&&((b=b.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),_>a?(E.addRange(b),E.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),E.addRange(b))))),b=[];for(E=w;E=E.parentNode;)1===E.nodeType&&b.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(E=b[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!jr,qr=jr=null,e.current=n,Ha=r;do{try{for(w=e;null!==Ha;){var I=Ha.flags;if(36&I&&pa(w,Ha.alternate,Ha),128&I){b=void 0;var k=Ha.ref;if(null!==k){var T=Ha.stateNode;Ha.tag,b=T,"function"==typeof k?k(b):k.current=b}}Ha=Ha.nextEffect}}catch(e){if(null===Ha)throw Error(o(330));Fl(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);Ha=null,Fi(),Aa=i}else e.current=n;if(Ya)Ya=!1,Ja=e,Xa=t;else for(Ha=r;null!==Ha;)t=Ha.nextEffect,Ha.nextEffect=null,8&Ha.flags&&((I=Ha).sibling=null,I.stateNode=null),Ha=t;if(0===(r=e.pendingLanes)&&(Qa=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,Ii&&"function"==typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(_i,n,void 0,64==(64&n.current.flags))}catch(e){}if(fl(e,zi()),Ka)throw Ka=!1,e=Ga,Ga=null,e;return 0!=(8&Aa)||Ki(),null}function Rl(){for(;null!==Ha;){var e=Ha.alternate;ll||null===al||(0!=(8&Ha.flags)?Ze(Ha,al)&&(ll=!0):13===Ha.tag&&Ta(e,Ha)&&Ze(Ha,al)&&(ll=!0));var t=Ha.flags;0!=(256&t)&&fa(e,Ha),0==(512&t)||Ya||(Ya=!0,Hi(97,(function(){return Dl(),null}))),Ha=Ha.nextEffect}}function Dl(){if(90!==Xa){var e=97<Xa?97:Xa;return Xa=90,Wi(e,Ll)}return!1}function Pl(e,t){Za.push(t,e),Ya||(Ya=!0,Hi(97,(function(){return Dl(),null})))}function Ol(e,t){el.push(t,e),Ya||(Ya=!0,Hi(97,(function(){return Dl(),null})))}function Ll(){if(null===Ja)return!1;var e=Ja;if(Ja=null,0!=(48&Aa))throw Error(o(331));var t=Aa;Aa|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===s)throw Error(o(330));Fl(s,e)}}for(n=Za,Za=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===s)throw Error(o(330));Fl(s,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Aa=t,Ki(),!0}function Ml(e,t,n){cs(e,t=ua(0,t=oa(n,t),1)),t=ul(),null!==(e=dl(e,1))&&(zt(e,1,t),fl(e,t))}function Fl(e,t){if(3===e.tag)Ml(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ml(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qa||!Qa.has(r))){var i=ca(n,e=oa(t,e),1);if(cs(n,i),i=ul(),null!==(n=dl(n,1)))zt(n,1,i),fl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Qa||!Qa.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ul(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,xa===e&&(Da&n)===n&&(4===La||3===La&&(62914560&Da)===Da&&500>zi()-za?El(e,0):ja|=n),fl(e,t)}function Vl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Bi()?1:2:(0===sl&&(sl=Fa),0===(t=jt(62914560&~sl))&&(t=4194304))),n=ul(),null!==(e=dl(e,t))&&(zt(e,t,n),fl(e,n))}function jl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,n,r){return new jl(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bl(e,t){var n=e.alternate;return null===n?((n=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $l(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)zl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case k:return Wl(n.children,i,s,t);case M:a=8,i|=16;break;case T:a=8,i|=1;break;case S:return(e=ql(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=s,e;case x:return(e=ql(13,n,t,i)).type=x,e.elementType=x,e.lanes=s,e;case R:return(e=ql(19,n,t,i)).elementType=R,e.lanes=s,e;case F:return Hl(n,i,s,t);case U:return(e=ql(24,n,t,i)).elementType=U,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case N:a=9;break e;case A:a=11;break e;case D:a=14;break e;case P:a=16,r=null;break e;case O:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ql(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Wl(e,t,n,r){return(e=ql(7,e,r,t)).lanes=n,e}function Hl(e,t,n,r){return(e=ql(23,e,r,t)).elementType=F,e.lanes=n,e}function Kl(e,t,n){return(e=ql(6,e,null,t)).lanes=n,e}function Gl(e,t,n){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Yl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Jl(e,t,n,r){var i=t.current,s=ul(),a=cl(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=wi(n,u,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=us(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),cs(i,t),hl(i,a,s),a}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,as(t),e[Zr]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Xl(o);a.call(e)}}Jl(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Xl(o);l.call(e)}}vl((function(){Jl(t,o,e,i)}))}return Xl(o)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(o(200));return Yl(e,t,null,n)}Wa=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Mo=!0;else{if(0==(n&r)){switch(Mo=!1,t.tag){case 3:Ho(t),Hs();break;case 5:Os(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Ds(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Jo(e,t,n):(ci(Ms,1&Ms.current),null!==(t=na(e,t,n))?t.sibling:null);ci(Ms,1&Ms.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ta(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Ms,Ms.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return na(e,t,n)}Mo=0!=(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),is(t,n),i=so(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var s=!0;bi(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,as(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&ms(t,r,a,e),i.updater=gs,t.stateNode=i,i._reactInternals=t,bs(t,r,e,n),t=Wo(null,t,r,!0,s,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return zl(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(i),e=Yi(i,e),s){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=$o(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,$o(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ls(e,t),ds(t,r,null,n),(r=t.memoizedState.element)===i)Hs(),t=na(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Vs=Kr(t.stateNode.containerInfo.firstChild),Us=t,s=js=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Ks.push(s);for(n=Ss(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Hs();t=t.child}return t;case 5:return Os(t),null===e&&Bs(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,Br(r,i)?a=null:null!==s&&Br(r,s)&&(t.flags|=16),zo(e,t),Fo(e,t,a,n),t.child;case 6:return null===e&&Bs(t),null;case 13:return Jo(e,t,n);case 4:return Ds(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ts(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(ci(Ji,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0==(s=ur(l,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===i.children&&!fi.current){t=na(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&s)){1===l.tag&&((c=us(-1,n&-n)).tag=2,cs(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),rs(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,is(t,n),r=r(i=ss(i,s.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return s=Yi(i=t.type,t.pendingProps),Vo(e,t,i,s=Yi(i.type,s),r,n);case 15:return jo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,is(t,n),vs(t,r,i),bs(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return ta(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},tu.prototype.render=function(e){Jl(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(hl(e,4,ul()),eu(e,4))},tt=function(e){13===e.tag&&(hl(e,67108864,ul()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=ul(),n=cl(e);hl(e,n,t),eu(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=yl,Pe=function(e,t,n,r,i){var s=Aa;Aa|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Aa=s)&&($a(),Ki())}},Oe=function(){0==(49&Aa)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,zi())}))}Ki()}(),Dl())},Le=function(e,t){var n=Aa;Aa|=2;try{return e(t)}finally{0===(Aa=n)&&($a(),Ki())}};var su={Events:[ni,ri,ii,xe,Re,Dl,{current:!1}]},ou={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},au={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{_i=lu.inject(au),Ii=lu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Aa;if(0!=(48&n))return e(t);Aa|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Aa=n,Ki()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(o(40));return!!e._reactRootContainer&&(vl((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=yl,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{var r=n(418),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=v.prototype=new y;w.constructor=v,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!_.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:b.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return o=o(l=e),e=""===r?"."+S(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+S(a=e[u],u);l+=C(a,t,n,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=C(a=a.value,t,n,c=r+S(a,u++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function R(){var e=x.current;if(null===e)throw Error(f(321));return e}var D={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{e.exports=n(408)},53:(e,t)=>{var n,r,i,s;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,E=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+v;try{g(!0,e)?E.postMessage(null):(m=!1,g=null)}catch(e){throw E.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,E.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],C=[],N=1,A=null,x=3,R=!1,D=!1,P=!1;function O(e){for(var t=I(C);null!==t;){if(null===t.callback)k(C);else{if(!(t.startTime<=e))break;k(C),t.sortIndex=t.expirationTime,_(S,t)}t=I(C)}}function L(e){if(P=!1,O(e),!D)if(null!==I(S))D=!0,n(M);else{var t=I(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){D=!1,P&&(P=!1,i()),R=!0;var s=x;try{for(O(n),A=I(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"==typeof o){A.callback=null,x=A.priorityLevel;var a=o(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?A.callback=a:A===I(S)&&k(S),O(n)}else k(S);A=I(S)}if(null!==A)var l=!0;else{var u=I(C);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{A=null,x=s,R=!1}}var F=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||R||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return I(S)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:N++,callback:s,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,_(C,e),null===I(S)&&e===I(C)&&(P?i():P=!0,r(L,o-a))):(e.sortIndex=l,_(S,e),D||R||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},840:(e,t,n)=>{e.exports=n(53)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>pe,SDK_VERSION:()=>et,_DEFAULT_ENTRY_NAME:()=>ze,_addComponent:()=>He,_addOrOverwriteComponent:()=>Ke,_apps:()=>$e,_clearComponents:()=>Je,_components:()=>We,_getProvider:()=>Qe,_registerComponent:()=>Ge,_removeServiceInstance:()=>Ye,deleteApp:()=>it,getApp:()=>nt,getApps:()=>rt,initializeApp:()=>tt,onLog:()=>ot,registerVersion:()=>st,setLogLevel:()=>at});var t=n(294),r=n(935);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var s,o=s||(s={});o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE";function a(e){e.preventDefault(),e.returnValue=""}function l(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function u(e){var t=e.pathname,n=e.search;return(void 0===t?"/":t)+(void 0===n?"":n)+(void 0===(e=e.hash)?"":e)}function c(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h(e,t){if(!e)throw new Error(t)}const d=(0,t.createContext)(null),f=(0,t.createContext)(null),p=(0,t.createContext)({outlet:null,matches:[]});function m(e){return function(e){let n=(0,t.useContext)(p).outlet;return(0,t.createElement)(E.Provider,{value:e},n)}(e.context)}function g(e){h(!1)}function y(e){let{basename:n="/",children:r=null,location:i,navigationType:o=s.Pop,navigator:a,static:l=!1}=e;w()&&h(!1);let u=P(n),p=(0,t.useMemo)((()=>({basename:u,navigator:a,static:l})),[u,a,l]);"string"==typeof i&&(i=c(i));let{pathname:m="/",search:g="",hash:y="",state:v=null,key:b="default"}=i,E=(0,t.useMemo)((()=>{let e=R(m,u);return null==e?null:{pathname:e,search:g,hash:y,state:v,key:b}}),[u,m,g,y,v,b]);return null==E?null:(0,t.createElement)(d.Provider,{value:p},(0,t.createElement)(f.Provider,{children:r,value:{location:E,navigationType:o}}))}function v(e){let{children:n,location:r}=e;return function(e,n){w()||h(!1);let{matches:r}=(0,t.useContext)(p),i=r[r.length-1],s=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let a,l=b();if(n){var u;let e="string"==typeof n?c(n):n;"/"===o||(null==(u=e.pathname)?void 0:u.startsWith(o))||h(!1),a=e}else a=l;let d=a.pathname||"/",f=function(e,t,n){void 0===n&&(n="/");let r=R(("string"==typeof t?c(t):t).pathname||"/",n);if(null==r)return null;let i=k(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let e=0;null==s&&e<i.length;++e)s=N(i[e],r);return s}(e,{pathname:"/"===o?d:d.slice(o.length)||"/"});return function(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight(((r,i,s)=>(0,t.createElement)(p.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(m,null),value:{outlet:r,matches:n.concat(e.slice(0,s+1))}})),null)}(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:D([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:D([o,e.pathnameBase])}))),r)}(I(n),r)}function w(){return null!=(0,t.useContext)(f)}function b(){return w()||h(!1),(0,t.useContext)(f).location}const E=(0,t.createContext)(null);function _(e){let{matches:n}=(0,t.useContext)(p),{pathname:r}=b(),i=JSON.stringify(n.map((e=>e.pathnameBase)));return(0,t.useMemo)((()=>x(e,JSON.parse(i),r)),[e,i,r])}function I(e){let n=[];return t.Children.forEach(e,(e=>{if(!(0,t.isValidElement)(e))return;if(e.type===t.Fragment)return void n.push.apply(n,I(e.props.children));e.type!==g&&h(!1);let r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=I(e.props.children)),n.push(r)})),n}function k(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let s={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||h(!1),s.relativePath=s.relativePath.slice(r.length));let o=D([r,s.relativePath]),a=n.concat(s);e.children&&e.children.length>0&&(!0===e.index&&h(!1),k(e.children,t,a,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:a})})),t}const T=/^:\w+$/,S=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((e=>!S(e))).reduce(((e,t)=>e+(T.test(t)?3:""===t?1:10)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let e=0;e<n.length;++e){let o=n[e],a=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=A({path:o.relativePath,caseSensitive:o.caseSensitive,end:a},l);if(!u)return null;Object.assign(r,u.params);let c=o.route;s.push({params:r,pathname:D([i,u.pathname]),pathnameBase:D([i,u.pathnameBase]),route:c}),"/"!==u.pathnameBase&&(i=D([i,u.pathnameBase]))}return s}function A(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(t){return e}}(a[n]||""),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function x(e,t,n){let r,i="string"==typeof e?c(e):e,s=""===e||""===i.pathname?"/":i.pathname;if(null==s)r=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?c(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:O(r),hash:L(i)}}(i,r);return s&&"/"!==s&&s.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const D=e=>e.join("/").replace(/\/\/+/g,"/"),P=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const U=["onClick","reloadDocument","replace","state","target","to"],V=["aria-current","caseSensitive","className","end","style","to","children"];function j(e){let{basename:n,children:r,window:o}=e,h=(0,t.useRef)();null==h.current&&(h.current=function(e){function t(){var e=d.location,t=f.state||{};return[t.idx,{pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"}]}function n(e){return"string"==typeof e?e:u(e)}function r(e,t){return void 0===t&&(t=null),i({pathname:y.pathname,hash:"",search:""},"string"==typeof e?c(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function o(e){m=e,e=t(),g=e[0],y=e[1],v.call({action:m,location:y})}function h(e){f.go(e)}void 0===e&&(e={});var d=void 0===(e=e.window)?document.defaultView:e,f=d.history,p=null;d.addEventListener("popstate",(function(){if(p)w.call(p),p=null;else{var e=s.Pop,n=t(),r=n[0];if(n=n[1],w.length){if(null!=r){var i=g-r;i&&(p={action:e,location:n,retry:function(){h(-1*i)}},h(i))}}else o(e)}}));var m=s.Pop,g=(e=t())[0],y=e[1],v=l(),w=l();return null==g&&(g=0,f.replaceState(i({},f.state,{idx:g}),"")),{get action(){return m},get location(){return y},createHref:n,push:function e(t,i){var a=s.Push,l=r(t,i);if(!w.length||(w.call({action:a,location:l,retry:function(){e(t,i)}}),0)){var u=[{usr:l.state,key:l.key,idx:g+1},n(l)];l=u[0],u=u[1];try{f.pushState(l,"",u)}catch(e){d.location.assign(u)}o(a)}},replace:function e(t,i){var a=s.Replace,l=r(t,i);w.length&&(w.call({action:a,location:l,retry:function(){e(t,i)}}),1)||(l=[{usr:l.state,key:l.key,idx:g},n(l)],f.replaceState(l[0],"",l[1]),o(a))},go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(e){return v.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&d.addEventListener("beforeunload",a),function(){t(),w.length||d.removeEventListener("beforeunload",a)}}}}({window:o}));let d=h.current,[f,p]=(0,t.useState)({action:d.action,location:d.location});return(0,t.useLayoutEffect)((()=>d.listen(p)),[d]),(0,t.createElement)(y,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:d})}const q=(0,t.forwardRef)((function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:a,to:l}=e,f=F(e,U),m=function(e){w()||h(!1);let{basename:n,navigator:r}=(0,t.useContext)(d),{hash:i,pathname:s,search:o}=_(e),a=s;if("/"!==n){let t=function(e){return""===e||""===e.pathname?"/":"string"==typeof e?c(e).pathname:e.pathname}(e),r=null!=t&&t.endsWith("/");a="/"===s?n+(r?"/":""):D([n,s])}return r.createHref({pathname:a,search:o,hash:i})}(l),g=function(e,n){let{target:r,replace:i,state:s}=void 0===n?{}:n,o=function(){w()||h(!1);let{basename:e,navigator:n}=(0,t.useContext)(d),{matches:r}=(0,t.useContext)(p),{pathname:i}=b(),s=JSON.stringify(r.map((e=>e.pathnameBase))),o=(0,t.useRef)(!1);(0,t.useEffect)((()=>{o.current=!0}));let a=(0,t.useCallback)((function(t,r){if(void 0===r&&(r={}),!o.current)return;if("number"==typeof t)return void n.go(t);let a=x(t,JSON.parse(s),i);"/"!==e&&(a.pathname=D([e,a.pathname])),(r.replace?n.replace:n.push)(a,r.state)}),[e,n,s,i]);return a}(),a=b(),l=_(e);return(0,t.useCallback)((t=>{if(!(0!==t.button||r&&"_self"!==r||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t))){t.preventDefault();let n=!!i||u(a)===u(l);o(e,{replace:n,state:s})}}),[a,o,l,i,s,r,e])}(l,{replace:s,state:o,target:a});return(0,t.createElement)("a",M({},f,{href:m,onClick:function(e){r&&r(e),e.defaultPrevented||i||g(e)},ref:n,target:a}))})),z=(0,t.forwardRef)((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=e,c=F(e,V),h=b(),d=_(l),f=h.pathname,p=d.pathname;i||(f=f.toLowerCase(),p=p.toLowerCase());let m,g=f===p||!o&&f.startsWith(p)&&"/"===f.charAt(p.length),y=g?r:void 0;m="function"==typeof s?s({isActive:g}):[s,g?"active":null].filter(Boolean).join(" ");let v="function"==typeof a?a({isActive:g}):a;return(0,t.createElement)(q,M({},c,{"aria-current":y,className:m,ref:n,style:v,to:l}),"function"==typeof u?u({isActive:g}):u)})),B=function(e){var n=e.fillColor,r=void 0===n?"var(--blue)":n,i=e.width,s=void 0===i?"25px":i,o=e.height,a=void 0===o?"25px":o;return t.createElement("svg",{className:"icon",enableBackground:"new 0 0 56.693 56.693",height:a,id:"Layer_1",version:"1.1",viewBox:"0 0 56.693 56.693",width:s,fill:r},t.createElement("path",{d:"M52.837,15.065c-1.811,0.805-3.76,1.348-5.805,1.591c2.088-1.25,3.689-3.23,4.444-5.592c-1.953,1.159-4.115,2-6.418,2.454  c-1.843-1.964-4.47-3.192-7.377-3.192c-5.581,0-10.106,4.525-10.106,10.107c0,0.791,0.089,1.562,0.262,2.303  c-8.4-0.422-15.848-4.445-20.833-10.56c-0.87,1.492-1.368,3.228-1.368,5.082c0,3.506,1.784,6.6,4.496,8.412  c-1.656-0.053-3.215-0.508-4.578-1.265c-0.001,0.042-0.001,0.085-0.001,0.128c0,4.896,3.484,8.98,8.108,9.91  c-0.848,0.23-1.741,0.354-2.663,0.354c-0.652,0-1.285-0.063-1.902-0.182c1.287,4.015,5.019,6.938,9.441,7.019  c-3.459,2.711-7.816,4.327-12.552,4.327c-0.815,0-1.62-0.048-2.411-0.142c4.474,2.869,9.786,4.541,15.493,4.541  c18.591,0,28.756-15.4,28.756-28.756c0-0.438-0.009-0.875-0.028-1.309C49.769,18.873,51.483,17.092,52.837,15.065z"}))},$=function(e){var n=e.fillColor,r=void 0===n?"var(--blue)":n;return t.createElement("svg",{className:"icon",fill:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"60px",height:"60px"},"    ",t.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"}))},W=function(e){var n=e.active,r=e.setActive;return t.createElement("nav",{className:n?"mobile-menu":"mobile-menu none"},t.createElement("span",{onClick:function(){r(!n)},className:"material-icons close-icon"},"close"),t.createElement("ul",null,t.createElement("li",{onClick:function(){r(!n)}},t.createElement(z,{to:{pathname:""}},"Home")),t.createElement("li",{onClick:function(){r(!n)}},t.createElement(z,{to:"/about"},"About")),t.createElement("li",{onClick:function(){r(!n)}},t.createElement(z,{to:"/portfolio"},"Portfolio")),t.createElement("li",{onClick:function(){r(!n)}},t.createElement(z,{to:"/contact"},"Contact"))),t.createElement("div",{className:"social-media"},t.createElement("a",{href:"https://twitter.com/_mariamoraan",target:"_blank"},t.createElement(B,null)),t.createElement("a",{href:"https://github.com/mia-moran",target:"_blank"},t.createElement($,null))))};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const G=function(){var e=H((0,t.useState)(!1),2),n=e[0],r=e[1],i=H((0,t.useState)(window.location.pathname),2);return i[0],i[1],t.createElement("nav",{className:"menu"},t.createElement("h1",{className:"logo"},"María Morán"),t.createElement("span",{onClick:function(){r(!n)},className:"material-icons menu-icon"},"menu"),t.createElement("ul",{className:"navegation-menu-desktop"},t.createElement("li",null,t.createElement(z,{activeclassname:"active",to:{pathname:""}},"Home")),t.createElement("li",null,t.createElement(z,{to:"/about",activeclassname:"active"},"About")),t.createElement("li",null,t.createElement(z,{to:"/portfolio",activeclassname:"active"},"Portfolio")),t.createElement("li",null,t.createElement(z,{to:"/contact",activeclassname:"active"},"Contact"))),t.createElement(W,{active:n,setActive:r}))},Q=function(){return t.createElement("footer",null,t.createElement("nav",null,t.createElement("ul",null,t.createElement("li",null,t.createElement(q,{to:{pathname:""}},"Home")),t.createElement("li",null,t.createElement(q,{to:"/about"},"About")),t.createElement("li",null,t.createElement(q,{to:"/portfolio"},"Portfolio")),t.createElement("li",null,t.createElement(q,{to:"/contact"},"Contact"))),t.createElement("ul",null,t.createElement("li",null,t.createElement("a",{href:"https://twitter.com/_mariamoraan",target:"_blank"},"Twitter")),t.createElement("li",null,t.createElement("a",{href:"https://www.linkedin.com/in/maria-moran-luaces/",target:"_blank"},"Linkedin")),t.createElement("li",null,t.createElement("a",{href:"https://github.com/mia-moran",target:"_blank"},"Github")),t.createElement("li",null,t.createElement("a",{href:"https://www.instagram.com/_miamoraan/",target:"_blank"},"Instagram")))))},Y=function(e){var n=e.fillColor,r=void 0===n?"var(--blue)":n;return t.createElement("svg",{className:"icon",fill:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"60px",height:"60px"},"    ",t.createElement("path",{d:"M24,4H6C4.895,4,4,4.895,4,6v18c0,1.105,0.895,2,2,2h18c1.105,0,2-0.895,2-2V6C26,4.895,25.105,4,24,4z M10.954,22h-2.95 v-9.492h2.95V22z M9.449,11.151c-0.951,0-1.72-0.771-1.72-1.72c0-0.949,0.77-1.719,1.72-1.719c0.948,0,1.719,0.771,1.719,1.719 C11.168,10.38,10.397,11.151,9.449,11.151z M22.004,22h-2.948v-4.616c0-1.101-0.02-2.517-1.533-2.517 c-1.535,0-1.771,1.199-1.771,2.437V22h-2.948v-9.492h2.83v1.297h0.04c0.394-0.746,1.356-1.533,2.791-1.533 c2.987,0,3.539,1.966,3.539,4.522V22z"}))},J=function(e){var n=e.fillColor,r=void 0===n?"var(--blue)":n;return t.createElement("svg",{className:"icon",fill:r,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},t.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}))},X=function(e){var n=e.type,r=void 0===n?"twitter":n,i=e.text,s=void 0===i?"JOLA":i,o=e.link,a=void 0===o?"/":o,l={twitter:t.createElement(B,null),github:t.createElement($,null),linkedin:t.createElement(Y,null),mail:t.createElement(J,null)}[r];return t.createElement("a",{target:"_blank",href:a,className:"card"},l,s)},Z=function(e){var n=e.fillColor,r=void 0===n?"var(--light-blue)":n,i=e.w,s=void 0===i?"50vh":i,o=e.h,a=void 0===o?"50vh":o;return t.createElement("svg",{className:"blob",id:"visual",viewBox:"0 0 900 900",width:s,height:a,version:"1.1"},t.createElement("g",{transform:"translate(359.6156122111272 544.8528911967237)"},t.createElement("path",{d:"M334.9 -427.6C377 -363.7 315.1 -204.2 355.6 -51.3C396.1 101.5 539 247.6 502.5 270.5C465.9 293.3 249.8 192.9 121.3 168C-7.2 143.1 -48.1 193.7 -79.7 193.3C-111.2 192.9 -133.6 141.4 -185.4 89C-237.2 36.5 -318.5 -17 -326.9 -73C-335.3 -129 -270.8 -187.4 -204.2 -247C-137.6 -306.6 -68.8 -367.3 38.8 -413.5C146.3 -459.7 292.7 -491.5 334.9 -427.6",fill:r})))},ee=function(){return t.createElement("svg",{className:"ilustration",width:"794.1218",viewBox:"0 0 794.1218 505.34514"},t.createElement("path",{d:"M247.4579,701.19842c-12.25095-1.00787-23.067-9.87117-29.218-20.51384-2.06275-3.569-3.47609-8.25063-1.14018-11.64717a6.40928,6.40928,0,0,1,11.315,1.47119,62.04539,62.04539,0,0,1-.96485-12.64086c.09416-3.586.77176-7.64052,3.75358-9.6347,3.45928-2.31349,8.44549-.47663,10.96167,2.83815s3.19894,7.62671,3.80283,11.74426a10.83041,10.83041,0,0,1,12.03865-13.65713c5.06672.76515,9.03581,5.1519,10.58457,10.03641s1.06522,10.18071.06842,15.207c-1.16883,5.89373-3.06582,11.74062-6.481,16.68417s-8.488,8.929-14.37353,10.13822Z",transform:"translate(-202.9391 -197.32743)",fill:"#f2f2f2"}),t.createElement("path",{d:"M997.0609,303.32743a106.03391,106.03391,0,0,1-71,100.08c-.66016.23-1.33008.46-2,.67v-107.71h-138.77c.04-.67.08984-1.34.1499-2H924.0609v-21.04a5.002,5.002,0,0,0-5-5H790.98082c.23-.67.47021-1.34.73-2a106.01022,106.01022,0,0,1,205.3501,37Z",transform:"translate(-202.9391 -197.32743)",fill:"#f2f2f2"}),t.createElement("path",{d:"M919.0609,266.32743h-487a7.00778,7.00778,0,0,0-7,7v330a7.00778,7.00778,0,0,0,7,7h487a7.00779,7.00779,0,0,0,7-7v-330A7.00778,7.00778,0,0,0,919.0609,266.32743Zm5,337a5.002,5.002,0,0,1-5,5h-487a5.002,5.002,0,0,1-5-5v-330a5.002,5.002,0,0,1,5-5h487a5.002,5.002,0,0,1,5,5Z",transform:"translate(-202.9391 -197.32743)",fill:"#3f3d56"}),t.createElement("rect",{x:"223.1218",y:"97.03998",width:"499",height:"2",fill:"#3f3d56"}),t.createElement("circle",{cx:"240.1218",cy:"84",r:"6",fill:"#3f3d56"}),t.createElement("circle",{cx:"257.3718",cy:"84",r:"6",fill:"#3f3d56"}),t.createElement("circle",{cx:"274.6218",cy:"84",r:"6",fill:"#3f3d56"}),t.createElement("path",{d:"M562.0609,335.32743h-88a7.00778,7.00778,0,0,0-7,7v88a7.00778,7.00778,0,0,0,7,7h88a7.00779,7.00779,0,0,0,7-7v-88A7.00778,7.00778,0,0,0,562.0609,335.32743Zm5,95a5.002,5.002,0,0,1-5,5h-88a5.002,5.002,0,0,1-5-5v-88a5.002,5.002,0,0,1,5-5h88a5.002,5.002,0,0,1,5,5Z",transform:"translate(-202.9391 -197.32743)",fill:"#3f3d56"}),t.createElement("path",{d:"M720.0609,335.82743h-88a6.51259,6.51259,0,0,0-6.5,6.5v88a6.51259,6.51259,0,0,0,6.5,6.5h88a6.51259,6.51259,0,0,0,6.5-6.5v-88A6.51259,6.51259,0,0,0,720.0609,335.82743Z",transform:"translate(-202.9391 -197.32743)",fill:"var(--blue)"}),t.createElement("path",{d:"M878.0609,335.82743h-88a6.51259,6.51259,0,0,0-6.5,6.5v88a6.51259,6.51259,0,0,0,6.5,6.5h88a6.51259,6.51259,0,0,0,6.5-6.5v-88A6.51259,6.51259,0,0,0,878.0609,335.82743Z",transform:"translate(-202.9391 -197.32743)",fill:"#e6e6e6"}),t.createElement("path",{d:"M562.0609,467.82743h-88a6.51259,6.51259,0,0,0-6.5,6.5v88a6.51259,6.51259,0,0,0,6.5,6.5h88a6.51259,6.51259,0,0,0,6.5-6.5v-88A6.51259,6.51259,0,0,0,562.0609,467.82743Z",transform:"translate(-202.9391 -197.32743)",fill:"#e6e6e6"}),t.createElement("path",{d:"M720.0609,467.82743h-88a6.51259,6.51259,0,0,0-6.5,6.5v88a6.51259,6.51259,0,0,0,6.5,6.5h88a6.51259,6.51259,0,0,0,6.5-6.5v-88A6.51259,6.51259,0,0,0,720.0609,467.82743Z",transform:"translate(-202.9391 -197.32743)",fill:"var(--blue)"}),t.createElement("path",{d:"M878.0609,467.82743h-88a6.51259,6.51259,0,0,0-6.5,6.5v88a6.51259,6.51259,0,0,0,6.5,6.5h88a6.51259,6.51259,0,0,0,6.5-6.5v-88A6.51259,6.51259,0,0,0,878.0609,467.82743Z",transform:"translate(-202.9391 -197.32743)",fill:"#e6e6e6"}),t.createElement("path",{d:"M540.5609,482.32743h-88a6.50745,6.50745,0,0,1-6.5-6.5v-88a6.50744,6.50744,0,0,1,6.5-6.5h88a6.50745,6.50745,0,0,1,6.5,6.5v88A6.50745,6.50745,0,0,1,540.5609,482.32743Z",transform:"translate(-202.9391 -197.32743)",fill:"var(--light-blue)"}),t.createElement("polygon",{points:"202.746 492.088 214.466 488.491 206.17 441.573 188.872 446.881 202.746 492.088",fill:"#ffe5d9"}),t.createElement("path",{d:"M403.482,680.85789h38.53073a0,0,0,0,1,0,0v14.88687a0,0,0,0,1,0,0H418.36887A14.88686,14.88686,0,0,1,403.482,680.8579v0A0,0,0,0,1,403.482,680.85789Z",transform:"translate(825.89112 1024.95669) rotate(162.93912)",fill:"#2f2e41"}),t.createElement("polygon",{points:"102.748 492.358 115.008 492.357 120.84 445.069 102.746 445.07 102.748 492.358",fill:"#ffe5d9"}),t.createElement("path",{d:"M303.06,686.18167h38.53073a0,0,0,0,1,0,0v14.88687a0,0,0,0,1,0,0H317.94689A14.88686,14.88686,0,0,1,303.06,686.18168v0a0,0,0,0,1,0,0Z",transform:"translate(441.74335 1189.90807) rotate(179.99738)",fill:"#2f2e41"}),t.createElement("path",{d:"M304.80743,552.60788a9.16224,9.16224,0,0,1,.318-14.04558l9.50536-119.69459,19.33086,4.8297L318.48407,540.45594a9.21188,9.21188,0,0,1-13.67664,12.15194Z",transform:"translate(-202.9391 -197.32743)",fill:"#ffe5d9"}),t.createElement("circle",{cx:"140.57921",cy:"150.55523",r:"24.56103",fill:"#ffe5d9"}),t.createElement("path",{d:"M322.16166,415.18605c-5.54194-7.60815-5.71269-18.08683.25708-25.36412,3.89587-4.74914,10.41248-8.54951,21.29248-8.54951,29,0,40,23,40,23s12,22,5,42-7,22-7,22l-46-4S343.47142,444.44079,322.16166,415.18605Z",transform:"translate(-202.9391 -197.32743)",fill:"#4A5E5D"}),t.createElement("path",{d:"M307.9766,435.09469l9.90967-32.4209a15.50189,15.50189,0,0,1,21.93018-9.24512h0a15.53,15.53,0,0,1,7.08789,20.00977L334.306,442.12984Z",transform:"translate(-202.9391 -197.32743)",fill:"#4A5E5D"}),t.createElement("path",{d:"M380.71122,463.27242l39,202-21,6-51-133-23,136-22,3s-9.65032-179.945,33-213Z",transform:"translate(-202.9391 -197.32743)",fill:"#ddbea9"}),t.createElement("path",{d:"M436.84246,453.80485a10.52712,10.52712,0,0,0-.96265,1.3493l-49.53505,2.40166-9.53834-29.11951-16.56185,7.87143,15.58776,43.3713,61.26206-11.98076a10.49579,10.49579,0,1,0-.25193-13.89342Z",transform:"translate(-202.9391 -197.32743)",fill:"#ffe5d9"}),t.createElement("path",{d:"M353.31425,407.17672a15.50085,15.50085,0,0,1,16.3623-17.28223h0a15.52954,15.52954,0,0,1,14.53467,15.47168v31.335l-26.936,4.14453Z",transform:"translate(-202.9391 -197.32743)",fill:"#4A5E5D"}),t.createElement("path",{d:"M348.91975,372.66645c-3.68637-.01605-6.53017-3.89721-6.36494-7.57991s2.63867-6.92285,5.61866-9.09293,6.47479-3.49191,9.798-5.08739,6.61743-3.58561,8.66924-6.64822a14.71557,14.71557,0,0,0,1.02332-13.50438,21.66865,21.66865,0,0,0-9.3332-10.22418,28.37777,28.37777,0,0,0-37.60707,8.25038l-4.20808,11.45787c-4.28786,5.15613-4.968,12.81333-2.33217,18.97968s8.24814,10.80579,14.58112,13.0114a35.79392,35.79392,0,0,0,19.8411.59488",transform:"translate(-202.9391 -197.32743)",fill:"#22223b"}),t.createElement("path",{d:"M326.47317,334.50613c-1.80894-2.89931-4.94439-4.74325-8.18587-5.82543a25.72431,25.72431,0,0,0-33.83244,23.00283c-.34357,6.31437,1.63365,12.48912,2.79545,18.70518s1.39291,13.08161-2.03446,18.396c-2.61053,4.0478-6.96387,6.59634-11.26083,8.77251-3.58128,1.81371-7.45507,3.51578-11.45314,3.1544s-8.01642-3.52812-7.91033-7.54108a32.0544,32.0544,0,0,0-2.68163,9.08033c-.28127,3.15593.49659,6.56125,2.77606,8.76193,3.3131,3.19859,8.56255,2.9646,13.1157,2.27441,9.85694-1.49417,19.83818-4.29543,27.62552-10.52031s12.95465-16.47494,10.90388-26.23127c-.85666-4.07547-2.86993-7.796-4.49677-11.62968s-2.89692-8.027-2.14959-12.124a14.73513,14.73513,0,0,1,7.49255-9.98176,19.60142,19.60142,0,0,1,12.52266-1.899c2.79906.45932,6.29406,1.17251,7.95419-1.12742a4.50752,4.50752,0,0,0-.09367-4.80858,13.24754,13.24754,0,0,0-3.59259-3.5596",transform:"translate(-202.9391 -197.32743)",fill:"#22223b"}),t.createElement("path",{d:"M511.4238,702.67257h-307.294a1.19069,1.19069,0,1,1,0-2.38137h307.294a1.19069,1.19069,0,1,1,0,2.38137Z",transform:"translate(-202.9391 -197.32743)",fill:"#3f3d56"}))},te=function(){return t.createElement("section",{className:"cover-section",id:"cover"},t.createElement(Z,null),t.createElement("div",{className:"cover-left"},t.createElement(ee,null),t.createElement("h2",null,"María Morán"),t.createElement("h1",null,"Software Engineer"),t.createElement("p",null,"¡Hola! Me llamo María Morán y soy Ingeniera Informática. En la universidad desarrollé una gran pasión por el diseño, que me permitió complementar mis conocimeintos de programación y realizar varios proyectos interesantes de desarrollo web y móvil. Creo que el diseño y la ingeniería deben ir de la mano para lograr productos eficientes, usables y que causen impacto en las personas."),t.createElement(q,{to:"/about"},"Saber más")),t.createElement("div",{className:"cover-right"},t.createElement(X,{type:"twitter",text:"@_mariamoraan",link:"https://twitter.com/_mariamoraan"}),t.createElement(X,{type:"github",text:"mia-moran",link:"https://github.com/mia-moran"}),t.createElement(X,{type:"linkedin",text:"María Morán Luaces",link:"https://www.linkedin.com/in/maria-moran-luaces/"})))},ne=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ne(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw Error();const l=i<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ie=function(e){return function(e){const t=ne(e);return re.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function se(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=se(e[n],t[n]));return e}class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function le(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ae())}function ue(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ce(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function de(){const e=ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function fe(){return"object"==typeof indexedDB}class pe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(ge,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new pe(r,o,n)}}const ge=/\{\$([^}]+)}/g;function ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ve(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(we(n)&&we(s)){if(!ve(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function we(e){return null!==e&&"object"==typeof e}function be(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ee(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function _e(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ie(e,t){const n=new ke(e,t);return n.subscribe.bind(n)}class ke{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Te),void 0===r.error&&(r.error=Te),void 0===r.complete&&(r.complete=Te);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Te(){}function Se(e){return e&&e._delegate?e._delegate:e}class Ce{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ne="[DEFAULT]";class Ae{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new oe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Ne?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:Ne:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ae(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Re=[];var De;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(De||(De={}));const Pe={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Oe=De.INFO,Le={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Me=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Le[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Fe{constructor(e){this.name=e,this._logLevel=Oe,this._logHandler=Me,this._userLogHandler=null,Re.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Pe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}class Ue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ve="@firebase/app",je="0.7.10",qe=new Fe("@firebase/app"),ze="[DEFAULT]",Be={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$e=new Map,We=new Map;function He(e,t){try{e.container.addComponent(t)}catch(n){qe.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ke(e,t){e.container.addOrOverwriteComponent(t)}function Ge(e){const t=e.name;if(We.has(t))return qe.debug(`There were multiple attempts to register component ${t}.`),!1;We.set(t,e);for(const t of $e.values())He(t,e);return!0}function Qe(e,t){return e.container.getProvider(t)}function Ye(e,t,n=ze){Qe(e,t).clearInstance(n)}function Je(){We.clear()}const Xe=new me("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ze{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ce("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xe.create("app-deleted",{appName:this._name})}}const et="9.6.0";function tt(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:ze,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Xe.create("bad-app-name",{appName:String(r)});const i=$e.get(r);if(i){if(ve(e,i.options)&&ve(n,i.config))return i;throw Xe.create("duplicate-app",{appName:r})}const s=new xe(r);for(const e of We.values())s.addComponent(e);const o=new Ze(e,n,s);return $e.set(r,o),o}function nt(e=ze){const t=$e.get(e);if(!t)throw Xe.create("no-app",{appName:e});return t}function rt(){return Array.from($e.values())}async function it(e){const t=e.name;$e.has(t)&&($e.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function st(e,t,n){var r;let i=null!==(r=Be[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void qe.warn(e.join(" "))}Ge(new Ce(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function ot(e,t){if(null!==e&&"function"!=typeof e)throw Xe.create("invalid-log-argument");!function(e,t){for(const n of Re){let r=null;t&&t.level&&(r=Pe[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const s=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:De[n].toLowerCase(),message:s,args:i,type:t.name})}}}(e,t)}function at(e){var t;t=e,Re.forEach((e=>{e.setLogLevel(t)}))}Ge(new Ce("platform-logger",(e=>new Ue(e)),"PRIVATE")),st(Ve,je,""),st(Ve,je,"esm2017"),st("fire-js","");class lt{constructor(e,t){this._delegate=e,this.firebase=t,He(e,new Ce("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),it(this._delegate))))}_getService(e,t=ze){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=ze){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){He(this._delegate,e)}_addOrOverwriteComponent(e){Ke(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ut=new me("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ct=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const s=tt(e,i);if(ye(n,s.name))return n[s.name];const o=new t(s,r);return n[s.name]=o,o},app:i,registerVersion:st,setLogLevel:at,onLog:ot,apps:null,SDK_VERSION:et,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Ge(e)&&"PUBLIC"===e.type){const o=(e=i())=>{if("function"!=typeof e[s])throw ut.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&se(o,e.serviceProps),r[s]=o,t.prototype[s]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ye(n,e=e||ze))throw ut.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(lt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){se(n,e)},createSubscribe:Ie,ErrorFactory:me,deepExtend:se}),n}(),ht=new Fe("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ht.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ht.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=ct;function ft(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}st("@firebase/app-compat","0.1.11",void 0),dt.registerVersion("firebase","9.6.0","app-compat"),Object.create,Object.create;const pt=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},mt=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gt=new me("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yt=new Fe("@firebase/auth");function vt(e,...t){yt.logLevel<=De.ERROR&&yt.error(`Auth (${et}): ${e}`,...t)}function wt(e,...t){throw It(e,...t)}function bt(e,...t){return It(e,...t)}function Et(e,t,n){const r=Object.assign(Object.assign({},mt()),{[t]:n});return new me("auth","Firebase",r).create(t,{appName:e.name})}function _t(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wt(e,"argument-error"),Et(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function It(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return gt.create(e,...t)}function kt(e,t,...n){if(!e)throw It(t,...n)}function Tt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vt(t),new Error(t)}function St(e,t){e||Tt(t)}const Ct=new Map;function Nt(e){St(e instanceof Function,"Expected a class definition");let t=Ct.get(e);return t?(St(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ct.set(e,t),t)}function At(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xt(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Dt{constructor(e,t){this.shortDelay=e,this.longDelay=t,St(t>e,"Short delay should be less than long delay!"),this.isMobile=le()||he()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||ce()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Pt(e,t){St(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ot{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mt=new Dt(3e4,6e4);function Ft(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ut(e,t,n,r,i={}){return Vt(e,i,(()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=be(Object.assign({key:e.config.apiKey},s)).slice(1),a=new(Ot.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&a.set("X-Firebase-Locale",e.languageCode),Ot.fetch()(qt(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Vt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lt),t);try{const t=new zt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Bt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Bt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Bt(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Et(e,a,o);wt(e,a)}}catch(t){if(t instanceof pe)throw t;wt(e,"network-request-failed")}}async function jt(e,t,n,r,i={}){const s=await Ut(e,t,n,r,i);return"mfaPendingCredential"in s&&wt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function qt(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Pt(e.config,i):`${e.config.apiScheme}://${i}`}class zt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(bt(this.auth,"timeout"))),Mt.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bt(e,t,r);return i.customData._tokenResponse=n,i}function $t(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Wt(e){return 1e3*Number(e)}function Ht(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return re.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(vt("Failed to decode base64 JWT payload"),null)}catch(e){return vt("Caught error parsing JWT payload as JSON",e),null}}async function Kt(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof pe&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Gt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class Qt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$t(this.lastLoginAt),this.creationTime=$t(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Kt(e,async function(e,t){return Ut(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));kt(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=ft(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qt(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){kt(e.idToken,"internal-error"),kt(void 0!==e.idToken,"internal-error"),kt(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ht(e);return kt(t,"internal-error"),kt(void 0!==t.exp,"internal-error"),kt(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return kt(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Vt(e,{},(()=>{const n=be({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=qt(e,r,"/v1/token",`key=${i}`);return Ot.fetch()(s,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Jt;return n&&(kt("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(kt("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(kt("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jt,this.toJSON())}_performRefresh(){return Tt("not implemented")}}function Xt(e,t){kt("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Zt{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ft(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new Qt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Kt(this,this.stsTokenManager.getToken(this.auth,e));return kt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Se(e),r=await n.getIdToken(t),i=Ht(r);kt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$t(Wt(i.auth_time)),issuedAtTime:$t(Wt(i.iat)),expirationTime:$t(Wt(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Se(e);await Yt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(kt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Yt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Kt(this,async function(e,t){return Ut(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:_}=t;kt(v&&_,e,"internal-error");const I=Jt.fromJSON(this.name,_);kt("string"==typeof v,e,"internal-error"),Xt(c,e.name),Xt(h,e.name),kt("boolean"==typeof w,e,"internal-error"),kt("boolean"==typeof b,e,"internal-error"),Xt(d,e.name),Xt(f,e.name),Xt(p,e.name),Xt(m,e.name),Xt(g,e.name),Xt(y,e.name);const k=new Zt({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(k.providerData=E.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new Jt;r.updateFromServerResponse(t);const i=new Zt({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Yt(i),i}}class en{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}en.type="NONE";const tn=en;function nn(e,t,n){return`firebase:${e}:${t}:${n}`}class rn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=nn(this.userKey,r.apiKey,i),this.fullPersistenceKey=nn("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new rn(Nt(tn),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Nt(tn);const s=nn(n,e.config.apiKey,e.name);let o=null;for(const n of t)try{const t=await n._get(s);if(t){const r=Zt._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new rn(i,e,n)):new rn(i,e,n)}}function sn(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(un(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(on(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hn(t))return"Blackberry";if(dn(t))return"Webos";if(an(t))return"Safari";if((t.includes("chrome/")||ln(t))&&!t.includes("edge/"))return"Chrome";if(cn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function on(e=ae()){return/firefox\//i.test(e)}function an(e=ae()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ln(e=ae()){return/crios\//i.test(e)}function un(e=ae()){return/iemobile/i.test(e)}function cn(e=ae()){return/android/i.test(e)}function hn(e=ae()){return/blackberry/i.test(e)}function dn(e=ae()){return/webos/i.test(e)}function fn(e=ae()){return/iphone|ipad|ipod/i.test(e)}function pn(e=ae()){return fn(e)||cn(e)||dn(e)||hn(e)||/windows phone/i.test(e)||un(e)}function mn(e,t=[]){let n;switch(e){case"Browser":n=sn(ae());break;case"Worker":n=`${sn(ae())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${et}/${r}`}class gn{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vn(this),this.idTokenSubscription=new vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nt(t)),this._initializationPromise=this.queue((async()=>{var n,r;this._deleted||(this.persistenceManager=await rn.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)))})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yt(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Se(e):null;return t&&kt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&kt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Nt(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new me("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nt(e)||this._popupRedirectResolver;kt(t,this,"argument-error"),this.redirectPersistenceManager=await rn.create(this,[Nt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return kt(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function yn(e){return Se(e)}class vn{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ie((e=>this.observer=e))}get next(){return kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function bn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class En{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tt("not implemented")}_getIdTokenResponse(e){return Tt("not implemented")}_linkToIdToken(e,t){return Tt("not implemented")}_getReauthenticationResolver(e){return Tt("not implemented")}}async function _n(e,t){return Ut(e,"POST","/v1/accounts:resetPassword",Ft(e,t))}async function In(e,t){return Ut(e,"POST","/v1/accounts:update",t)}async function kn(e,t){return Ut(e,"POST","/v1/accounts:sendOobCode",Ft(e,t))}class Tn extends En{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Tn(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Tn(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return jt(e,"POST","/v1/accounts:signInWithPassword",Ft(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return jt(e,"POST","/v1/accounts:signInWithEmailLink",Ft(e,t))}(e,{email:this._email,oobCode:this._password});default:wt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return In(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return jt(e,"POST","/v1/accounts:signInWithEmailLink",Ft(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:wt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Sn(e,t){return jt(e,"POST","/v1/accounts:signInWithIdp",Ft(e,t))}class Cn extends En{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ft(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Cn(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Sn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Sn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=be(t)}return e}}const Nn={USER_NOT_FOUND:"user-not-found"};class An extends En{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new An({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new An({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return jt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ft(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await jt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ft(e,t));if(n.temporaryProof)throw Bt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return jt(e,"POST","/v1/accounts:signInWithPhoneNumber",Ft(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Nn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new An({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class xn{constructor(e){var t,n,r,i,s,o;const a=Ee(_e(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);kt(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Ee(_e(e)).link,n=t?Ee(_e(t)).deep_link_id:null,r=Ee(_e(e)).deep_link_id;return(r?Ee(_e(r)).link:null)||r||n||t||e}(e);try{return new xn(t)}catch(e){return null}}}class Rn{constructor(){this.providerId=Rn.PROVIDER_ID}static credential(e,t){return Tn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=xn.parseLink(t);return kt(n,"argument-error"),Tn._fromEmailAndCode(e,n.code,n.tenantId)}}Rn.PROVIDER_ID="password",Rn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Rn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pn extends Dn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class On extends Pn{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return kt("providerId"in t&&"signInMethod"in t,"argument-error"),Cn._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return kt(e.idToken||e.accessToken,"argument-error"),Cn._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return On.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return On.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new On(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(e){return null}}}class Ln extends Pn{constructor(){super("facebook.com")}static credential(e){return Cn._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ln.credentialFromTaggedObject(e)}static credentialFromError(e){return Ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ln.credential(e.oauthAccessToken)}catch(e){return null}}}Ln.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ln.PROVIDER_ID="facebook.com";class Mn extends Pn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cn._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Mn.credential(t,n)}catch(e){return null}}}Mn.GOOGLE_SIGN_IN_METHOD="google.com",Mn.PROVIDER_ID="google.com";class Fn extends Pn{constructor(){super("github.com")}static credential(e){return Cn._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fn.credentialFromTaggedObject(e)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Fn.credential(e.oauthAccessToken)}catch(e){return null}}}Fn.GITHUB_SIGN_IN_METHOD="github.com",Fn.PROVIDER_ID="github.com";class Un extends En{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Sn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Sn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sn(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Un(n,i):null}static _create(e,t){return new Un(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vn extends Dn{constructor(e){kt(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Vn.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Vn.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Un.fromJSON(e);return kt(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Un._create(n,t)}catch(e){return null}}}class jn extends Pn{constructor(){super("twitter.com")}static credential(e,t){return Cn._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return jn.credential(t,n)}catch(e){return null}}}async function qn(e,t){return jt(e,"POST","/v1/accounts:signUp",Ft(e,t))}jn.TWITTER_SIGN_IN_METHOD="twitter.com",jn.PROVIDER_ID="twitter.com";class zn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Zt._fromIdTokenResponse(e,n,r),s=Bn(n);return new zn({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Bn(n);return new zn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Bn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class $n extends pe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,$n.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new $n(e,t,n,r)}}function Wn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw $n._fromErrorAndOperation(e,n,t,r);throw n}))}function Hn(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Kn(e,t,n=!1){const r=await Kt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zn._forOperation(e,"link",r)}async function Gn(e,t,n){await Yt(t);const r=!1===e?"provider-already-linked":"no-such-provider";kt(Hn(t.providerData).has(n)===e,t.auth,r)}async function Qn(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await Kt(e,Wn(r,i,t,e),n);kt(s.idToken,r,"internal-error");const o=Ht(s.idToken);kt(o,r,"internal-error");const{sub:a}=o;return kt(e.uid===a,r,"user-mismatch"),zn._forOperation(e,i,s)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&wt(r,"user-mismatch"),e}}async function Yn(e,t,n=!1){const r="signIn",i=await Wn(e,r,t),s=await zn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Jn(e,t){return Yn(yn(e),t)}async function Xn(e,t){const n=Se(e);return await Gn(!1,n,t.providerId),Kn(n,t)}async function Zn(e,t){return Qn(Se(e),t)}class er{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?tr._fromServerResponse(e,t):wt(e,"internal-error")}}class tr extends er{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new tr(t)}}function nr(e,t,n){var r;kt((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),kt(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(kt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(kt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function rr(e,t){const n=Se(e),r=await _n(n,{oobCode:t}),i=r.requestType;switch(kt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":kt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":kt(r.mfaInfo,n,"internal-error");default:kt(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=er._fromServerResponse(yn(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function ir(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Kt(e,In(r,i));await e._updateTokensIfNecessary(s,!0)}class sr{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class or extends sr{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ar extends sr{constructor(e,t){super(e,"facebook.com",t)}}class lr extends or{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class ur extends sr{constructor(e,t){super(e,"google.com",t)}}class cr extends or{constructor(e,t,n){super(e,"twitter.com",t,n)}}function hr(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Ht(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new sr(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ar(s,i);case"github.com":return new lr(s,i);case"google.com":return new ur(s,i);case"twitter.com":return new cr(s,i,e.screenName||null);case"custom":case"anonymous":return new sr(s,null);default:return new sr(s,r,i)}}(n)}class dr{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new dr("enroll",e)}static _fromMfaPendingCredential(e){return new dr("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return dr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return dr._fromIdtoken(e.multiFactorSession.idToken)}return null}}class fr{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=yn(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>er._fromServerResponse(n,e)));kt(r.mfaPendingCredential,n,"internal-error");const s=dr._fromMfaPendingCredential(r.mfaPendingCredential);return new fr(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await zn._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return kt(t.user,n,"internal-error"),zn._forOperation(t.user,t.operationType,o);default:wt(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class pr{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>er._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new pr(e)}async getSession(){return dr._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await Kt(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await Kt(this.user,(i=this.user.auth,s={idToken:n,mfaEnrollmentId:t},Ut(i,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(i,s))));var i,s;this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const mr=new WeakMap,gr="__sak";class yr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gr,"1"),this.storage.removeItem(gr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class vr extends yr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=ae();return an(e)||fn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=pn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);de()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vr.type="LOCAL";const wr=vr;class br extends yr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}br.type="SESSION";const Er=br;class _r{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new _r(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ir(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}_r.receivers=[];class kr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Ir("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Tr(){return window}function Sr(){return void 0!==Tr().WorkerGlobalScope&&"function"==typeof Tr().importScripts}const Cr="firebaseLocalStorageDb",Nr="firebaseLocalStorage",Ar="fbase_key";class xr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Rr(e,t){return e.transaction([Nr],t?"readwrite":"readonly").objectStore(Nr)}function Dr(){const e=indexedDB.open(Cr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Nr,{keyPath:Ar})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Nr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Cr);return new xr(e).toPromise()}(),t(await Dr()))}))}))}async function Pr(e,t,n){const r=Rr(e,!0).put({[Ar]:t,value:n});return new xr(r).toPromise()}function Or(e,t){const n=Rr(e,!0).delete(t);return new xr(n).toPromise()}class Lr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Dr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_r._getInstance(Sr()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new kr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dr();return await Pr(e,gr,"1"),await Or(e,gr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Pr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Rr(e,!1).get(t),r=await new xr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Or(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Rr(e,!1).getAll();return new xr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Lr.type="LOCAL";const Mr=Lr;function Fr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=bt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ur(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Vr=1e12;class jr{constructor(e){this.auth=e,this.counter=Vr,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new qr(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Vr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Vr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Vr;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class qr{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;kt(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zr=Ur("rcb"),Br=new Dt(3e4,6e4);class $r{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Tr().grecaptcha}load(e,t=""){return kt(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Tr().grecaptcha):new Promise(((n,r)=>{const i=Tr().setTimeout((()=>{r(bt(e,"network-request-failed"))}),Br.get());Tr()[zr]=()=>{Tr().clearTimeout(i),delete Tr()[zr];const s=Tr().grecaptcha;if(!s)return void r(bt(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Fr(`https://www.google.com/recaptcha/api.js??${be({onload:zr,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(bt(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Tr().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wr{async load(e){return new jr(e)}clearedOneInstance(){}}const Hr="recaptcha",Kr={theme:"light",type:"image"};class Gr{constructor(e,t=Object.assign({},Kr),n){this.parameters=t,this.type=Hr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(n),this.isInvisible="invisible"===this.parameters.size,kt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;kt(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wr:new $r,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){kt(!this.parameters.sitekey,this.auth,"argument-error"),kt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),kt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=Tr()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){kt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){kt(xt()&&!Sr(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ut(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);kt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return kt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=An._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Yr(e,t,n){var r;const i=await n.verify();try{let s;if(kt("string"==typeof i,e,"argument-error"),kt(n.type===Hr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){kt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ut(e,"POST","/v2/accounts/mfaEnrollment:start",Ft(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{kt("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;kt(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ut(e,"POST","/v2/accounts/mfaSignIn:start",Ft(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ut(e,"POST","/v1/accounts:sendVerificationCode",Ft(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Jr{constructor(e){this.providerId=Jr.PROVIDER_ID,this.auth=yn(e)}verifyPhoneNumber(e,t){return Yr(this.auth,e,Se(t))}static credential(e,t){return An._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Jr.credentialFromTaggedObject(t)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?An._fromTokenResponse(t,n):null}}function Xr(e,t){return t?Nt(t):(kt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Jr.PROVIDER_ID="phone",Jr.PHONE_SIGN_IN_METHOD="phone";class Zr extends En{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ei(e){return Yn(e.auth,new Zr(e),e.bypassAuthState)}function ti(e){const{auth:t,user:n}=e;return kt(n,t,"internal-error"),Qn(n,new Zr(e),e.bypassAuthState)}async function ni(e){const{auth:t,user:n}=e;return kt(n,t,"internal-error"),Kn(n,new Zr(e),e.bypassAuthState)}class ri{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ei;case"linkViaPopup":case"linkViaRedirect":return ni;case"reauthViaPopup":case"reauthViaRedirect":return ti;default:wt(this.auth,"internal-error")}}resolve(e){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ii=new Dt(2e3,1e4);class si extends ri{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,si.currentPopupAction&&si.currentPopupAction.cancel(),si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return kt(e,this.auth,"internal-error"),e}async onExecution(){St(1===this.filter.length,"Popup operations only handle one event");const e=Ir();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(bt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(bt(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,ii.get())};e()}}si.currentPopupAction=null;const oi=new Map;class ai extends ri{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=oi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ci(t),r=ui(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}oi.set(this.auth._key(),e)}return this.bypassAuthState||oi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function li(e,t){return ui(e)._set(ci(t),"true")}function ui(e){return Nt(e._redirectPersistence)}function ci(e){return nn("pendingRedirect",e.config.apiKey,e.name)}async function hi(e,t,n=!1){const r=yn(e),i=Xr(r,t),s=new ai(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function di(e){const t=Ir(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class fi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!mi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pi(e))}saveEventToCache(e){this.cachedEventUids.add(pi(e)),this.lastProcessedEventTime=Date.now()}}function pi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function mi({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function gi(e,t={}){return Ut(e,"GET","/v1/projects",t)}const yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vi=/^https?/;function wi(e){const t=At(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!vi.test(n))return!1;if(yi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bi=new Dt(3e4,6e4);function Ei(){const e=Tr().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let _i=null;function Ii(e){return _i=_i||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Ei(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ei(),n(bt(e,"network-request-failed"))},timeout:bi.get()})}if(null===(i=null===(r=Tr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Tr().gapi)||void 0===s?void 0:s.load)){const t=Ur("iframefcb");return Tr()[t]=()=>{gapi.load?o():n(bt(e,"network-request-failed"))},Fr(`https://apis.google.com/js/api.js?onload=${t}`)}o()}})).catch((e=>{throw _i=null,e}))}(e),_i}const ki=new Dt(5e3,15e3),Ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Si=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ci(e){const t=e.config;kt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Pt(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:et},i=Si.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${be(r).slice(1)}`}const Ni={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ai{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function xi(e,t,n,r,i,s){kt(e.config.authDomain,e,"auth-domain-config-required"),kt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:et,eventId:i};if(t instanceof Dn){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Pn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?Pt(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${be(a).slice(1)}`}const Ri="webStorageSupport";class Di extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tt("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Di(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ut(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ut(e,"POST","/v2/accounts/mfaSignIn:finalize",Ft(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Pi{constructor(){}static assertion(e){return Di._fromCredential(e)}}Pi.FACTOR_ID="phone";var Oi,Li="@firebase/auth",Mi="0.19.3";class Fi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ui(){return window}Oi="Browser",Ge(new Ce("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{kt(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),kt(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:Oi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mn(Oi)},s=new gn(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nt);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ge(new Ce("auth-internal",(e=>{return t=yn(e.getProvider("auth").getImmediate()),new Fi(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),st(Li,Mi,void 0),st(Li,Mi,"esm2017");class Vi extends fi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ji(e){const t=await zi()._get(Bi(e));return t&&await zi()._remove(Bi(e)),t}function qi(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function zi(){return Nt(wr)}function Bi(e){return nn("authEvent",e.config.apiKey,e.name)}function $i(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Ee(n.join("?"))}function Wi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bt("no-auth-event")}}function Hi(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ki(e=ae()){return!("file:"!==Hi()&&"ionic:"!==Hi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gi(){try{const e=self.localStorage,t=Ir();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=ae()){return de()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=ae()){return/Edge\/\d+/.test(e)}(e)}()||fe()}catch(e){return Qi()&&fe()}return!1}function Qi(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Yi(){return("http:"===Hi()||"https:"===Hi()||ce()||Ki())&&!(he()||ue())&&Gi()&&!Qi()}function Ji(){return Ki()&&"undefined"!=typeof document}const Xi={LOCAL:"local",NONE:"none",SESSION:"session"},Zi=kt,es="persistence";async function ts(e){await e._initializationPromise;const t=ns(),n=nn(es,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function ns(){return"undefined"!=typeof window?window:null}const rs=kt;class is{constructor(){this.browserResolver=Nt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Er,this._completeRedirectFn=hi}async _openPopup(e,t,n,r){var i;return St(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ni),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ae().toLowerCase();n&&(a=ln(u)?"_blank":n),on(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=ae()){var t;return fn(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Ai(null);const h=window.open(t||"",a,c);kt(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Ai(h)}(e,xi(e,t,n,At(),r),Ir())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=xi(e,t,n,At(),r),Tr().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(St(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await Ii(e),n=Tr().gapi;return kt(n,e,"internal-error"),t.open({where:document.body,url:Ci(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ti,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=bt(e,"network-request-failed"),s=Tr().setTimeout((()=>{r(i)}),ki.get());function o(){Tr().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new fi(e);return t.register("authEvent",(t=>(kt(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ri,{type:Ri},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),wt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gi(e);for(const e of t)try{if(wi(e))return}catch(e){}wt(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pn()||an()||fn()}}),this.cordovaResolver=Nt(class{constructor(){this._redirectPersistence=Er,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hi}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Vi(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){wt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,u,c;const h=Ui();kt("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),kt(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),kt("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kt("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),kt("function"==typeof(null===(c=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),oi.clear(),await this._originValidation(e);const s=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:qi(),postBody:null,tenantId:e.tenantId,error:bt(e,"no-auth-event")}}(e,n,r);await function(e,t){return zi()._set(Bi(e),t)}(e,s);const o=await async function(e,t,n){var r;const{BuildInfo:i}=Ui();St(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(St(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return fn()?o.ibi=i.packageName:cn()?o.apn=i.packageName:wt(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,xi(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}(e,s,t);return async function(e,t,n){const{cordova:r}=Ui();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{o(bt(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),cn()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=Ui();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=ae()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Ui(),n={};fn()?n.iosBundleId=t.packageName:cn()?n.androidPackageName=t.packageName:wt(e,"operation-not-supported-in-this-environment"),await gi(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Ui(),s=setTimeout((async()=>{await ji(e),t.onEvent(Wi())}),500),o=async n=>{clearTimeout(s);const r=await ji(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=$i(e),n=t.link?decodeURIComponent(t.link):void 0,r=$i(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return $i(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=$i(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?bt(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Wi())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,l=`${i.packageName.toLowerCase()}://`;Ui().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=Er,this._completeRedirectFn=hi}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Ji()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rs(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Ji()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function ss(e){return e.unwrap()}function os(e){const{_tokenResponse:t}=e instanceof pe?e.customData:e;if(!t)return null;if(!(e instanceof pe)&&"temporaryProof"in t&&"phoneNumber"in t)return Jr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=Mn;break;case"facebook.com":r=Ln;break;case"github.com":r=Fn;break;case"twitter.com":r=jn;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Un._create(n,o):Cn._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new On(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof pe?r.credentialFromError(e):r.credentialFromResult(e)}function as(e,t){return t.catch((t=>{throw t instanceof pe&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new us(e,function(e,t){var n;const r=Se(e),i=t;return kt(t.customData.operationType,r,"argument-error"),kt(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),fr._fromError(r,i)}(e,t));else if(r){const e=os(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,os(r)),additionalUserInfo:hr(e),user:cs.getOrCreate(n)};var r}))}async function ls(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>as(e,n.confirm(t))}}class us{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return as(ss(this.auth),this.resolver.resolveSignIn(e))}}class cs{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Se(e);return mr.has(t)||mr.set(t,pr._fromUser(t)),mr.get(t)}(e)}static getOrCreate(e){return cs.USER_MAP.has(e)||cs.USER_MAP.set(e,new cs(e)),cs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return as(this.auth,Xn(this._delegate,e))}async linkWithPhoneNumber(e,t){return ls(this.auth,async function(e,t,n){const r=Se(e);await Gn(!1,r,"phone");const i=await Yr(r.auth,t,Se(n));return new Qr(i,(e=>Xn(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return as(this.auth,async function(e,t,n){const r=Se(e);_t(r.auth,t,Dn);const i=Xr(r.auth,n);return new si(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,is))}async linkWithRedirect(e){return await ts(yn(this.auth)),function(e,t,n){return async function(e,t,n){const r=Se(e);_t(r.auth,t,Dn);const i=Xr(r.auth,n);await Gn(!1,r,t.providerId),await li(i,r.auth);const s=await di(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}(this._delegate,e,is)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return as(this.auth,Zn(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ls(this.auth,async function(e,t,n){const r=Se(e),i=await Yr(r.auth,t,Se(n));return new Qr(i,(e=>Zn(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return as(this.auth,async function(e,t,n){const r=Se(e);_t(r.auth,t,Dn);const i=Xr(r.auth,n);return new si(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,is))}async reauthenticateWithRedirect(e){return await ts(yn(this.auth)),function(e,t,n){return async function(e,t,n){const r=Se(e);_t(r.auth,t,Dn);const i=Xr(r.auth,n);await li(i,r.auth);const s=await di(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}(this._delegate,e,is)}sendEmailVerification(e){return async function(e,t){const n=Se(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&nr(n.auth,r,t);const{email:i}=await async function(e,t){return kn(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=Se(e);await Gn(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ut(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Hn(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return ir(Se(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return ir(Se(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Kn(Se(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Se(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await Kt(r,async function(e,t){return Ut(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find((({providerId:e})=>"password"===e));o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=Se(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&nr(r.auth,i,n);const{email:s}=await async function(e,t){return kn(e,t)}(r.auth,i);s!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cs.USER_MAP=new WeakMap;const hs=kt;class ds{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;hs(n,"invalid-api-key",{appName:e.name});let r=[tn];if("undefined"!=typeof window){r=function(e,t){const n=ns();if(!(null==n?void 0:n.sessionStorage))return[];const r=nn(es,e,t);switch(n.sessionStorage.getItem(r)){case Xi.NONE:return[tn];case Xi.LOCAL:return[Mr,Er];case Xi.SESSION:return[Er];default:return[]}}(n,e.name);for(const e of[Mr,wr,Er])r.includes(e)||r.push(e)}hs(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?is:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(pt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=yn(e);kt(r._canInitEmulator,r,"emulator-config-failed"),kt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=wn(t),{host:o,port:a}=function(e){const t=wn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:bn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:bn(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return Ut(e,"POST","/v1/accounts:update",Ft(e,t))}(Se(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return rr(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await _n(Se(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return as(this._delegate,async function(e,t,n){const r=yn(e),i=await qn(r,{returnSecureToken:!0,email:t,password:n}),s=await zn._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:xt()?At():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ut(e,"POST","/v1/accounts:createAuthUri",Ft(e,t))}(Se(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=xn.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){hs(Yi(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await yn(e)._initializationPromise,hi(e,t,!1)}(this._delegate,is);return e?as(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){yn(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=fs(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=fs(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Se(e),i={requestType:"EMAIL_SIGNIN",email:t};kt(n.handleCodeInApp,r,"argument-error"),n&&nr(r,i,n),await async function(e,t){return kn(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Se(e),i={requestType:"PASSWORD_RESET",email:t};n&&nr(r,i,n),await async function(e,t){return kn(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Zi(Object.values(Xi).includes(t),e,"invalid-persistence-type"),he()?Zi(t!==Xi.SESSION,e,"unsupported-persistence-type"):ue()?Zi(t===Xi.NONE,e,"unsupported-persistence-type"):Qi()?Zi(t===Xi.NONE||t===Xi.LOCAL&&fe(),e,"unsupported-persistence-type"):Zi(t===Xi.NONE||Gi(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Xi.SESSION:t=Er;break;case Xi.LOCAL:t=await Nt(Mr)._isAvailable()?Mr:wr;break;case Xi.NONE:t=tn;break;default:return wt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return as(this._delegate,async function(e){var t;const n=yn(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new zn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await qn(n,{returnSecureToken:!0}),i=await zn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return as(this._delegate,Jn(this._delegate,e))}signInWithCustomToken(e){return as(this._delegate,async function(e,t){const n=yn(e),r=await async function(e,t){return jt(e,"POST","/v1/accounts:signInWithCustomToken",Ft(e,t))}(n,{token:t,returnSecureToken:!0}),i=await zn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return as(this._delegate,function(e,t,n){return Jn(Se(e),Rn.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return as(this._delegate,async function(e,t,n){const r=Se(e),i=Rn.credentialWithLink(t,n||At());return kt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Jn(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ls(this._delegate,async function(e,t,n){const r=yn(e),i=await Yr(r,t,Se(n));return new Qr(i,(e=>Jn(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return hs(Yi(),this._delegate,"operation-not-supported-in-this-environment"),as(this._delegate,async function(e,t,n){const r=yn(e);_t(e,t,Dn);const i=Xr(r,n);return new si(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,is))}async signInWithRedirect(e){return hs(Yi(),this._delegate,"operation-not-supported-in-this-environment"),await ts(this._delegate),function(e,t,n){return async function(e,t,n){const r=yn(e);_t(e,t,Dn);const i=Xr(r,n);return await li(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,is)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await rr(Se(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function fs(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&cs.getOrCreate(e)),error:t,complete:n}}ds.Persistence=Xi;class ps{constructor(){this.providerId="phone",this._delegate=new Jr(ss(dt.auth()))}static credential(e,t){return Jr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ps.PHONE_SIGN_IN_METHOD=Jr.PHONE_SIGN_IN_METHOD,ps.PROVIDER_ID=Jr.PROVIDER_ID;const ms=kt;var gs;(gs=dt).INTERNAL.registerComponent(new Ce("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ds(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Rn,FacebookAuthProvider:Ln,GithubAuthProvider:Fn,GoogleAuthProvider:Mn,OAuthProvider:On,SAMLAuthProvider:Vn,PhoneAuthProvider:ps,PhoneMultiFactorGenerator:Pi,RecaptchaVerifier:class{constructor(e,t,n=dt.app()){var r;ms(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Gr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:jn,Auth:ds,AuthCredential:En,Error:pe}).setInstantiationMode("LAZY").setMultipleInstances(!1)),gs.registerVersion("@firebase/auth-compat","0.2.3");var ys,vs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},ws={},bs=bs||{},Es=vs||self;function _s(){}function Is(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ks(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ts="closure_uid_"+(1e9*Math.random()>>>0),Ss=0;function Cs(e,t,n){return e.call.apply(e.bind,arguments)}function Ns(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function As(e,t,n){return(As=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cs:Ns).apply(null,arguments)}function xs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Rs(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ds(){this.s=this.s,this.o=this.o}var Ps={};Ds.prototype.s=!1,Ds.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ts)&&e[Ts]||(e[Ts]=++Ss)}(this);delete Ps[e]}},Ds.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Os=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ls=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Ms(e){return Array.prototype.concat.apply([],arguments)}function Fs(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Us(e){return/^[\s\xa0]*$/.test(e)}var Vs,js=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function qs(e,t){return-1!=e.indexOf(t)}function zs(e,t){return e<t?-1:e>t?1:0}e:{var Bs=Es.navigator;if(Bs){var $s=Bs.userAgent;if($s){Vs=$s;break e}}Vs=""}function Ws(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Hs(e){const t={};for(const n in e)t[n]=e[n];return t}var Ks="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gs(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Ks.length;t++)n=Ks[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Qs(e){return Qs[" "](e),e}Qs[" "]=_s;var Ys,Js,Xs=qs(Vs,"Opera"),Zs=qs(Vs,"Trident")||qs(Vs,"MSIE"),eo=qs(Vs,"Edge"),to=eo||Zs,no=qs(Vs,"Gecko")&&!(qs(Vs.toLowerCase(),"webkit")&&!qs(Vs,"Edge"))&&!(qs(Vs,"Trident")||qs(Vs,"MSIE"))&&!qs(Vs,"Edge"),ro=qs(Vs.toLowerCase(),"webkit")&&!qs(Vs,"Edge");function io(){var e=Es.document;return e?e.documentMode:void 0}e:{var so="",oo=(Js=Vs,no?/rv:([^\);]+)(\)|;)/.exec(Js):eo?/Edge\/([\d\.]+)/.exec(Js):Zs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Js):ro?/WebKit\/(\S+)/.exec(Js):Xs?/(?:Version)[ \/]?(\S+)/.exec(Js):void 0);if(oo&&(so=oo?oo[1]:""),Zs){var ao=io();if(null!=ao&&ao>parseFloat(so)){Ys=String(ao);break e}}Ys=so}var lo,uo={};function co(){return e=uo,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=js(String(Ys)).split("."),n=js("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=zs(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||zs(0==i[2].length,0==s[2].length)||zs(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}Es.document&&Zs?lo=io()||parseInt(Ys,10)||void 0:lo=void 0;var ho=lo,fo=function(){if(!Es.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Es.addEventListener("test",_s,t),Es.removeEventListener("test",_s,t)}catch(e){}return e}();function po(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function mo(e,t){if(po.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(no){e:{try{Qs(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:go[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mo.Z.h.call(this)}}po.prototype.h=function(){this.defaultPrevented=!0},Rs(mo,po);var go={2:"touch",3:"pen",4:"mouse"};mo.prototype.h=function(){mo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var yo="closure_listenable_"+(1e6*Math.random()|0),vo=0;function wo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++vo,this.ca=this.fa=!1}function bo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Eo(e){this.src=e,this.g={},this.h=0}function _o(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Os(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(bo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Io(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Eo.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Io(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new wo(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ko="closure_lm_"+(1e6*Math.random()|0),To={};function So(e,t,n,r,i){if(r&&r.once)return No(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)So(e,t[s],n,r,i);return null}return n=Lo(n),e&&e[yo]?e.N(t,n,ks(r)?!!r.capture:!!r,i):Co(e,t,n,!1,r,i)}function Co(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ks(i)?!!i.capture:!!i,a=Po(e);if(a||(e[ko]=a=new Eo(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Do;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)fo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ro(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function No(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)No(e,t[s],n,r,i);return null}return n=Lo(n),e&&e[yo]?e.O(t,n,ks(r)?!!r.capture:!!r,i):Co(e,t,n,!0,r,i)}function Ao(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ao(e,t[s],n,r,i);else r=ks(r)?!!r.capture:!!r,n=Lo(n),e&&e[yo]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Io(s=e.g[t],n,r,i))&&(bo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Po(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Io(t,n,r,i)),(n=-1<e?t[e]:null)&&xo(n))}function xo(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[yo])_o(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ro(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Po(t))?(_o(n,e),0==n.h&&(n.src=null,t[ko]=null)):bo(e)}}}function Ro(e){return e in To?To[e]:To[e]="on"+e}function Do(e,t){if(e.ca)e=!0;else{t=new mo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&xo(e),e=n.call(r,t)}return e}function Po(e){return(e=e[ko])instanceof Eo?e:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lo(e){return"function"==typeof e?e:(e[Oo]||(e[Oo]=function(t){return e.handleEvent(t)}),e[Oo])}function Mo(){Ds.call(this),this.i=new Eo(this),this.P=this,this.I=null}function Fo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new po(t,e);else if(t instanceof po)t.target=t.target||e;else{var i=t;Gs(t=new po(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Uo(o,r,!0,t)&&i}if(i=Uo(o=t.g=e,r,!0,t)&&i,i=Uo(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Uo(o=t.g=n[s],r,!1,t)&&i}function Uo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&_o(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Rs(Mo,Ds),Mo.prototype[yo]=!0,Mo.prototype.removeEventListener=function(e,t,n,r){Ao(this,e,t,n,r)},Mo.prototype.M=function(){if(Mo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bo(n[r]);delete t.g[e],t.h--}}this.I=null},Mo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Vo=Es.JSON.stringify;function jo(){var e=Ko;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qo,zo=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Bo),(e=>e.reset()));class Bo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $o(e){Es.setTimeout((()=>{throw e}),0)}function Wo(e,t){qo||function(){var e=Es.Promise.resolve(void 0);qo=function(){e.then(Go)}}(),Ho||(qo(),Ho=!0),Ko.add(e,t)}var Ho=!1,Ko=new class{constructor(){this.h=this.g=null}add(e,t){const n=zo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Go(){for(var e;e=jo();){try{e.h.call(e.g)}catch(e){$o(e)}var t=zo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ho=!1}function Qo(e,t){Mo.call(this),this.h=e||1,this.g=t||Es,this.j=As(this.kb,this),this.l=Date.now()}function Yo(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Jo(e,t,n){if("function"==typeof e)n&&(e=As(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=As(e.handleEvent,e)}return 2147483647<Number(t)?-1:Es.setTimeout(e,t||0)}function Xo(e){e.g=Jo((()=>{e.g=null,e.i&&(e.i=!1,Xo(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Rs(Qo,Mo),(ys=Qo.prototype).da=!1,ys.S=null,ys.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fo(this,"tick"),this.da&&(Yo(this),this.start()))}},ys.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ys.M=function(){Qo.Z.M.call(this),Yo(this),delete this.g};class Zo extends Ds{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xo(this)}M(){super.M(),this.g&&(Es.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(e){Ds.call(this),this.h=e,this.g={}}Rs(ea,Ds);var ta=[];function na(e,t,n,r){Array.isArray(n)||(n&&(ta[0]=n.toString()),n=ta);for(var i=0;i<n.length;i++){var s=So(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ra(e){Ws(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xo(e)}),e),e.g={}}function ia(){this.g=!0}function sa(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Vo(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}ea.prototype.M=function(){ea.Z.M.call(this),ra(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ia.prototype.Aa=function(){this.g=!1},ia.prototype.info=function(){};var oa={},aa=null;function la(){return aa=aa||new Mo}function ua(e){po.call(this,oa.Ma,e)}function ca(e){const t=la();Fo(t,new ua(t,e))}function ha(e,t){po.call(this,oa.STAT_EVENT,e),this.stat=t}function da(e){const t=la();Fo(t,new ha(t,e))}function fa(e,t){po.call(this,oa.Na,e),this.size=t}function pa(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Es.setTimeout((function(){e()}),t)}oa.Ma="serverreachability",Rs(ua,po),oa.STAT_EVENT="statevent",Rs(ha,po),oa.Na="timingevent",Rs(fa,po);var ma={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ga={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ya(){}function va(e){return e.h||(e.h=e.i())}function wa(){}ya.prototype.h=null;var ba,Ea={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _a(){po.call(this,"d")}function Ia(){po.call(this,"c")}function ka(){}function Ta(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ea(this),this.P=Ca,e=to?125:void 0,this.W=new Qo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sa}function Sa(){this.i=null,this.g="",this.h=!1}Rs(_a,po),Rs(Ia,po),Rs(ka,ya),ka.prototype.g=function(){return new XMLHttpRequest},ka.prototype.i=function(){return{}},ba=new ka;var Ca=45e3,Na={},Aa={};function xa(e,t,n){e.K=1,e.v=Za(Ka(t)),e.s=n,e.U=!0,Ra(e,null)}function Ra(e,t){e.F=Date.now(),La(e),e.A=Ka(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),dl(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Sa,e.g=du(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Zo(As(e.Ia,e,e.g),e.O)),na(e.V,e.g,"readystatechange",e.gb),t=e.H?Hs(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ca(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Da(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Pa(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Oa(e,n),r==Aa){4==t&&(e.o=4,da(14),i=!1),sa(e.j,e.m,null,"[Incomplete Response]");break}if(r==Na){e.o=4,da(15),sa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sa(e.j,e.m,r,null),ja(e,r)}Da(e)&&r!=Aa&&r!=Na&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,da(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),iu(t),t.L=!0,da(11))):(sa(e.j,e.m,n,"[Invalid Chunked Response]"),Va(e),Ua(e))}function Oa(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Aa:(n=Number(t.substring(n,r)),isNaN(n)?Na:(r+=1)+n>t.length?Aa:(t=t.substr(r,n),e.C=r+n,t))}function La(e){e.Y=Date.now()+e.P,Ma(e,e.P)}function Ma(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=pa(As(e.eb,e),t)}function Fa(e){e.B&&(Es.clearTimeout(e.B),e.B=null)}function Ua(e){0==e.l.G||e.I||au(e.l,e)}function Va(e){Fa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Yo(e.W),ra(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ja(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||vl(n.i,e)))if(n.I=e.N,!e.J&&vl(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ou(n),Ql(n)}ru(n),da(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=pa(As(n.ab,n),6e3));if(1>=yl(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else uu(n,11)}else if((e.J||n.g==e)&&ou(n),!Us(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(qs(e,"spdy")||qs(e,"quic")||qs(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(wl(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Xa(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=hu(r,r.H?r.la:null,r.W),o.J){bl(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Fa(a),La(a)),r.g=o}else nu(r);0<n.l.length&&Xl(n)}else"stop"!=u[0]&&"close"!=u[0]||uu(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?uu(n,7):Gl(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}ca(4)}catch(e){}}function qa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Is(e)||"string"==typeof e)Ls(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Is(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Is(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function za(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof za)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ba(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];$a(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)$a(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function $a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ys=Ta.prototype).setTimeout=function(e){this.P=e},ys.gb=function(e){e=e.target;const t=this.L;t&&3==Bl(e)?t.l():this.Ia(e)},ys.Ia=function(e){try{if(e==this.g)e:{const c=Bl(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||to||this.g&&(this.h.h||this.g.ga()||$l(this.g)))){this.I||4!=c||7==t||ca(8==t||0>=h?3:2),Fa(this);var n=this.g.ba();this.N=n;t:if(Da(this)){var r=$l(this.g);e="";var i=r.length,s=4==Bl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Va(this),Ua(this);var o="";break t}this.h.i=new Es.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Us(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,da(12),Va(this),Ua(this);break e}sa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ja(this,n)}this.U?(Pa(this,c,o),to&&this.i&&3==c&&(na(this.V,this.W,"tick",this.fb),this.W.start())):(sa(this.j,this.m,o,null),ja(this,o)),4==c&&Va(this),this.i&&!this.I&&(4==c?au(this.l,this):(this.i=!1,La(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,da(12)):(this.o=0,da(13)),Va(this),Ua(this)}}}catch(e){}},ys.fb=function(){if(this.g){var e=Bl(this.g),t=this.g.ga();this.C<t.length&&(Fa(this),Pa(this,e,t),this.i&&4!=e&&La(this))}},ys.cancel=function(){this.I=!0,Va(this)},ys.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ca(3),da(17)),Va(this),this.o=2,Ua(this)):Ma(this,this.Y-e)},(ys=za.prototype).R=function(){Ba(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ys.T=function(){return Ba(this),this.g.concat()},ys.get=function(e,t){return $a(this.h,e)?this.h[e]:t},ys.set=function(e,t){$a(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ys.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Wa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ha(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ha){this.g=void 0!==t?t:e.g,Ga(this,e.j),this.s=e.s,Qa(this,e.i),Ya(this,e.m),this.l=e.l,t=e.h;var n=new ll;n.i=t.i,t.g&&(n.g=new za(t.g),n.h=t.h),Ja(this,n),this.o=e.o}else e&&(n=String(e).match(Wa))?(this.g=!!t,Ga(this,n[1]||"",!0),this.s=el(n[2]||""),Qa(this,n[3]||"",!0),Ya(this,n[4]),this.l=el(n[5]||"",!0),Ja(this,n[6]||"",!0),this.o=el(n[7]||"")):(this.g=!!t,this.h=new ll(null,this.g))}function Ka(e){return new Ha(e)}function Ga(e,t,n){e.j=n?el(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qa(e,t,n){e.i=n?el(t,!0):t}function Ya(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ja(e,t,n){t instanceof ll?(e.h=t,function(e,t){t&&!e.j&&(ul(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(cl(this,t),dl(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=tl(t,ol)),e.h=new ll(t,e.g))}function Xa(e,t,n){e.h.set(t,n)}function Za(e){return Xa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function el(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tl(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,nl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ha.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tl(t,rl,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tl(t,rl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(tl(n,"/"==n.charAt(0)?sl:il,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",tl(n,al)),e.join("")};var rl=/[#\/\?@]/g,il=/[#\?:]/g,sl=/[#\?]/g,ol=/[#\?@]/g,al=/#/g;function ll(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ul(e){e.g||(e.g=new za,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function cl(e,t){ul(e),t=fl(e,t),$a(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,$a((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ba(e)))}function hl(e,t){return ul(e),t=fl(e,t),$a(e.g.h,t)}function dl(e,t,n){cl(e,t),0<n.length&&(e.i=null,e.g.set(fl(e,t),Fs(n)),e.h+=n.length)}function fl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function pl(e){this.l=e||ml,e=Es.PerformanceNavigationTiming?0<(e=Es.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Es.g&&Es.g.Ea&&Es.g.Ea()&&Es.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ys=ll.prototype).add=function(e,t){ul(this),this.i=null,e=fl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ys.forEach=function(e,t){ul(this),this.g.forEach((function(n,r){Ls(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ys.T=function(){ul(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},ys.R=function(e){ul(this);var t=[];if("string"==typeof e)hl(this,e)&&(t=Ms(t,this.g.get(fl(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ms(t,e[n])}return t},ys.set=function(e,t){return ul(this),this.i=null,hl(this,e=fl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ys.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ys.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var ml=10;function gl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function yl(e){return e.h?1:e.g?e.g.size:0}function vl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function wl(e,t){e.g?e.g.add(t):e.h=t}function bl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function El(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Fs(e.i)}function _l(){}function Il(){this.g=new _l}function kl(e,t,n){const r=n||"";try{qa(e,(function(e,n){let i=e;ks(e)&&(i=Vo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Tl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Sl(e){this.l=e.$b||null,this.j=e.ib||!1}function Cl(e,t){Mo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Nl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},_l.prototype.stringify=function(e){return Es.JSON.stringify(e,void 0)},_l.prototype.parse=function(e){return Es.JSON.parse(e,void 0)},Rs(Sl,ya),Sl.prototype.g=function(){return new Cl(this.l,this.j)},Sl.prototype.i=function(e){return function(){return e}}({}),Rs(Cl,Mo);var Nl=0;function Al(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function xl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Rl(e)}function Rl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ys=Cl.prototype).open=function(e,t){if(this.readyState!=Nl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Rl(this)},ys.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Es).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ys.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xl(this)),this.readyState=Nl},ys.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Es.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Al(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ys.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xl(this):Rl(this),3==this.readyState&&Al(this)}},ys.Ua=function(e){this.g&&(this.response=this.responseText=e,xl(this))},ys.Ta=function(e){this.g&&(this.response=e,xl(this))},ys.ha=function(){this.g&&xl(this)},ys.setRequestHeader=function(e,t){this.v.append(e,t)},ys.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ys.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Dl=Es.JSON.parse;function Pl(e){Mo.call(this),this.headers=new za,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ol,this.K=this.L=!1}Rs(Pl,Mo);var Ol="",Ll=/^https?$/i,Ml=["POST","PUT"];function Fl(e){return"content-type"==e.toLowerCase()}function Ul(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vl(e),ql(e)}function Vl(e){e.D||(e.D=!0,Fo(e,"complete"),Fo(e,"error"))}function jl(e){if(e.h&&void 0!==bs&&(!e.C[1]||4!=Bl(e)||2!=e.ba()))if(e.v&&4==Bl(e))Jo(e.Fa,0,e);else if(Fo(e,"readystatechange"),4==Bl(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(Wa)[1]||null;if(!i&&Es.self&&Es.self.location){var s=Es.self.location.protocol;i=s.substr(0,s.length-1)}r=!Ll.test(i?i.toLowerCase():"")}n=r}if(n)Fo(e,"complete"),Fo(e,"success");else{e.m=6;try{var o=2<Bl(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.ba()+"]",Vl(e)}}finally{ql(e)}}}function ql(e,t){if(e.g){zl(e);const n=e.g,r=e.C[0]?_s:null;e.g=null,e.C=null,t||Fo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function zl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Es.clearTimeout(e.A),e.A=null)}function Bl(e){return e.g?e.g.readyState:0}function $l(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ol:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Ws(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Xa(e,t,n))}function Hl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kl(e){this.za=0,this.l=[],this.h=new ia,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hl("baseRetryDelayMs",5e3,e),this.$a=Hl("retryDelaySeedMs",1e4,e),this.Ya=Hl("forwardChannelMaxRetries",2,e),this.ra=Hl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new pl(e&&e.concurrentRequestLimit),this.Ca=new Il,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Gl(e){if(Yl(e),3==e.G){var t=e.V++,n=Ka(e.F);Xa(n,"SID",e.J),Xa(n,"RID",t),Xa(n,"TYPE","terminate"),eu(e,n),(t=new Ta(e,e.h,t,void 0)).K=2,t.v=Za(Ka(n)),n=!1,Es.navigator&&Es.navigator.sendBeacon&&(n=Es.navigator.sendBeacon(t.v.toString(),"")),!n&&Es.Image&&((new Image).src=t.v,n=!0),n||(t.g=du(t.l,null),t.g.ea(t.v)),t.F=Date.now(),La(t)}cu(e)}function Ql(e){e.g&&(iu(e),e.g.cancel(),e.g=null)}function Yl(e){Ql(e),e.u&&(Es.clearTimeout(e.u),e.u=null),ou(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Es.clearTimeout(e.m),e.m=null)}function Jl(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Xl(e)}function Xl(e){gl(e.i)||e.m||(e.m=!0,Wo(e.Ha,e),e.C=0)}function Zl(e,t){var n;n=t?t.m:e.V++;const r=Ka(e.F);Xa(r,"SID",e.J),Xa(r,"RID",n),Xa(r,"AID",e.U),eu(e,r),e.o&&e.s&&Wl(r,e.o,e.s),n=new Ta(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=tu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),wl(e.i,n),xa(n,r,t)}function eu(e,t){e.j&&qa({},(function(e,n){Xa(t,n,e)}))}function tu(e,t,n){n=Math.min(e.l.length,n);var r=e.j?As(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{kl(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function nu(e){e.g||e.u||(e.Y=1,Wo(e.Ga,e),e.A=0)}function ru(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=pa(As(e.Ga,e),lu(e,e.A)),e.A++,0))}function iu(e){null!=e.B&&(Es.clearTimeout(e.B),e.B=null)}function su(e){e.g=new Ta(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ka(e.oa);Xa(t,"RID","rpc"),Xa(t,"SID",e.J),Xa(t,"CI",e.N?"0":"1"),Xa(t,"AID",e.U),eu(e,t),Xa(t,"TYPE","xmlhttp"),e.o&&e.s&&Wl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Za(Ka(t)),n.s=null,n.U=!0,Ra(n,e)}function ou(e){null!=e.v&&(Es.clearTimeout(e.v),e.v=null)}function au(e,t){var n=null;if(e.g==t){ou(e),iu(e),e.g=null;var r=2}else{if(!vl(e.i,t))return;n=t.D,bl(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Fo(r=la(),new fa(r,n,t,i)),Xl(e)}else nu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(yl(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=pa(As(e.Ha,e,t),lu(e,e.C)),e.C++,0)))}(e,t)||2==r&&ru(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:uu(e,5);break;case 4:uu(e,10);break;case 3:uu(e,6);break;default:uu(e,2)}}function lu(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function uu(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=As(e.jb,e);n||(n=new Ha("//www.google.com/images/cleardot.gif"),Es.location&&"http"==Es.location.protocol||Ga(n,"https"),Za(n)),function(e,t){const n=new ia;if(Es.Image){const r=new Image;r.onload=xs(Tl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xs(Tl,n,r,"TestLoadImage: error",!1,t),r.onabort=xs(Tl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xs(Tl,n,r,"TestLoadImage: timeout",!1,t),Es.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else da(2);e.G=0,e.j&&e.j.va(t),cu(e),Yl(e)}function cu(e){e.G=0,e.I=-1,e.j&&(0==El(e.i).length&&0==e.l.length||(e.i.i.length=0,Fs(e.l),e.l.length=0),e.j.ua())}function hu(e,t,n){let r=function(e){return e instanceof Ha?Ka(e):new Ha(e,void 0)}(n);if(""!=r.i)t&&Qa(r,t+"."+r.i),Ya(r,r.m);else{const e=Es.location;r=function(e,t,n,r){var i=new Ha(null,void 0);return e&&Ga(i,e),t&&Qa(i,t),n&&Ya(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Ws(e.aa,(function(e,t){Xa(r,t,e)})),t=e.D,n=e.sa,t&&n&&Xa(r,t,n),Xa(r,"VER",e.ma),eu(e,r),r}function du(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Pl(new Sl({ib:!0})):new Pl(e.qa)).L=e.H,t}function fu(){}function pu(){if(Zs&&!(10<=Number(ho)))throw Error("Environmental error: no available transport.")}function mu(e,t){Mo.call(this),this.g=new Kl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Us(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Us(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new vu(this)}function gu(e){_a.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yu(){Ia.call(this),this.status=1}function vu(e){this.g=e}(ys=Pl.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ba.g(),this.C=this.u?va(this.u):va(ba),this.g.onreadystatechange=As(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Ul(this,e)}e=n||"";const i=new za(this.headers);r&&qa(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Fl;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Es.FormData&&e instanceof Es.FormData,!(0<=Os(Ml,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zl(this),0<this.B&&((this.K=function(e){return Zs&&co()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=As(this.pa,this)):this.A=Jo(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Ul(this,e)}},ys.pa=function(){void 0!==bs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fo(this,"timeout"),this.abort(8))},ys.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fo(this,"complete"),Fo(this,"abort"),ql(this))},ys.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ql(this,!0)),Pl.Z.M.call(this)},ys.Fa=function(){this.s||(this.F||this.v||this.l?jl(this):this.cb())},ys.cb=function(){jl(this)},ys.ba=function(){try{return 2<Bl(this)?this.g.status:-1}catch(e){return-1}},ys.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},ys.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Dl(t)}},ys.Da=function(){return this.m},ys.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ys=Kl.prototype).ma=8,ys.G=1,ys.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},ys.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ta(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=Hs(s),Gs(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tu(this,i,t),Xa(n=Ka(this.F),"RID",e),Xa(n,"CVER",22),this.D&&Xa(n,"X-HTTP-Session-Id",this.D),eu(this,n),this.o&&s&&Wl(n,this.o,s),wl(this.i,i),this.Ra&&Xa(n,"TYPE","init"),this.ja?(Xa(n,"$req",t),Xa(n,"SID","null"),i.$=!0,xa(i,n,null)):xa(i,n,t),this.G=2}}else 3==this.G&&(e?Zl(this,e):0==this.l.length||gl(this.i)||Zl(this))},ys.Ga=function(){if(this.u=null,su(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=pa(As(this.bb,this),e)}},ys.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,da(10),Ql(this),su(this))},ys.ab=function(){null!=this.v&&(this.v=null,Ql(this),ru(this),da(19))},ys.jb=function(e){e?(this.h.info("Successfully pinged google.com"),da(2)):(this.h.info("Failed to ping google.com"),da(1))},(ys=fu.prototype).xa=function(){},ys.wa=function(){},ys.va=function(){},ys.ua=function(){},ys.Oa=function(){},pu.prototype.g=function(e,t){return new mu(e,t)},Rs(mu,Mo),mu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Wo(As(e.hb,e,t))),da(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=hu(e,null,e.W),Xl(e)},mu.prototype.close=function(){Gl(this.g)},mu.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Jl(this.g,t)}else this.v?((t={}).__data__=Vo(e),Jl(this.g,t)):Jl(this.g,e)},mu.prototype.M=function(){this.g.j=null,delete this.j,Gl(this.g),delete this.g,mu.Z.M.call(this)},Rs(gu,_a),Rs(yu,Ia),Rs(vu,fu),vu.prototype.xa=function(){Fo(this.g,"a")},vu.prototype.wa=function(e){Fo(this.g,new gu(e))},vu.prototype.va=function(e){Fo(this.g,new yu(e))},vu.prototype.ua=function(){Fo(this.g,"b")},pu.prototype.createWebChannel=pu.prototype.g,mu.prototype.send=mu.prototype.u,mu.prototype.open=mu.prototype.m,mu.prototype.close=mu.prototype.close,ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,ga.COMPLETE="complete",wa.EventType=Ea,Ea.OPEN="a",Ea.CLOSE="b",Ea.ERROR="c",Ea.MESSAGE="d",Mo.prototype.listen=Mo.prototype.N,Pl.prototype.listenOnce=Pl.prototype.O,Pl.prototype.getLastError=Pl.prototype.La,Pl.prototype.getLastErrorCode=Pl.prototype.Da,Pl.prototype.getStatus=Pl.prototype.ba,Pl.prototype.getResponseJson=Pl.prototype.Qa,Pl.prototype.getResponseText=Pl.prototype.ga,Pl.prototype.send=Pl.prototype.ea;var wu=ws.createWebChannelTransport=function(){return new pu},bu=ws.getStatEventTarget=function(){return la()},Eu=ws.ErrorCode=ma,_u=ws.EventType=ga,Iu=ws.Event=oa,ku=ws.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Tu=ws.FetchXmlHttpFactory=Sl,Su=ws.WebChannel=wa,Cu=ws.XhrIo=Pl;const Nu="@firebase/firestore";class Au{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Au.UNAUTHENTICATED=new Au(null),Au.GOOGLE_CREDENTIALS=new Au("google-credentials-uid"),Au.FIRST_PARTY=new Au("first-party-uid"),Au.MOCK_USER=new Au("mock-user");let xu="9.6.0";const Ru=new Fe("@firebase/firestore");function Du(){return Ru.logLevel}function Pu(e,...t){if(Ru.logLevel<=De.DEBUG){const n=t.map(Mu);Ru.debug(`Firestore (${xu}): ${e}`,...n)}}function Ou(e,...t){if(Ru.logLevel<=De.ERROR){const n=t.map(Mu);Ru.error(`Firestore (${xu}): ${e}`,...n)}}function Lu(e,...t){if(Ru.logLevel<=De.WARN){const n=t.map(Mu);Ru.warn(`Firestore (${xu}): ${e}`,...n)}}function Mu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Fu(e="Unexpected state"){const t=`FIRESTORE (${xu}) INTERNAL ASSERTION FAILED: `+e;throw Ou(t),new Error(t)}function Uu(e,t){e||Fu()}function Vu(e,t){return e}const ju={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qu extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Bu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $u{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Au.UNAUTHENTICATED)))}shutdown(){}}class Wu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Hu{constructor(e){this.t=e,this.currentUser=Au.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new zu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Pu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Pu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Pu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Uu("string"==typeof t.accessToken),new Bu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Uu(null===e||"string"==typeof e),new Au(e)}}class Ku{constructor(e,t,n){this.type="FirstParty",this.user=Au.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Gu{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Ku(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Au.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yu{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&Pu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{Pu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):Pu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Uu("string"==typeof e.token),new Qu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ju{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Xu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}Ju.I=-1;class Zu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Xu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ec(e,t){return e<t?-1:e>t?1:0}function tc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function nc(e){return e+"\0"}class rc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qu(ju.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qu(ju.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qu(ju.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qu(ju.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rc.fromMillis(Date.now())}static fromDate(e){return rc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new rc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ec(this.nanoseconds,e.nanoseconds):ec(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ic{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ic(e)}static min(){return new ic(new rc(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function sc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function oc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ac(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class lc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Fu(),void 0===n?n=e.length-t:n>e.length-t&&Fu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===lc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class uc extends lc{construct(e,t,n){return new uc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new qu(ju.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new uc(t)}static emptyPath(){return new uc([])}}const cc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hc extends lc{construct(e,t,n){return new hc(e,t,n)}static isValidIdentifier(e){return cc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new qu(ju.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new qu(ju.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new qu(ju.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new qu(ju.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hc(t)}static emptyPath(){return new hc([])}}class dc{constructor(e){this.fields=e,e.sort(hc.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class fc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new fc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new fc(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ec(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fc.EMPTY_BYTE_STRING=new fc("");const pc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(e){if(Uu(!!e),"string"==typeof e){let t=0;const n=pc.exec(e);if(Uu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:gc(e.seconds),nanos:gc(e.nanos)}}function gc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yc(e){return"string"==typeof e?fc.fromBase64String(e):fc.fromUint8Array(e)}function vc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wc(e){const t=e.mapValue.fields.__previous_value__;return vc(t)?wc(t):t}function bc(e){const t=mc(e.mapValue.fields.__local_write_time__.timestampValue);return new rc(t.seconds,t.nanos)}function Ec(e){return null==e}function _c(e){return 0===e&&1/e==-1/0}function Ic(e){return"number"==typeof e&&Number.isInteger(e)&&!_c(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class kc{constructor(e){this.path=e}static fromPath(e){return new kc(uc.fromString(e))}static fromName(e){return new kc(uc.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===uc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return uc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kc(new uc(e.slice()))}}function Tc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vc(e)?4:10:Fu()}function Sc(e,t){const n=Tc(e);if(n!==Tc(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bc(e).isEqual(bc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=mc(e.timestampValue),r=mc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yc(e.bytesValue).isEqual(yc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return gc(e.geoPointValue.latitude)===gc(t.geoPointValue.latitude)&&gc(e.geoPointValue.longitude)===gc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return gc(e.integerValue)===gc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=gc(e.doubleValue),r=gc(t.doubleValue);return n===r?_c(n)===_c(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return tc(e.arrayValue.values||[],t.arrayValue.values||[],Sc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sc(n)!==sc(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Sc(n[e],r[e])))return!1;return!0}(e,t);default:return Fu()}}function Cc(e,t){return void 0!==(e.values||[]).find((e=>Sc(e,t)))}function Nc(e,t){const n=Tc(e),r=Tc(t);if(n!==r)return ec(n,r);switch(n){case 0:return 0;case 1:return ec(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=gc(e.integerValue||e.doubleValue),r=gc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ac(e.timestampValue,t.timestampValue);case 4:return Ac(bc(e),bc(t));case 5:return ec(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yc(e),r=yc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=ec(n[e],r[e]);if(0!==t)return t}return ec(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ec(gc(e.latitude),gc(t.latitude));return 0!==n?n:ec(gc(e.longitude),gc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Nc(n[e],r[e]);if(t)return t}return ec(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=ec(r[e],s[e]);if(0!==t)return t;const o=Nc(n[r[e]],i[s[e]]);if(0!==o)return o}return ec(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Fu()}}function Ac(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ec(e,t);const n=mc(e),r=mc(t),i=ec(n.seconds,r.seconds);return 0!==i?i:ec(n.nanos,r.nanos)}function xc(e){return Rc(e)}function Rc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=mc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?yc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,kc.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Rc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Rc(e.fields[i])}`;return n+"}"}(e.mapValue):Fu();var t,n}function Dc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Pc(e){return!!e&&"integerValue"in e}function Oc(e){return!!e&&"arrayValue"in e}function Lc(e){return!!e&&"nullValue"in e}function Mc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fc(e){return!!e&&"mapValue"in e}function Uc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return oc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Uc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Uc(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Vc{constructor(e){this.value=e}static empty(){return new Vc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(t)}setAll(e){let t=hc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Uc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){oc(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Vc(Uc(this.value))}}function jc(e){const t=[];return oc(e.fields,((e,n)=>{const r=new hc([e]);if(Fc(n)){const e=jc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new dc(t)}class qc{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new qc(e,0,ic.min(),Vc.empty(),0)}static newFoundDocument(e,t,n){return new qc(e,1,t,n,0)}static newNoDocument(e,t){return new qc(e,2,t,Vc.empty(),0)}static newUnknownDocument(e,t){return new qc(e,3,t,Vc.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new qc(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zc{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.R=null}}function Bc(e,t=null,n=[],r=[],i=null,s=null,o=null){return new zc(e,t,n,r,i,s,o)}function $c(e){const t=Vu(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+xc(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ec(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=rh(t.startAt)),t.endAt&&(e+="|ub:",e+=rh(t.endAt)),t.R=e}return t.R}function Wc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!sh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Sc(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ah(e.startAt,t.startAt)&&ah(e.endAt,t.endAt)}function Hc(e){return kc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Kc extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new Gc(e,t,n):"array-contains"===t?new Xc(e,n):"in"===t?new Zc(e,n):"not-in"===t?new eh(e,n):"array-contains-any"===t?new th(e,n):new Kc(e,t,n)}static P(e,t,n){return"in"===t?new Qc(e,n):new Yc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Nc(t,this.value)):null!==t&&Tc(this.value)===Tc(t)&&this.v(Nc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fu()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Gc extends Kc{constructor(e,t,n){super(e,t,n),this.key=kc.fromName(n.referenceValue)}matches(e){const t=kc.comparator(e.key,this.key);return this.v(t)}}class Qc extends Kc{constructor(e,t){super(e,"in",t),this.keys=Jc(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Yc extends Kc{constructor(e,t){super(e,"not-in",t),this.keys=Jc(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Jc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>kc.fromName(e.referenceValue)))}class Xc extends Kc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oc(t)&&Cc(t.arrayValue,this.value)}}class Zc extends Kc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cc(this.value.arrayValue,t)}}class eh extends Kc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cc(this.value.arrayValue,t)}}class th extends Kc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Cc(this.value.arrayValue,e)))}}class nh{constructor(e,t){this.position=e,this.before=t}}function rh(e){return`${e.before?"b":"a"}:${e.position.map((e=>xc(e))).join(",")}`}class ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function sh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function oh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?kc.comparator(kc.fromName(o.referenceValue),n.key):Nc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ah(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Sc(e.position[n],t.position[n]))return!1;return!0}class lh{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function uh(e,t,n,r,i,s,o,a){return new lh(e,t,n,r,i,s,o,a)}function ch(e){return new lh(e)}function hh(e){return!Ec(e.limit)&&"F"===e.limitType}function dh(e){return!Ec(e.limit)&&"L"===e.limitType}function fh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ph(e){for(const t of e.filters)if(t.V())return t.field;return null}function mh(e){return null!==e.collectionGroup}function gh(e){const t=Vu(e);if(null===t.S){t.S=[];const e=ph(t),n=fh(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new ih(e)),t.S.push(new ih(hc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new ih(hc.keyField(),e))}}}return t.S}function yh(e){const t=Vu(e);if(!t.D)if("F"===t.limitType)t.D=Bc(t.path,t.collectionGroup,gh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of gh(t)){const t="desc"===n.dir?"asc":"desc";e.push(new ih(n.field,t))}const n=t.endAt?new nh(t.endAt.position,!t.endAt.before):null,r=t.startAt?new nh(t.startAt.position,!t.startAt.before):null;t.D=Bc(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function vh(e,t,n){return new lh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wh(e,t){return Wc(yh(e),yh(t))&&e.limitType===t.limitType}function bh(e){return`${$c(yh(e))}|lt:${e.limitType}`}function Eh(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${xc(t.value)}`;var t})).join(", ")}]`),Ec(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+rh(e.startAt)),e.endAt&&(t+=", endAt: "+rh(e.endAt)),`Target(${t})`}(yh(e))}; limitType=${e.limitType})`}function _h(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):kc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!oh(e.startAt,gh(e),t)||e.endAt&&oh(e.endAt,gh(e),t))}(e,t)}function Ih(e){return(t,n)=>{let r=!1;for(const i of gh(e)){const e=kh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function kh(e,t,n){const r=e.field.isKeyField()?kc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Nc(r,i):Fu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fu()}}function Th(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(t)?"-0":t}}function Sh(e){return{integerValue:""+e}}function Ch(e,t){return Ic(t)?Sh(t):Th(e,t)}class Nh{constructor(){this._=void 0}}function Ah(e,t,n){return e instanceof Dh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ph?Oh(e,t):e instanceof Lh?Mh(e,t):function(e,t){const n=Rh(e,t),r=Uh(n)+Uh(e.N);return Pc(n)&&Pc(e.N)?Sh(r):Th(e.k,r)}(e,t)}function xh(e,t,n){return e instanceof Ph?Oh(e,t):e instanceof Lh?Mh(e,t):n}function Rh(e,t){return e instanceof Fh?Pc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Dh extends Nh{}class Ph extends Nh{constructor(e){super(),this.elements=e}}function Oh(e,t){const n=Vh(t);for(const t of e.elements)n.some((e=>Sc(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Lh extends Nh{constructor(e){super(),this.elements=e}}function Mh(e,t){let n=Vh(t);for(const t of e.elements)n=n.filter((e=>!Sc(e,t)));return{arrayValue:{values:n}}}class Fh extends Nh{constructor(e,t){super(),this.k=e,this.N=t}}function Uh(e){return gc(e.integerValue||e.doubleValue)}function Vh(e){return Oc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class jh{constructor(e,t){this.field=e,this.transform=t}}class qh{constructor(e,t){this.version=e,this.transformResults=t}}class zh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zh}static exists(e){return new zh(void 0,e)}static updateTime(e){return new zh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $h{}function Wh(e,t,n){e instanceof Yh?function(e,t,n){const r=e.value.clone(),i=Zh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jh?function(e,t,n){if(!Bh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Zh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hh(e,t,n){e instanceof Yh?function(e,t,n){if(!Bh(e.precondition,t))return;const r=e.value.clone(),i=ed(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Qh(t),r).setHasLocalMutations()}(e,t,n):e instanceof Jh?function(e,t,n){if(!Bh(e.precondition,t))return;const r=ed(e.fieldTransforms,n,t),i=t.data;i.setAll(Xh(e)),i.setAll(r),t.convertToFoundDocument(Qh(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Bh(e.precondition,t)&&t.convertToNoDocument(ic.min())}(e,t)}function Kh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Rh(r.transform,e||null);null!=i&&(null==n&&(n=Vc.empty()),n.set(r.field,i))}return n||null}function Gh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&tc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ph&&t instanceof Ph||e instanceof Lh&&t instanceof Lh?tc(e.elements,t.elements,Sc):e instanceof Fh&&t instanceof Fh?Sc(e.N,t.N):e instanceof Dh&&t instanceof Dh}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Qh(e){return e.isFoundDocument()?e.version:ic.min()}class Yh extends $h{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Jh extends $h{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Xh(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Zh(e,t,n){const r=new Map;Uu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,xh(o,a,n[i]))}return r}function ed(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Ah(e,s,t))}return r}class td extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class nd extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class rd{constructor(e){this.count=e}}var id,sd;function od(e){switch(e){default:return Fu();case ju.CANCELLED:case ju.UNKNOWN:case ju.DEADLINE_EXCEEDED:case ju.RESOURCE_EXHAUSTED:case ju.INTERNAL:case ju.UNAVAILABLE:case ju.UNAUTHENTICATED:return!1;case ju.INVALID_ARGUMENT:case ju.NOT_FOUND:case ju.ALREADY_EXISTS:case ju.PERMISSION_DENIED:case ju.FAILED_PRECONDITION:case ju.ABORTED:case ju.OUT_OF_RANGE:case ju.UNIMPLEMENTED:case ju.DATA_LOSS:return!0}}function ad(e){if(void 0===e)return Ou("GRPC error has no .code"),ju.UNKNOWN;switch(e){case id.OK:return ju.OK;case id.CANCELLED:return ju.CANCELLED;case id.UNKNOWN:return ju.UNKNOWN;case id.DEADLINE_EXCEEDED:return ju.DEADLINE_EXCEEDED;case id.RESOURCE_EXHAUSTED:return ju.RESOURCE_EXHAUSTED;case id.INTERNAL:return ju.INTERNAL;case id.UNAVAILABLE:return ju.UNAVAILABLE;case id.UNAUTHENTICATED:return ju.UNAUTHENTICATED;case id.INVALID_ARGUMENT:return ju.INVALID_ARGUMENT;case id.NOT_FOUND:return ju.NOT_FOUND;case id.ALREADY_EXISTS:return ju.ALREADY_EXISTS;case id.PERMISSION_DENIED:return ju.PERMISSION_DENIED;case id.FAILED_PRECONDITION:return ju.FAILED_PRECONDITION;case id.ABORTED:return ju.ABORTED;case id.OUT_OF_RANGE:return ju.OUT_OF_RANGE;case id.UNIMPLEMENTED:return ju.UNIMPLEMENTED;case id.DATA_LOSS:return ju.DATA_LOSS;default:return Fu()}}(sd=id||(id={}))[sd.OK=0]="OK",sd[sd.CANCELLED=1]="CANCELLED",sd[sd.UNKNOWN=2]="UNKNOWN",sd[sd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sd[sd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sd[sd.NOT_FOUND=5]="NOT_FOUND",sd[sd.ALREADY_EXISTS=6]="ALREADY_EXISTS",sd[sd.PERMISSION_DENIED=7]="PERMISSION_DENIED",sd[sd.UNAUTHENTICATED=16]="UNAUTHENTICATED",sd[sd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sd[sd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sd[sd.ABORTED=10]="ABORTED",sd[sd.OUT_OF_RANGE=11]="OUT_OF_RANGE",sd[sd.UNIMPLEMENTED=12]="UNIMPLEMENTED",sd[sd.INTERNAL=13]="INTERNAL",sd[sd.UNAVAILABLE=14]="UNAVAILABLE",sd[sd.DATA_LOSS=15]="DATA_LOSS";class ld{constructor(e,t){this.comparator=e,this.root=t||cd.EMPTY}insert(e,t){return new ld(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cd.BLACK,null,null))}remove(e){return new ld(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:cd.RED,this.left=null!=r?r:cd.EMPTY,this.right=null!=i?i:cd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new cd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return cd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return cd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fu();if(this.right.isRed())throw Fu();const e=this.left.check();if(e!==this.right.check())throw Fu();return e+(this.isRed()?0:1)}}cd.EMPTY=null,cd.RED=!0,cd.BLACK=!1,cd.EMPTY=new class{constructor(){this.size=0}get key(){throw Fu()}get value(){throw Fu()}get color(){throw Fu()}get left(){throw Fu()}get right(){throw Fu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new cd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hd{constructor(e){this.comparator=e,this.data=new ld(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dd(this.data.getIterator())}getIteratorFrom(e){return new dd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof hd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new hd(this.comparator);return t.data=e,t}}class dd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const fd=new ld(kc.comparator);function pd(){return fd}const md=new ld(kc.comparator);function gd(){return md}const yd=new ld(kc.comparator);function vd(){return yd}const wd=new hd(kc.comparator);function bd(...e){let t=wd;for(const n of e)t=t.add(n);return t}const Ed=new hd(ec);function _d(){return Ed}class Id{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,kd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Id(ic.min(),n,_d(),pd(),bd())}}class kd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new kd(fc.EMPTY_BYTE_STRING,t,bd(),bd(),bd())}}class Td{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.F=r}}class Sd{constructor(e,t){this.targetId=e,this.O=t}}class Cd{constructor(e,t,n=fc.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Nd{constructor(){this.M=0,this.L=Rd(),this.B=fc.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=bd(),t=bd(),n=bd();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fu()}})),new kd(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=Rd()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Ad{constructor(e){this.et=e,this.nt=new Map,this.st=pd(),this.it=xd(),this.rt=new hd(ec)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:Fu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.O.count,r=this.wt(t);if(r){const e=r.target;if(Hc(e))if(0===n){const n=new kc(e.path);this.ct(t,n,qc.newNoDocument(n,ic.min()))}else Uu(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Hc(i.target)){const t=new kc(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.ct(r,t,qc.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}}));let n=bd();this.it.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new Id(e,t,this.rt,this.st,n);return this.st=pd(),this.it=xd(),this.rt=new hd(ec),r}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new Nd,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new hd(ec),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Pu("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new Nd),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function xd(){return new ld(kc.comparator)}function Rd(){return new ld(kc.comparator)}const Dd={asc:"ASCENDING",desc:"DESCENDING"},Pd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Od{constructor(e,t){this.databaseId=e,this.C=t}}function Ld(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Md(e,t){return e.C?t.toBase64():t.toUint8Array()}function Fd(e,t){return Ld(e,t.toTimestamp())}function Ud(e){return Uu(!!e),ic.fromTimestamp(function(e){const t=mc(e);return new rc(t.seconds,t.nanos)}(e))}function Vd(e,t){return function(e){return new uc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function jd(e){const t=uc.fromString(e);return Uu(hf(t)),t}function qd(e,t){return Vd(e.databaseId,t.path)}function zd(e,t){const n=jd(t);if(n.get(1)!==e.databaseId.projectId)throw new qu(ju.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qu(ju.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kc(Hd(n))}function Bd(e,t){return Vd(e.databaseId,t)}function $d(e){const t=jd(e);return 4===t.length?uc.emptyPath():Hd(t)}function Wd(e){return new uc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hd(e){return Uu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kd(e,t,n){return{name:qd(e,t),fields:n.value.mapValue.fields}}function Gd(e,t,n){const r=zd(e,t.name),i=Ud(t.updateTime),s=new Vc({mapValue:{fields:t.fields}}),o=qc.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Qd(e,t){let n;if(t instanceof Yh)n={update:Kd(e,t.key,t.value)};else if(t instanceof td)n={delete:qd(e,t.key)};else if(t instanceof Jh)n={update:Kd(e,t.key,t.data),updateMask:cf(t.fieldMask)};else{if(!(t instanceof nd))return Fu();n={verify:qd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Dh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ph)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fh)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Fu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fu()}(e,t.precondition)),n}function Yd(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?zh.updateTime(Ud(e.updateTime)):void 0!==e.exists?zh.exists(e.exists):zh.none()}(t.currentDocument):zh.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Uu("REQUEST_TIME"===t.setToServerValue),n=new Dh;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ph(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Lh(e)}else"increment"in t?n=new Fh(e,t.increment):Fu();const r=hc.fromServerFormat(t.fieldPath);return new jh(r,n)}(e,t))):[];if(t.update){t.update.name;const i=zd(e,t.update.name),s=new Vc({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new dc(t.map((e=>hc.fromServerFormat(e))))}(t.updateMask);return new Jh(i,s,e,n,r)}return new Yh(i,s,n,r)}if(t.delete){const r=zd(e,t.delete);return new td(r,n)}if(t.verify){const r=zd(e,t.verify);return new nd(r,n)}return Fu()}function Jd(e,t){return{documents:[Bd(e,t.path)]}}function Xd(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Mc(e.value))return{unaryFilter:{field:of(e.field),op:"IS_NAN"}};if(Lc(e.value))return{unaryFilter:{field:of(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mc(e.value))return{unaryFilter:{field:of(e.field),op:"IS_NOT_NAN"}};if(Lc(e.value))return{unaryFilter:{field:of(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:of(e.field),op:sf(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:of(e.field),direction:rf(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.C||Ec(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=tf(t.startAt)),t.endAt&&(n.structuredQuery.endAt=tf(t.endAt)),n}function Zd(e){let t=$d(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Uu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=ef(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new ih(af(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ec(t)?null:t}(n.limit));let l=null;n.startAt&&(l=nf(n.startAt));let u=null;return n.endAt&&(u=nf(n.endAt)),uh(t,i,o,s,a,"F",l,u)}function ef(e){return e?void 0!==e.unaryFilter?[uf(e)]:void 0!==e.fieldFilter?[lf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>ef(e))).reduce(((e,t)=>e.concat(t))):Fu():[]}function tf(e){return{before:e.before,values:e.position}}function nf(e){const t=!!e.before,n=e.values||[];return new nh(n,t)}function rf(e){return Dd[e]}function sf(e){return Pd[e]}function of(e){return{fieldPath:e.canonicalString()}}function af(e){return hc.fromServerFormat(e.fieldPath)}function lf(e){return Kc.create(af(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fu()}}(e.fieldFilter.op),e.fieldFilter.value)}function uf(e){switch(e.unaryFilter.op){case"IS_NAN":const t=af(e.unaryFilter.field);return Kc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=af(e.unaryFilter.field);return Kc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=af(e.unaryFilter.field);return Kc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=af(e.unaryFilter.field);return Kc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fu()}}function cf(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function hf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function df(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=pf(t)),t=ff(e.get(n),t);return pf(t)}function ff(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function pf(e){return e+""}function mf(e){const t=e.length;if(Uu(t>=2),2===t)return Uu(""===e.charAt(0)&&""===e.charAt(1)),uc.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&Fu(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:Fu()}s=t+2}return new uc(r)}class gf{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class yf{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}yf.store="owner",yf.key="owner";class vf{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}vf.store="mutationQueues",vf.keyPath="userId";class wf{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}wf.store="mutations",wf.keyPath="batchId",wf.userMutationsIndex="userMutationsIndex",wf.userMutationsKeyPath=["userId","batchId"];class bf{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,df(t)]}static key(e,t,n){return[e,df(t),n]}}bf.store="documentMutations",bf.PLACEHOLDER=new bf;class Ef{constructor(e,t){this.path=e,this.readTime=t}}class _f{constructor(e,t){this.path=e,this.version=t}}class If{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}If.store="remoteDocuments",If.readTimeIndex="readTimeIndex",If.readTimeIndexPath="readTime",If.collectionReadTimeIndex="collectionReadTimeIndex",If.collectionReadTimeIndexPath=["parentPath","readTime"];class kf{constructor(e){this.byteSize=e}}kf.store="remoteDocumentGlobal",kf.key="remoteDocumentGlobalKey";class Tf{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Tf.store="targets",Tf.keyPath="targetId",Tf.queryTargetsIndexName="queryTargetsIndex",Tf.queryTargetsKeyPath=["canonicalId","targetId"];class Sf{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Sf.store="targetDocuments",Sf.keyPath=["targetId","path"],Sf.documentTargetsIndex="documentTargetsIndex",Sf.documentTargetsKeyPath=["path","targetId"];class Cf{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Cf.key="targetGlobalKey",Cf.store="targetGlobal";class Nf{constructor(e,t){this.collectionId=e,this.parent=t}}Nf.store="collectionParents",Nf.keyPath=["collectionId","parent"];class Af{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Af.store="clientMetadata",Af.keyPath="clientId";class xf{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}xf.store="bundles",xf.keyPath="bundleId";class Rf{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Rf.store="namedQueries",Rf.keyPath="name";const Df=[vf.store,wf.store,bf.store,If.store,Tf.store,yf.store,Cf.store,Sf.store,Af.store,kf.store,Nf.store,xf.store,Rf.store],Pf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Of{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Lf{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Lf(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Lf?t:Lf.resolve(t)}catch(e){return Lf.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Lf.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Lf.reject(t)}static resolve(e){return new Lf(((t,n)=>{t(e)}))}static reject(e){return new Lf(((t,n)=>{n(e)}))}static waitFor(e){return new Lf(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Lf.resolve(!1);for(const n of e)t=t.next((e=>e?Lf.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Mf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new zu,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Vf(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=$f(t.target.error);this.It.reject(new Vf(e,n))}}static open(e,t,n,r){try{return new Mf(t,e.transaction(r,n))}catch(e){throw new Vf(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Pu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new qf(t)}}class Ff{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===Ff.Pt(ae())&&Ou("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pu("SimpleDb","Removing database:",e),zf(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!fe())return!1;if(Ff.vt())return!0;const e=ae(),t=Ff.Pt(e),n=0<t&&t<10,r=Ff.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){return"undefined"!=typeof process&&"YES"===(null==="MISSING_ENV_VAR"?void 0:"MISSING_ENV_VAR".St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(Pu("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Vf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new qu(ju.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new qu(ju.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Vf(e,r))},r.onupgradeneeded=e=>{Pu("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,r.transaction,e.oldVersion,this.version).next((()=>{Pu("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Ct(e);const t=Mf.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch((e=>(t.abort(e),Lf.reject(e)))).toPromise();return s.catch((()=>{})),await t.At,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(Pu("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Uf{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return zf(this.$t.delete())}}class Vf extends qu{constructor(e,t){super(ju.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jf(e){return"IndexedDbTransactionError"===e.name}class qf{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Pu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zf(n)}add(e){return Pu("SimpleDb","ADD",this.store.name,e,e),zf(this.store.add(e))}get(e){return zf(this.store.get(e)).next((t=>(void 0===t&&(t=null),Pu("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Pu("SimpleDb","DELETE",this.store.name,e),zf(this.store.delete(e))}count(){return Pu("SimpleDb","COUNT",this.store.name),zf(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,((e,t)=>{r.push(t)})).next((()=>r))}qt(e,t){Pu("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,((e,t,n)=>n.delete()))}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new Lf(((n,r)=>{t.onerror=e=>{const t=$f(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Ut(e,t){const n=[];return new Lf(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Uf(i),o=t(i.primaryKey,i.value,s);if(o instanceof Lf){const e=o.catch((e=>(s.done(),Lf.reject(e))));n.push(e)}s.isDone?r():null===s.Mt?i.continue():i.continue(s.Mt)}})).next((()=>Lf.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zf(e){return new Lf(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=$f(e.target.error);n(t)}}))}let Bf=!1;function $f(e){const t=Ff.Pt(ae());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new qu("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bf||(Bf=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Wf extends Of{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Hf(e,t){const n=Vu(e);return Ff.Dt(n.Wt,t)}class Kf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Wh(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Hh(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Hh(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(ic.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),bd())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,((e,t)=>Gh(e,t)))&&tc(this.baseMutations,e.baseMutations,((e,t)=>Gh(e,t)))}}class Gf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Uu(e.mutations.length===n.length);let r=vd();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Gf(e,t,n,r)}}class Qf{constructor(e,t,n,r,i=ic.min(),s=ic.min(),o=fc.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Qf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Yf{constructor(e){this.Gt=e}}function Jf(e,t){if(t.document)return Gd(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=kc.fromSegments(t.noDocument.path),n=np(t.noDocument.readTime),r=qc.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=kc.fromSegments(t.unknownDocument.path),n=np(t.unknownDocument.version);return qc.newUnknownDocument(e,n)}return Fu()}function Xf(e,t,n){const r=Zf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:qd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ld(e,t.version.toTimestamp())}}(e.Gt,t),s=t.hasCommittedMutations;return new If(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=tp(t.version),s=t.hasCommittedMutations;return new If(null,new Ef(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=tp(t.version);return new If(new _f(e,n),null,null,!0,r,i)}return Fu()}function Zf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ep(e){const t=new rc(e[0],e[1]);return ic.fromTimestamp(t)}function tp(e){const t=e.toTimestamp();return new gf(t.seconds,t.nanoseconds)}function np(e){const t=new rc(e.seconds,e.nanoseconds);return ic.fromTimestamp(t)}function rp(e,t){const n=(t.baseMutations||[]).map((t=>Yd(e.Gt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Yd(e.Gt,t))),i=rc.fromMillis(t.localWriteTimeMs);return new Kf(t.batchId,i,n,r)}function ip(e){const t=np(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?np(e.lastLimboFreeSnapshotVersion):ic.min();let r;var i;return void 0!==e.query.documents?(Uu(1===(i=e.query).documents.length),r=yh(ch($d(i.documents[0])))):r=function(e){return yh(Zd(e))}(e.query),new Qf(r,e.targetId,0,e.lastListenSequenceNumber,t,n,fc.fromBase64String(e.resumeToken))}function sp(e,t){const n=tp(t.snapshotVersion),r=tp(t.lastLimboFreeSnapshotVersion);let i;i=Hc(t.target)?Jd(e.Gt,t.target):Xd(e.Gt,t.target);const s=t.resumeToken.toBase64();return new Tf(t.targetId,$c(t.target),n,s,t.sequenceNumber,r,i)}function op(e){const t=Zd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vh(t,t.limit,"L"):t}class ap{getBundleMetadata(e,t){return lp(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:np(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return lp(e).put({bundleId:(n=t).id,createTime:tp(Ud(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return up(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:op(t.bundledQuery),readTime:np(t.readTime)};var t}))}saveNamedQuery(e,t){return up(e).put(function(e){return{name:e.name,readTime:tp(Ud(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function lp(e){return Hf(e,xf.store)}function up(e){return Hf(e,Rf.store)}class cp{constructor(){this.zt=new hp}addToCollectionParentIndex(e,t){return this.zt.add(t),Lf.resolve()}getCollectionParents(e,t){return Lf.resolve(this.zt.getEntries(t))}}class hp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new hd(uc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new hd(uc.comparator)).toArray()}}class dp{constructor(){this.Ht=new hp}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ht.add(t)}));const i={collectionId:n,parent:df(r)};return fp(e).put(i)}return Lf.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[nc(t),""],!1,!0);return fp(e).Bt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(mf(r.parent))}return n}))}}function fp(e){return Hf(e,Nf.store)}const pp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new mp(e,mp.DEFAULT_COLLECTION_PERCENTILE,mp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gp(e,t,n){const r=e.store(wf.store),i=e.store(bf.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.jt({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Uu(1===a)})));const u=[];for(const e of n.mutations){const r=bf.key(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return Lf.waitFor(s).next((()=>u))}function yp(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fu();t=e.noDocument}return JSON.stringify(t).length}mp.DEFAULT_COLLECTION_PERCENTILE=10,mp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mp.DEFAULT=new mp(41943040,mp.DEFAULT_COLLECTION_PERCENTILE,mp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mp.DISABLED=new mp(-1,0,0);class vp{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){Uu(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new vp(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bp(e).jt({index:wf.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Ep(e),s=bp(e);return s.add({}).next((o=>{Uu("number"==typeof o);const a=new Kf(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Qd(e.Gt,t))),i=n.mutations.map((t=>Qd(e.Gt,t)));return new wf(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,a),u=[];let c=new hd(((e,t)=>ec(e.canonicalString(),t.canonicalString())));for(const e of r){const t=bf.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,bf.PLACEHOLDER))}return c.forEach((t=>{u.push(this.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Yt[o]=a.keys()})),Lf.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return bp(e).get(t).next((e=>e?(Uu(e.userId===this.userId),rp(this.k,e)):null))}Zt(e,t){return this.Yt[t]?Lf.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return bp(e).jt({index:wf.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(Uu(t.batchId>=n),i=rp(this.k,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return bp(e).jt({index:wf.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bp(e).Bt(wf.userMutationsIndex,t).next((e=>e.map((e=>rp(this.k,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=bf.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Ep(e).jt({range:r},((n,r,s)=>{const[o,a,l]=n,u=mf(a);if(o===this.userId&&t.path.isEqual(u))return bp(e).get(l).next((e=>{if(!e)throw Fu();Uu(e.userId===this.userId),i.push(rp(this.k,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hd(ec);const r=[];return t.forEach((t=>{const i=bf.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Ep(e).jt({range:s},((e,r,i)=>{const[s,o,a]=e,l=mf(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Lf.waitFor(r).next((()=>this.te(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=bf.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new hd(ec);return Ep(e).jt({range:s},((e,t,i)=>{const[s,a,l]=e,u=mf(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.te(e,o)))}te(e,t){const n=[],r=[];return t.forEach((t=>{r.push(bp(e).get(t).next((e=>{if(null===e)throw Fu();Uu(e.userId===this.userId),n.push(rp(this.k,e))})))})),Lf.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return gp(e.Wt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ee(t.batchId)})),Lf.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Lf.resolve();const n=IDBKeyRange.lowerBound(bf.prefixForUser(this.userId)),r=[];return Ep(e).jt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=mf(e[1]);r.push(t)}else n.done()})).next((()=>{Uu(0===r.length)}))}))}containsKey(e,t){return wp(e,this.userId,t)}ne(e){return _p(e).get(this.userId).next((e=>e||new vf(this.userId,-1,"")))}}function wp(e,t,n){const r=bf.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ep(e).jt({range:s,Kt:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function bp(e){return Hf(e,wf.store)}function Ep(e){return Hf(e,bf.store)}function _p(e){return Hf(e,vf.store)}class Ip{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Ip(0)}static re(){return new Ip(-1)}}class kp{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next((t=>{const n=new Ip(t.highestTargetId);return t.highestTargetId=n.next(),this.ae(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.oe(e).next((e=>ic.fromTimestamp(new rc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.oe(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.oe(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ae(e,r))))}addTargetData(e,t){return this.ce(e,t).next((()=>this.oe(e).next((n=>(n.targetCount+=1,this.ue(t,n),this.ae(e,n))))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Tp(e).delete(t.targetId))).next((()=>this.oe(e))).next((t=>(Uu(t.targetCount>0),t.targetCount-=1,this.ae(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Tp(e).jt(((s,o)=>{const a=ip(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Lf.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Tp(e).jt(((e,n)=>{const r=ip(n);t(r)}))}oe(e){return Sp(e).get(Cf.key).next((e=>(Uu(null!==e),e)))}ae(e,t){return Sp(e).put(Cf.key,t)}ce(e,t){return Tp(e).put(sp(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next((e=>e.targetCount))}getTargetData(e,t){const n=$c(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Tp(e).jt({range:r,index:Tf.queryTargetsIndexName},((e,n,r)=>{const s=ip(n);Wc(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Cp(e);return t.forEach((t=>{const s=df(t.path);r.push(i.put(new Sf(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))})),Lf.waitFor(r)}removeMatchingKeys(e,t,n){const r=Cp(e);return Lf.forEach(t,(t=>{const i=df(t.path);return Lf.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Cp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Cp(e);let i=bd();return r.jt({range:n,Kt:!0},((e,t,n)=>{const r=mf(e[1]),s=new kc(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=df(t.path),r=IDBKeyRange.bound([n],[nc(n)],!1,!0);let i=0;return Cp(e).jt({index:Sf.documentTargetsIndex,Kt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return Tp(e).get(t).next((e=>e?ip(e):null))}}function Tp(e){return Hf(e,Tf.store)}function Sp(e){return Hf(e,Cf.store)}function Cp(e){return Hf(e,Sf.store)}async function Np(e){if(e.code!==ju.FAILED_PRECONDITION||e.message!==Pf)throw e;Pu("LocalStore","Unexpectedly lost primary lease")}function Ap([e,t],[n,r]){const i=ec(e,n);return 0===i?ec(t,r):i}class xp{constructor(e){this.he=e,this.buffer=new hd(Ap),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ap(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rp{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;Pu("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){jf(e)?Pu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Np(e)}await this.me(e)}))}}class Dp{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Lf.resolve(Ju.I);const n=new xp(t);return this.ge.forEachTarget(e,(e=>n.de(e.sequenceNumber))).next((()=>this.ge.pe(e,(e=>n.de(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pu("LruGarbageCollector","Garbage collection skipped; disabled"),Lf.resolve(pp)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Pu("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pp):this.Te(e,t)))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Pu("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Du()<=De.DEBUG&&Pu("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),Lf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Pp{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Dp(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.pe(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,((e,n)=>t(n)))}addReference(e,t,n){return Op(e,n)}removeReference(e,t,n){return Op(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Op(e,t)}Ae(e,t){return function(e,t){let n=!1;return _p(e).Qt((r=>wp(e,r,t).next((e=>(e&&(n=!0),Lf.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,((s,o)=>{if(o<=t){const t=this.Ae(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s),Cp(e).delete([0,df(s.path)]))))}));r.push(t)}})).next((()=>Lf.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Op(e,t)}Ie(e,t){const n=Cp(e);let r,i=Ju.I;return n.jt({index:Sf.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Ju.I&&t(new kc(mf(r)),i),i=o,r=s):i=Ju.I})).next((()=>{i!==Ju.I&&t(new kc(mf(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Op(e,t){return Cp(e).put(function(e,t){return new Sf(0,df(e.path),t)}(t,e.currentSequenceNumber))}class Lp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){oc(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return ac(this.inner)}}class Mp{constructor(){this.changes=new Lp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:ic.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:qc.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Lf.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fp{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return jp(e).put(qp(t),n)}removeEntry(e,t){const n=jp(e),r=qp(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Re(e,n))))}getEntry(e,t){return jp(e).get(qp(t)).next((e=>this.Pe(t,e)))}be(e,t){return jp(e).get(qp(t)).next((e=>({document:this.Pe(t,e),size:yp(e)})))}getEntries(e,t){let n=pd();return this.ve(e,t,((e,t)=>{const r=this.Pe(e,t);n=n.insert(e,r)})).next((()=>n))}Ve(e,t){let n=pd(),r=new ld(kc.comparator);return this.ve(e,t,((e,t)=>{const i=this.Pe(e,t);n=n.insert(e,i),r=r.insert(e,yp(t))})).next((()=>({documents:n,Se:r})))}ve(e,t,n){if(t.isEmpty())return Lf.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return jp(e).jt({range:r},((e,t,r)=>{const o=kc.fromSegments(e);for(;s&&kc.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Lt(s.path.toArray()):r.done()})).next((()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=pd();const i=t.path.length+1,s={};if(n.isEqual(ic.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Zf(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=If.collectionReadTimeIndex}return jp(e).jt(s,((e,n,s)=>{if(e.length!==i)return;const o=Jf(this.k,n);t.path.isPrefixOf(o.key.path)?_h(t,o)&&(r=r.insert(o.key,o)):s.done()})).next((()=>r))}newChangeBuffer(e){return new Up(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Vp(e).get(kf.key).next((e=>(Uu(!!e),e)))}Re(e,t){return Vp(e).put(kf.key,t)}Pe(e,t){if(t){const e=Jf(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(ic.min()))return e}return qc.newInvalidDocument(e)}}class Up extends Mp{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Lp((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new hd(((e,t)=>ec(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Ce.get(i);if(s.document.isValidDocument()){const a=Xf(this.De.k,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=yp(a);n+=l-o,t.push(this.De.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Xf(this.De.k,qc.newNoDocument(i,ic.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))})),r.forEach((n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))})),t.push(this.De.updateMetadata(e,n)),Lf.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next((e=>(this.Ce.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.De.Ve(e,t).next((({documents:e,Se:t})=>(t.forEach(((e,t)=>{this.Ce.set(e,t)})),e)))}}function Vp(e){return Hf(e,kf.store)}function jp(e){return Hf(e,If.store)}function qp(e){return e.path.toArray()}class zp{constructor(e){this.k=e}Nt(e,t,n,r){Uu(n<r&&n>=0&&r<=11);const i=new Mf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(yf.store)}(e),function(e){e.createObjectStore(vf.store,{keyPath:vf.keyPath}),e.createObjectStore(wf.store,{keyPath:wf.keyPath,autoIncrement:!0}).createIndex(wf.userMutationsIndex,wf.userMutationsKeyPath,{unique:!0}),e.createObjectStore(bf.store)}(e),Bp(e),function(e){e.createObjectStore(If.store)}(e));let s=Lf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Sf.store),e.deleteObjectStore(Tf.store),e.deleteObjectStore(Cf.store)}(e),Bp(e)),s=s.next((()=>function(e){const t=e.store(Cf.store),n=new Cf(0,0,ic.min().toTimestamp(),0);return t.put(Cf.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(wf.store).Bt().next((n=>{e.deleteObjectStore(wf.store),e.createObjectStore(wf.store,{keyPath:wf.keyPath,autoIncrement:!0}).createIndex(wf.userMutationsIndex,wf.userMutationsKeyPath,{unique:!0});const r=t.store(wf.store),i=n.map((e=>r.put(e)));return Lf.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(Af.store,{keyPath:Af.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ne(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(kf.store)}(e),this.ke(i))))),n<7&&r>=7&&(s=s.next((()=>this.xe(i)))),n<8&&r>=8&&(s=s.next((()=>this.$e(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(If.store);t.createIndex(If.readTimeIndex,If.readTimeIndexPath,{unique:!1}),t.createIndex(If.collectionReadTimeIndex,If.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.Fe(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(xf.store,{keyPath:xf.keyPath})}(e),function(e){e.createObjectStore(Rf.store,{keyPath:Rf.keyPath})}(e)}))),s}ke(e){let t=0;return e.store(If.store).jt(((e,n)=>{t+=yp(n)})).next((()=>{const n=new kf(t);return e.store(kf.store).put(kf.key,n)}))}Ne(e){const t=e.store(vf.store),n=e.store(wf.store);return t.Bt().next((t=>Lf.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(wf.userMutationsIndex,r).next((n=>Lf.forEach(n,(n=>{Uu(n.userId===t.userId);const r=rp(this.k,n);return gp(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(Sf.store),n=e.store(If.store);return e.store(Cf.store).get(Cf.key).next((e=>{const r=[];return n.jt(((n,i)=>{const s=new uc(n),o=function(e){return[0,df(e)]}(s);r.push(t.get(o).next((n=>n?Lf.resolve():(n=>t.put(new Sf(0,df(n),e.highestListenSequenceNumber)))(s))))})).next((()=>Lf.waitFor(r)))}))}$e(e,t){e.createObjectStore(Nf.store,{keyPath:Nf.keyPath});const n=t.store(Nf.store),r=new hp,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:df(r)})}};return t.store(If.store).jt({Kt:!0},((e,t)=>{const n=new uc(e);return i(n.popLast())})).next((()=>t.store(bf.store).jt({Kt:!0},(([e,t,n],r)=>{const s=mf(t);return i(s.popLast())}))))}Fe(e){const t=e.store(Tf.store);return t.jt(((e,n)=>{const r=ip(n),i=sp(this.k,r);return t.put(i)}))}}function Bp(e){e.createObjectStore(Sf.store,{keyPath:Sf.keyPath}).createIndex(Sf.documentTargetsIndex,Sf.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Tf.store,{keyPath:Tf.keyPath}).createIndex(Tf.queryTargetsIndexName,Tf.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Cf.store)}const $p="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wp{constructor(e,t,n,r,i,s,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Me=l,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!Wp.bt())throw new qu(ju.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pp(this,r),this.Ge=t+"main",this.k=new Yf(a),this.ze=new Ff(this.Ge,11,new zp(this.k)),this.He=new kp(this.referenceDelegate,this.k),this.Jt=new dp,this.Je=function(e,t){return new Fp(e,t)}(this.k,this.Jt),this.Ye=new ap,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&Ou("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qu(ju.FAILED_PRECONDITION,$p);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.He.getHighestSequenceNumber(e)))})).then((e=>{this.Be=new Ju(e,this.Me)})).then((()=>{this.Ue=!0})).catch((e=>(this.ze&&this.ze.close(),Promise.reject(e))))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((async()=>{this.started&&await this.Ze()})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Kp(e).put(new Af(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.rn(e).next((e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.We(!1))))}))})).next((()=>this.on(e))).next((t=>this.isPrimary&&!t?this.an(e).next((()=>!1)):!!t&&this.cn(e).next((()=>!0)))))).catch((e=>{if(jf(e))return Pu("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable((()=>this.We(e))),this.isPrimary=e}))}rn(e){return Hp(e).get(yf.key).next((e=>Lf.resolve(this.un(e))))}hn(e){return Kp(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Hf(e,Af.store);return t.Bt().next((e=>{const n=this.dn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Lf.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ze().then((()=>this.ln())).then((()=>this.nn()))))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Lf.resolve(!0):Hp(e).get(yf.key).next((t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new qu(ju.FAILED_PRECONDITION,$p);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kp(e).Bt().next((e=>void 0===this.dn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Pu("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[yf.store,Af.store],(e=>{const t=new Wf(e,Ju.I);return this.an(t).next((()=>this.hn(t)))})),this.ze.close(),this.pn()}dn(e,t){return e.filter((e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId)))}Tn(){return this.runTransaction("getActiveClients","readonly",(e=>Kp(e).Bt().next((e=>this.dn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ue}getMutationQueue(e){return vp.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){Pu("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.ze.runTransaction(e,r,Df,(r=>(i=new Wf(r,this.Be?this.Be.next():Ju.I),"readwrite-primary"===t?this.rn(i).next((e=>!!e||this.on(i))).next((t=>{if(!t)throw Ou(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.We(!1))),new qu(ju.FAILED_PRECONDITION,Pf);return n(i)})).next((e=>this.cn(i).next((()=>e)))):this.En(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}En(e){return Hp(e).get(yf.key).next((e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new qu(ju.FAILED_PRECONDITION,$p)}))}cn(e){const t=new yf(this.clientId,this.allowTabSynchronization,Date.now());return Hp(e).put(yf.key,t)}static bt(){return Ff.bt()}an(e){const t=Hp(e);return t.get(yf.key).next((e=>this.un(e)?(Pu("IndexedDbPersistence","Releasing primary lease."),t.delete(yf.key)):Lf.resolve()))}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(Ou(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze())))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),!ue()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Pu("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Ou("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Ou("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hp(e){return Hf(e,yf.store)}function Kp(e){return Hf(e,Af.store)}function Gp(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Qp{constructor(e,t){this.progress=e,this.In=t}}class Yp{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Pn(e,t,n)))}Pn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return kc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):mh(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new kc(t)).next((e=>{let t=gd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const r=t.collectionGroup;let i=gd();return this.Jt.getCollectionParents(e,r).next((s=>Lf.forEach(s,(s=>{const o=function(e,t){return new lh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Cn(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Nn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=qc.newInvalidDocument(n),r=r.insert(n,i)),Hh(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{_h(t,n)||(r=r.remove(e))})),r)))}Nn(e,t,n){let r=bd();for(const e of t)for(const t of e.mutations)t instanceof Jh&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class Jp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=bd(),r=bd();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Jp(e,t.fromCache,n,r)}}class Xp{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ic.min())?this.Mn(e,t):this.On.vn(e,r).next((i=>{const s=this.Ln(t,i);return(hh(t)||dh(t))&&this.Bn(t.limitType,s,r,n)?this.Mn(e,t):(Du()<=De.DEBUG&&Pu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Eh(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new hd(Ih(e));return t.forEach(((t,r)=>{_h(e,r)&&(n=n.add(r))})),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(e,t){return Du()<=De.DEBUG&&Pu("QueryEngine","Using full collection scan to execute query:",Eh(t)),this.On.getDocumentsMatchingQuery(e,t,ic.min())}}class Zp{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new ld(ec),this.Kn=new Lp((e=>$c(e)),Wc),this.jn=ic.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Yp(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}function em(e,t,n,r){return new Zp(e,t,n,r)}async function tm(e,t){const n=Vu(e);let r=n.An,i=n.Wn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.An.getAllMutationBatches(e).next((o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Yp(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let o=bd();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.vn(e,o).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}function nm(e){const t=Vu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function rm(e,t,n,r,i){let s=bd();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=pd();return n.forEach(((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ic.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):Pu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function im(e,t){const n=Vu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}function sm(e,t){const n=Vu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.He.getTargetData(e,t).next((i=>i?(r=i,Lf.resolve(r)):n.He.allocateTargetId(e).next((i=>(r=new Qf(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}async function om(e,t,n){const r=Vu(e),i=r.qn.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!jf(e))throw e;Pu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function am(e,t,n){const r=Vu(e);let i=ic.min(),s=bd();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Vu(e),i=r.Kn.get(n);return void 0!==i?Lf.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,yh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:ic.min(),n?s:bd()))).next((e=>({documents:e,zn:s})))))}function lm(e,t){const n=Vu(e),r=Vu(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function um(e){const t=Vu(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=Vu(e);let i=pd(),s=Zf(n);const o=jp(t),a=IDBKeyRange.lowerBound(s,!0);return o.jt({index:If.readTimeIndex,range:a},((e,t)=>{const n=Jf(r.k,t);i=i.insert(n.key,n),s=t.readTime})).next((()=>({In:i,readTime:ep(s)})))}(t.Qn,e,t.jn))).then((({In:e,readTime:n})=>(t.jn=n,e)))}async function cm(e,t,n=bd()){const r=await sm(e,yh(op(t.bundledQuery))),i=Vu(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Ud(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ye.saveNamedQuery(e,t);const o=r.withResumeToken(fc.EMPTY_BYTE_STRING,s);return i.qn=i.qn.insert(o.targetId,o),i.He.updateTargetData(e,o).next((()=>i.He.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.He.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ye.saveNamedQuery(e,t)))}))}class hm{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Lf.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ud(n.createTime)}),Lf.resolve()}getNamedQuery(e,t){return Lf.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:op(e.bundledQuery),readTime:Ud(e.readTime)}}(t)),Lf.resolve()}}class dm{constructor(){this.ts=new hd(fm.es),this.ns=new hd(fm.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new fm(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new fm(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new kc(new uc([])),n=new fm(t,e),r=new fm(t,e+1),i=[];return this.ns.forEachInRange([n,r],(e=>{this.os(e),i.push(e.key)})),i}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new kc(new uc([])),n=new fm(t,e),r=new fm(t,e+1);let i=bd();return this.ns.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new fm(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fm{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return kc.comparator(e.key,t.key)||ec(e.fs,t.fs)}static ss(e,t){return ec(e.fs,t.fs)||kc.comparator(e.key,t.key)}}class pm{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new hd(fm.es)}checkEmpty(e){return Lf.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const s=new Kf(i,t,n,r);this.An.push(s);for(const t of r)this.ws=this.ws.add(new fm(t.key,i)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return Lf.resolve(s)}lookupMutationBatch(e,t){return Lf.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return Lf.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return Lf.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Lf.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fm(t,0),r=new fm(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],(e=>{const t=this._s(e.fs);i.push(t)})),Lf.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hd(ec);return t.forEach((e=>{const t=new fm(e,0),r=new fm(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],(e=>{n=n.add(e.fs)}))})),Lf.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;kc.isDocumentKey(i)||(i=i.child(""));const s=new fm(new kc(i),0);let o=new hd(ec);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),s),Lf.resolve(this.ys(o))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Uu(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return Lf.forEach(t.mutations,(r=>{const i=new fm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new fm(t,0),r=this.ws.firstAfterOrEqual(n);return Lf.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,Lf.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class mm{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new ld(kc.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Lf.resolve(n?n.document.clone():qc.newInvalidDocument(t))}getEntries(e,t){let n=pd();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():qc.newInvalidDocument(e))})),Lf.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=pd();const i=new kc(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||_h(t,i)&&(r=r.insert(i.key,i.clone()))}return Lf.resolve(r)}Es(e,t){return Lf.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new gm(this)}getSize(e){return Lf.resolve(this.size)}}class gm extends Mp{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)})),Lf.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class ym{constructor(e){this.persistence=e,this.Is=new Lp((e=>$c(e)),Wc),this.lastRemoteSnapshotVersion=ic.min(),this.highestTargetId=0,this.As=0,this.Rs=new dm,this.targetCount=0,this.Ps=Ip.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),Lf.resolve()}getLastRemoteSnapshotVersion(e){return Lf.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Lf.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Lf.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Lf.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new Ip(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Lf.resolve()}updateTargetData(e,t){return this.ce(t),Lf.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Lf.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Is.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Lf.waitFor(i).next((()=>r))}getTargetCount(e){return Lf.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return Lf.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),Lf.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Lf.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Lf.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return Lf.resolve(n)}containsKey(e,t){return Lf.resolve(this.Rs.containsKey(t))}}class vm{constructor(e,t){this.bs={},this.Be=new Ju(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new ym(this),this.Jt=new cp,this.Je=function(e,t){return new mm(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new Yf(t),this.Ye=new hm(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new pm(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){Pu("MemoryPersistence","Starting transaction:",e);const r=new wm(this.Be.next());return this.referenceDelegate.Vs(),n(r).next((e=>this.referenceDelegate.Ss(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ds(e,t){return Lf.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class wm extends Of{constructor(e){super(),this.currentSequenceNumber=e}}class bm{constructor(e){this.persistence=e,this.Cs=new dm,this.Ns=null}static ks(e){return new bm(e)}get xs(){if(this.Ns)return this.Ns;throw Fu()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Lf.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Lf.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Lf.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Lf.forEach(this.xs,(n=>{const r=kc.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return Lf.or([()=>Lf.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function Em(e,t){return`firestore_clients_${e}_${t}`}function _m(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Im(e,t){return`firestore_targets_${e}_${t}`}class km{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Fs(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new qu(r.error.code,r.error.message))),s?new km(e,t,r.state,i):(Ou("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tm{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new qu(n.error.code,n.error.message))),i?new Tm(e,n.state,r):(Ou("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=_d();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=Ic(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Sm(e,i):(Ou("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Cm{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Cm(t.clientId,t.onlineState):(Ou("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Nm{constructor(){this.activeTargetIds=_d()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Am{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ld(ec),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Em(this.persistenceKey,this.Bs),this.Ws=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Nm),this.Gs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Js=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Ys=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Tn();for(const t of e){if(t===this.Bs)continue;const e=this.getItem(Em(this.persistenceKey,t));if(e){const n=Sm.Fs(t,e);n&&(this.Ks=this.Ks.insert(n.clientId,n))}}this.Xs();const t=this.storage.getItem(this.Js);if(t){const e=this.Zs(t);e&&this.ti(e)}for(const e of this.js)this.qs(e);this.js=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Im(this.persistenceKey,e));if(n){const r=Tm.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Im(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.si(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pu("SharedClientState","READ",e,t),t}setItem(e,t){Pu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){const t=e;if(t.storageArea===this.storage){if(Pu("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Qs)return void Ou("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Gs.test(t.key)){if(null==t.newValue){const e=this.ci(t.key);return this.ui(e,null)}{const e=this.hi(t.key,t.newValue);if(e)return this.ui(e.clientId,e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.li(t.key,t.newValue);if(e)return this.fi(e)}}else if(this.Hs.test(t.key)){if(null!==t.newValue){const e=this.di(t.key,t.newValue);if(e)return this.wi(e)}}else if(t.key===this.Js){if(null!==t.newValue){const e=this.Zs(t.newValue);if(e)return this.ti(e)}}else if(t.key===this.Ws){const e=function(e){let t=Ju.I;if(null!=e)try{const n=JSON.parse(e);Uu("number"==typeof n),t=n}catch(e){Ou("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Ju.I&&this.sequenceNumberHandler(e)}else if(t.key===this.Ys)return this.syncEngine._i()}else this.js.push(t)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,n){const r=new km(this.currentUser,e,t,n),i=_m(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}si(e){const t=_m(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){const t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}ri(e,t,n){const r=Im(this.persistenceKey,e),i=new Tm(e,t,n);this.setItem(r,i.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ci(e);return Sm.Fs(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return km.Fs(new Au(i),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return Tm.Fs(r,t)}Zs(e){return Cm.Fs(e)}async fi(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.mi(e.batchId,e.state,e.error);Pu("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.yi(s,o).then((()=>{this.Ks=n}))}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=_d();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class xm{constructor(){this.pi=new Nm,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Nm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Rm{Ei(e){}shutdown(){}}class Dm{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Pu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){Pu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Pm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Om{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class Lm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const s=this.Ui(e,t);Pu("RestConnection","Sending: ",s,n);const o={};return this.qi(o,r,i),this.Ki(e,s,o,n).then((e=>(Pu("RestConnection","Received: ",e),e)),(t=>{throw Lu("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=Pm[e];return`${this.Mi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise(((i,s)=>{const o=new Cu;o.listenOnce(_u.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Eu.NO_ERROR:const t=o.getResponseJson();Pu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Eu.TIMEOUT:Pu("Connection",'RPC "'+e+'" timed out'),s(new qu(ju.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:const n=o.getStatus();if(Pu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ju).indexOf(t)>=0?t:ju.UNKNOWN}(e.status);s(new qu(t,e.message))}else s(new qu(ju.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new qu(ju.UNAVAILABLE,"Connection failed."));break;default:Fu()}}finally{Pu("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}Qi(e,t,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=wu(),s=bu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Tu({})),this.qi(o.initMessageHeaders,t,n),le()||he()||ae().indexOf("Electron/")>=0||de()||ae().indexOf("MSAppHost/")>=0||ce()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");Pu("Connection","Creating WebChannel: "+a,o);const l=i.createWebChannel(a,o);let u=!1,c=!1;const h=new Om({Vi:e=>{c?Pu("Connection","Not sending because WebChannel is closed:",e):(u||(Pu("Connection","Opening WebChannel transport."),l.open(),u=!0),Pu("Connection","WebChannel sending:",e),l.send(e))},Si:()=>l.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(l,Su.EventType.OPEN,(()=>{c||Pu("Connection","WebChannel transport opened.")})),d(l,Su.EventType.CLOSE,(()=>{c||(c=!0,Pu("Connection","WebChannel transport closed"),h.Fi())})),d(l,Su.EventType.ERROR,(e=>{c||(c=!0,Lu("Connection","WebChannel transport errored:",e),h.Fi(new qu(ju.UNAVAILABLE,"The operation could not be completed")))})),d(l,Su.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];Uu(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Pu("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=id[e];if(void 0!==t)return ad(t)}(e),n=i.message;void 0===t&&(t=ju.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.Fi(new qu(t,n)),l.close()}else Pu("Connection","WebChannel received:",n),h.Oi(n)}})),d(s,Iu.STAT_EVENT,(e=>{e.stat===ku.PROXY?Pu("Connection","Detected buffering proxy"):e.stat===ku.NOPROXY&&Pu("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.$i()}),0),h}}function Mm(){return"undefined"!=typeof window?window:null}function Fm(){return"undefined"!=typeof document?document:null}function Um(e){return new Od(e,!0)}class Vm{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&Pu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class jm{constructor(e,t,n,r,i,s,o,a){this.Oe=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Vm(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===ju.RESOURCE_EXHAUSTED?(Ou(t.toString()),Ou("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===ju.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new qu(ju.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return Pu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget((()=>this.rr===e?t():(Pu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qm extends jm{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.C?(Uu(void 0===t||"string"==typeof t),fc.fromBase64String(t||"")):(Uu(void 0===t||t instanceof Uint8Array),fc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ju.UNKNOWN:ad(e.code);return new qu(t,e.message||"")}(o);n=new Cd(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=zd(e,r.document.name),s=Ud(r.document.updateTime),o=new Vc({mapValue:{fields:r.document.fields}}),a=qc.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Td(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=zd(e,r.document),s=r.readTime?Ud(r.readTime):ic.min(),o=qc.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Td([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=zd(e,r.document),s=r.removedTargetIds||[];n=new Td([],s,i,null)}else{if(!("filter"in t))return Fu();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new rd(r),s=e.targetId;n=new Sd(s,i)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return ic.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ic.min():t.readTime?Ud(t.readTime):ic.min()}(e);return this.listener.Pr(t,n)}br(e){const t={};t.database=Wd(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=Hc(r)?{documents:Jd(e,r)}:{query:Xd(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Md(e,t.resumeToken):t.snapshotVersion.compareTo(ic.min())>0&&(n.readTime=Ld(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Wd(this.k),t.removeTarget=e,this.gr(t)}}class zm extends jm{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Uu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(Uu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ud(e.updateTime):Ud(t);return n.isEqual(ic.min())&&(n=Ud(t)),new qh(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ud(e.commitTime);return this.listener.Cr(n,t)}return Uu(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Wd(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Qd(this.k,e)))};this.gr(t)}}class Bm extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new qu(ju.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.Bi(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ju.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qu(ju.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.ji(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===ju.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new qu(ju.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class $m{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Ou(t),this.Lr=!1):Pu("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Wm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{eg(this)&&(Pu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Vu(e);t.Gr.add(4),await Km(t),t.Jr.set("Unknown"),t.Gr.delete(4),await Hm(t)}(this))}))})),this.Jr=new $m(n,r)}}async function Hm(e){if(eg(e))for(const t of e.zr)await t(!0)}async function Km(e){for(const t of e.zr)await t(!1)}function Gm(e,t){const n=Vu(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Zm(n)?Xm(n):yg(n).lr()&&Ym(n,t))}function Qm(e,t){const n=Vu(e),r=yg(n);n.Wr.delete(t),r.lr()&&Jm(n,t),0===n.Wr.size&&(r.lr()?r._r():eg(n)&&n.Jr.set("Unknown"))}function Ym(e,t){e.Yr.X(t.targetId),yg(e).br(t)}function Jm(e,t){e.Yr.X(t),yg(e).vr(t)}function Xm(e){e.Yr=new Ad({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),yg(e).start(),e.Jr.Br()}function Zm(e){return eg(e)&&!yg(e).hr()&&e.Wr.size>0}function eg(e){return 0===Vu(e).Gr.size}function tg(e){e.Yr=void 0}async function ng(e){e.Wr.forEach(((t,n)=>{Ym(e,t)}))}async function rg(e,t){tg(e),Zm(e)?(e.Jr.Kr(t),Xm(e)):e.Jr.set("Unknown")}async function ig(e,t,n){if(e.Jr.set("Online"),t instanceof Cd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}(e,t)}catch(n){Pu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sg(e,n)}else if(t instanceof Td?e.Yr.ot(t):t instanceof Sd?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(ic.min()))try{const t=await nm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(fc.EMPTY_BYTE_STRING,n.snapshotVersion)),Jm(e,t);const r=new Qf(n.target,t,1,n.sequenceNumber);Ym(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Pu("RemoteStore","Failed to raise snapshot:",t),await sg(e,t)}}async function sg(e,t,n){if(!jf(t))throw t;e.Gr.add(1),await Km(e),e.Jr.set("Offline"),n||(n=()=>nm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Pu("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await Hm(e)}))}function og(e,t){return t().catch((n=>sg(e,n,t)))}async function ag(e){const t=Vu(e),n=vg(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;lg(t);)try{const e=await im(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,ug(t,e)}catch(e){await sg(t,e)}cg(t)&&hg(t)}function lg(e){return eg(e)&&e.Qr.length<10}function ug(e,t){e.Qr.push(t);const n=vg(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function cg(e){return eg(e)&&!vg(e).hr()&&e.Qr.length>0}function hg(e){vg(e).start()}async function dg(e){vg(e).kr()}async function fg(e){const t=vg(e);for(const n of e.Qr)t.Dr(n.mutations)}async function pg(e,t,n){const r=e.Qr.shift(),i=Gf.from(r,t,n);await og(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ag(e)}async function mg(e,t){t&&vg(e).Sr&&await async function(e,t){if(od(n=t.code)&&n!==ju.ABORTED){const n=e.Qr.shift();vg(e).wr(),await og(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ag(e)}var n}(e,t),cg(e)&&hg(e)}async function gg(e,t){const n=Vu(e);t?(n.Gr.delete(2),await Hm(n)):t||(n.Gr.add(2),await Km(n),n.Jr.set("Unknown"))}function yg(e){return e.Xr||(e.Xr=function(e,t,n){const r=Vu(e);return r.Fr(),new qm(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:ng.bind(null,e),Ni:rg.bind(null,e),Pr:ig.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),Zm(e)?Xm(e):e.Jr.set("Unknown")):(await e.Xr.stop(),tg(e))}))),e.Xr}function vg(e){return e.Zr||(e.Zr=function(e,t,n){const r=Vu(e);return r.Fr(),new zm(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:dg.bind(null,e),Ni:mg.bind(null,e),Nr:fg.bind(null,e),Cr:pg.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await ag(e)):(await e.Zr.stop(),e.Qr.length>0&&(Pu("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr}class wg{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new zu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new wg(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qu(ju.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(e,t){if(Ou("AsyncQueue",`${t}: ${e}`),jf(e))return new qu(ju.UNAVAILABLE,`${t}: ${e}`);throw e}class Eg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||kc.comparator(t.key,n.key):(e,t)=>kc.comparator(e.key,t.key),this.keyedMap=gd(),this.sortedSet=new ld(this.comparator)}static emptySet(e){return new Eg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Eg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _g{constructor(){this.eo=new ld(kc.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Fu():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ig{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Ig(e,t,Eg.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class kg{constructor(){this.so=void 0,this.listeners=[]}}class Tg{constructor(){this.queries=new Lp((e=>bh(e)),wh),this.onlineState="Unknown",this.io=new Set}}async function Sg(e,t){const n=Vu(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new kg),i)try{s.so=await n.onListen(r)}catch(e){const n=bg(e,`Initialization of query '${Eh(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.ro(n.onlineState),s.so&&t.oo(s.so)&&xg(n)}async function Cg(e,t){const n=Vu(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ng(e,t){const n=Vu(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.oo(e)&&(r=!0);i.so=e}}r&&xg(n)}function Ag(e,t,n){const r=Vu(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function xg(e){e.io.forEach((e=>{e.next()}))}class Rg{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ig(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=Ig.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class Dg{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Pg{constructor(e){this.k=e}Hn(e){return zd(this.k,e)}Jn(e){return e.metadata.exists?Gd(this.k,e.document,!1):qc.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Ud(e)}}class Og{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=Lg(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new Pg(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||bd()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Vu(e);let s=bd(),o=pd(),a=vd();for(const e of n){const n=t.Hn(e.metadata.name);e.document&&(s=s.add(n)),o=o.insert(n,t.Jn(e)),a=a.insert(n,t.Yn(e.metadata.readTime))}const l=i.Qn.newChangeBuffer({trackRemovals:!0}),u=await sm(i,function(e){return yh(ch(uc.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>rm(e,l,o,ic.min(),a).next((t=>(l.apply(e),t))).next((t=>i.He.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.He.addMatchingKeys(e,s,u.targetId))).next((()=>i.Wn.Vn(e,t))).next((()=>t))))))}(this.localStore,new Pg(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const e of this.queries)await cm(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new Qp(Object.assign({},this.progress),e)}}function Lg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Mg{constructor(e){this.key=e}}class Fg{constructor(e){this.key=e}}class Ug{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=bd(),this.mutatedKeys=bd(),this.Ao=Ih(e),this.Ro=new Eg(this.Ao)}get Po(){return this.To}bo(e,t){const n=t?t.vo:new _g,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=hh(this.query)&&r.size===this.query.limit?r.last():null,l=dh(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=_h(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Vo(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Ao(c,a)>0||l&&this.Ao(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),hh(this.query)||dh(this.query))for(;s.size>this.query.limit;){const e=hh(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:s,vo:n,Bn:o,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fu()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const s=t?this.Do():[],o=0===this.Io.size&&this.current?1:0,a=o!==this.Eo;return this.Eo=o,0!==i.length||a?{snapshot:new Ig(this.query,e.Ro,r,i,e.mutatedKeys,0===o,a,!1),Co:s}:{Co:s}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new _g,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=bd(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new Fg(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new Mg(n))})),t}ko(e){this.To=e.zn,this.Io=bd();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Ig.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Vg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jg{constructor(e){this.key=e,this.$o=!1}}class qg{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Fo={},this.Oo=new Lp((e=>bh(e)),wh),this.Mo=new Map,this.Lo=new Set,this.Bo=new ld(kc.comparator),this.Uo=new Map,this.qo=new dm,this.Ko={},this.jo=new Map,this.Qo=Ip.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function zg(e,t){const n=py(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=await sm(n.localStore,yh(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Bg(n,t,r,"current"===s),n.isPrimaryClient&&Gm(n.remoteStore,e)}return i}async function Bg(e,t,n,r){e.Go=(t,n,r)=>async function(e,t,n,r){let i=t.view.bo(n);i.Bn&&(i=await am(e.localStore,t.query,!1).then((({documents:e})=>t.view.bo(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return ey(e,t.targetId,o.Co),o.snapshot}(e,t,n,r);const i=await am(e.localStore,t,!0),s=new Ug(t,i.zn),o=s.bo(i.documents),a=kd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);ey(e,n,l.Co);const u=new Vg(t,n,s);return e.Oo.set(t,u),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),l.snapshot}async function $g(e,t){const n=Vu(e),r=n.Oo.get(t),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter((e=>!wh(e,t)))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await om(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Qm(n.remoteStore,r.targetId),Xg(n,r.targetId)})).catch(Np)):(Xg(n,r.targetId),await om(n.localStore,r.targetId,!0))}async function Wg(e,t){const n=Vu(e);try{const e=await function(e,t){const n=Vu(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const o=[];t.targetChanges.forEach(((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.He.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.He.addMatchingKeys(e,t.addedDocuments,s))));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return Uu(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,t)&&o.push(n.He.updateTargetData(e,u))}}));let a=pd();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(rm(e,s,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(ic.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Lf.waitFor(o).next((()=>s.apply(e))).next((()=>n.Wn.Vn(e,a))).next((()=>a))})).then((e=>(n.qn=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Uo.get(t);r&&(Uu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?Uu(r.$o):e.removedDocuments.size>0&&(Uu(r.$o),r.$o=!1))})),await ry(n,e,t)}catch(e){await Np(e)}}function Hg(e,t,n){const r=Vu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach(((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Vu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ro(t)&&(r=!0)})),r&&xg(n)}(r.eventManager,t),e.length&&r.Fo.Pr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Kg(e,t,n){const r=Vu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),s=i&&i.key;if(s){let e=new ld(kc.comparator);e=e.insert(s,qc.newNoDocument(s,ic.min()));const n=bd().add(s),i=new Id(ic.min(),new Map,new hd(ec),e,n);await Wg(r,i),r.Bo=r.Bo.remove(s),r.Uo.delete(t),ny(r)}else await om(r.localStore,t,!1).then((()=>Xg(r,t,n))).catch(Np)}async function Gg(e,t){const n=Vu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Vu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Lf.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Uu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((()=>e.An.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(n.localStore,t);Jg(n,r,null),Yg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ry(n,e)}catch(e){await Np(e)}}async function Qg(e,t,n){const r=Vu(e);try{const e=await function(e,t){const n=Vu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.An.lookupMutationBatch(e,t).next((t=>(Uu(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(r.localStore,t);Jg(r,t,n),Yg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ry(r,e)}catch(n){await Np(n)}}function Yg(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function Jg(e,t,n){const r=Vu(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Xg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Mo.get(t))e.Oo.delete(r),n&&e.Fo.zo(r,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||Zg(e,t)}))}function Zg(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(Qm(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),ny(e))}function ey(e,t,n){for(const r of n)r instanceof Mg?(e.qo.addReference(r.key,t),ty(e,r)):r instanceof Fg?(Pu("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||Zg(e,r.key)):Fu()}function ty(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Pu("SyncEngine","New document in limbo: "+n),e.Lo.add(r),ny(e))}function ny(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new kc(uc.fromString(t)),r=e.Qo.next();e.Uo.set(r,new jg(n)),e.Bo=e.Bo.insert(n,r),Gm(e.remoteStore,new Qf(yh(ch(n.path)),r,2,Ju.I))}}async function ry(e,t,n){const r=Vu(e),i=[],s=[],o=[];r.Oo.isEmpty()||(r.Oo.forEach(((e,a)=>{o.push(r.Go(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Jp.$n(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Fo.Pr(i),await async function(e,t){const n=Vu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Lf.forEach(t,(t=>Lf.forEach(t.kn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Lf.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!jf(e))throw e;Pu("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,s))}async function iy(e,t){const n=Vu(e);if(!n.currentUser.isEqual(t)){Pu("SyncEngine","User change. New user:",t.toKey());const e=await tm(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new qu(ju.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ry(n,e.Gn)}}function sy(e,t){const n=Vu(e),r=n.Uo.get(t);if(r&&r.$o)return bd().add(r.key);{let e=bd();const r=n.Mo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Po)}return e}}async function oy(e,t){const n=Vu(e),r=await am(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&ey(n,t.targetId,i.Co),i}async function ay(e){const t=Vu(e);return um(t.localStore).then((e=>ry(t,e)))}async function ly(e,t,n,r){const i=Vu(e),s=await function(e,t){const n=Vu(e),r=Vu(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Zt(e,t).next((t=>t?n.Wn.vn(e,t):Lf.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await ag(i.remoteStore):"acknowledged"===n||"rejected"===n?(Jg(i,t,r||null),Yg(i,t),function(e,t){Vu(Vu(e).An).ee(t)}(i.localStore,t)):Fu(),await ry(i,s)):Pu("SyncEngine","Cannot apply mutation batch with id: "+t)}async function uy(e,t,n){const r=Vu(e),i=[],s=[];for(const e of t){let t;const n=r.Mo.get(e);if(n&&0!==n.length){t=await sm(r.localStore,yh(n[0]));for(const e of n){const t=r.Oo.get(e),n=await oy(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await lm(r.localStore,e);t=await sm(r.localStore,n),await Bg(r,cy(n),e,!1)}i.push(t)}return r.Fo.Pr(s),i}function cy(e){return uh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hy(e){const t=Vu(e);return Vu(Vu(t.localStore).persistence).Tn()}async function dy(e,t,n,r){const i=Vu(e);if(i.Wo)Pu("SyncEngine","Ignoring unexpected query state notification.");else if(i.Mo.has(t))switch(n){case"current":case"not-current":{const e=await um(i.localStore),r=Id.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await ry(i,e,r);break}case"rejected":await om(i.localStore,t,!0),Xg(i,t,r);break;default:Fu()}}async function fy(e,t,n){const r=py(e);if(r.Wo){for(const e of t){if(r.Mo.has(e)){Pu("SyncEngine","Adding an already active target "+e);continue}const t=await lm(r.localStore,e),n=await sm(r.localStore,t);await Bg(r,cy(t),n.targetId,!1),Gm(r.remoteStore,n)}for(const e of n)r.Mo.has(e)&&await om(r.localStore,e,!1).then((()=>{Qm(r.remoteStore,e),Xg(r,e)})).catch(Np)}}function py(e){const t=Vu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kg.bind(null,t),t.Fo.Pr=Ng.bind(null,t.eventManager),t.Fo.zo=Ag.bind(null,t.eventManager),t}function my(e){const t=Vu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qg.bind(null,t),t}class gy{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=Um(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return em(this.persistence,new Xp,e.initialUser,this.k)}Yo(e){return new vm(bm.ks,this.k)}Jo(e){return new xm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yy extends gy{constructor(e,t,n){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Vu(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=jp(e);let n=ic.min();return t.jt({index:If.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=ep(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.jn=e}))}(this.localStore),await this.ta.initialize(this,e),await my(this.ta.syncEngine),await ag(this.ta.remoteStore),await this.persistence.sn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Zo(e){return em(this.persistence,new Xp,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Rp(t,e.asyncQueue)}Yo(e){const t=Gp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mp.withCacheSize(this.cacheSizeBytes):mp.DEFAULT;return new Wp(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Mm(),Fm(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new xm}}class vy extends yy{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ta.syncEngine;this.sharedClientState instanceof Am&&(this.sharedClientState.syncEngine={mi:ly.bind(null,t),gi:dy.bind(null,t),yi:fy.bind(null,t),Tn:hy.bind(null,t),_i:ay.bind(null,t)},await this.sharedClientState.start()),await this.persistence.sn((async e=>{await async function(e,t){const n=Vu(e);if(py(n),my(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await uy(n,e.toArray());n.Wo=!0,await gg(n.remoteStore,!0);for(const e of t)Gm(n.remoteStore,e)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Mo.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Xg(n,i),om(n.localStore,i,!0)))),Qm(n.remoteStore,i)})),await t,await uy(n,e),function(e){const t=Vu(e);t.Uo.forEach(((e,n)=>{Qm(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new ld(kc.comparator)}(n),n.Wo=!1,await gg(n.remoteStore,!1)}}(this.ta.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Jo(e){const t=Mm();if(!Am.bt(t))throw new qu(ju.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Gp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Am(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class wy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Hg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=iy.bind(null,this.syncEngine),await gg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Tg}createDatastore(e){const t=Um(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Lm(r));var r;return function(e,t,n,r){return new Bm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Hg(this.syncEngine,e,0),s=Dm.bt()?new Dm:new Rm,new Wm(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new qg(e,t,n,r,i,s);return o&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Vu(e);Pu("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Km(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}function by(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Ey{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class _y{constructor(e,t){this.sa=e,this.k=t,this.metadata=new zu,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.sa.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.ra()}async ra(){const e=await this.oa();if(null===e)return null;const t=this.ia.decode(e),n=Number(t);isNaN(n)&&this.aa(`length string (${t}) is not valid number`);const r=await this.ca(n);return new Dg(JSON.parse(r),e.length+n)}ua(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async oa(){for(;this.ua()<0&&!await this.ha(););if(0===this.buffer.length)return null;const e=this.ua();e<0&&this.aa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ca(e){for(;this.buffer.length<e;)await this.ha()&&this.aa("Reached the end of bundle when more is expected.");const t=this.ia.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ha(){const e=await this.sa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Iy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qu(ju.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Vu(e),r=Wd(n.k)+"/documents",i={documents:t.map((e=>qd(n.k,e)))},s=await n.ji("BatchGetDocuments",r,i),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Uu(!!t.found),t.found.name,t.found.updateTime;const n=zd(e,t.found.name),r=Ud(t.found.updateTime),i=new Vc({mapValue:{fields:t.found.fields}});return qc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Uu(!!t.missing),Uu(!!t.readTime);const n=zd(e,t.missing),r=Ud(t.readTime);return qc.newNoDocument(n,r)}(e,t):Fu()}(n.k,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Uu(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new td(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=kc.fromPath(t);this.mutations.push(new nd(n,this.precondition(n)))})),await async function(e,t){const n=Vu(e),r=Wd(n.k)+"/documents",i={writes:t.map((e=>Qd(n.k,e)))};await n.Bi("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fu();t=ic.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new qu(ju.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zh.updateTime(t):zh.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ic.min()))throw new qu(ju.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zh.updateTime(t)}return zh.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ky{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.la=5,this.ur=new Vm(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){this.ur.Zi((async()=>{const e=new Iy(this.datastore),t=this.da(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.wa(e)}))))})).catch((e=>{this.wa(e)}))}))}da(e){try{const t=this.updateFunction(e);return!Ec(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((()=>(this.fa(),Promise.resolve())))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!od(t)}return!1}}class Ty{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Au.UNAUTHENTICATED,this.clientId=Zu.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Pu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(()=>Promise.resolve()))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qu(ju.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bg(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Sy(e,t){e.asyncQueue.verifyOperationInProgress(),Pu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await tm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function Cy(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ny(e);Pu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=Vu(e);n.asyncQueue.verifyOperationInProgress(),Pu("RemoteStore","RemoteStore received new credentials");const r=eg(n);n.Gr.add(3),await Km(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await Hm(n)}(t.remoteStore,e))),e.onlineComponents=t}async function Ny(e){return e.offlineComponents||(Pu("FirestoreClient","Using default OfflineComponentProvider"),await Sy(e,new gy)),e.offlineComponents}async function Ay(e){return e.onlineComponents||(Pu("FirestoreClient","Using default OnlineComponentProvider"),await Cy(e,new wy)),e.onlineComponents}function xy(e){return Ny(e).then((e=>e.persistence))}function Ry(e){return Ny(e).then((e=>e.localStore))}function Dy(e){return Ay(e).then((e=>e.remoteStore))}function Py(e){return Ay(e).then((e=>e.syncEngine))}async function Oy(e){const t=await Ay(e),n=t.eventManager;return n.onListen=zg.bind(null,t.syncEngine),n.onUnlisten=$g.bind(null,t.syncEngine),n}function Ly(e,t,n={}){const r=new zu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ey({next:s=>{t.enqueueAndForget((()=>Cg(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new qu(ju.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new qu(ju.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Rg(ch(n.path),s,{includeMetadataChanges:!0,wo:!0});return Sg(e,o)}(await Oy(e),e.asyncQueue,t,n,r))),r.promise}function My(e,t,n={}){const r=new zu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Ey({next:n=>{t.enqueueAndForget((()=>Cg(e,o))),n.fromCache&&"server"===r.source?i.reject(new qu(ju.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Rg(n,s,{includeMetadataChanges:!0,wo:!0});return Sg(e,o)}(await Oy(e),e.asyncQueue,t,n,r))),r.promise}class Fy{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Uy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Uy&&e.projectId===this.projectId&&e.database===this.database}}const Vy=new Map;function jy(e,t,n){if(!n)throw new qu(ju.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qy(e,t,n,r){if(!0===t&&!0===r)throw new qu(ju.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function zy(e){if(!kc.isDocumentKey(e))throw new qu(ju.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function By(e){if(kc.isDocumentKey(e))throw new qu(ju.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function $y(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Fu()}function Wy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qu(ju.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$y(e);throw new qu(ju.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Hy(e,t){if(t<=0)throw new qu(ju.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Ky{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new qu(ju.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qu(ju.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gy{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ky({}),this._settingsFrozen=!1,e instanceof Uy?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qu(ju.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uy(e.options.projectId)}(e))}get app(){if(!this._app)throw new qu(ju.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qu(ju.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ky(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new $u;switch(e.type){case"gapi":const t=e.client;return Uu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Gu(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new qu(ju.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vy.get(e);t&&(Pu("ComponentProvider","Removing Datastore"),Vy.delete(e),t.terminate())}(this),Promise.resolve()}}class Qy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qy(this.firestore,e,this._key)}}class Yy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yy(this.firestore,e,this._query)}}class Jy extends Yy{constructor(e,t,n){super(e,t,ch(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qy(this.firestore,null,new kc(e))}withConverter(e){return new Jy(this.firestore,e,this._path)}}function Xy(e,t,...n){if(e=Se(e),jy("collection","path",t),e instanceof Gy){const r=uc.fromString(t,...n);return By(r),new Jy(e,null,r)}{if(!(e instanceof Qy||e instanceof Jy))throw new qu(ju.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(uc.fromString(t,...n));return By(r),new Jy(e.firestore,null,r)}}function Zy(e,t,...n){if(e=Se(e),1===arguments.length&&(t=Zu.A()),jy("doc","path",t),e instanceof Gy){const r=uc.fromString(t,...n);return zy(r),new Qy(e,null,new kc(r))}{if(!(e instanceof Qy||e instanceof Jy))throw new qu(ju.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(uc.fromString(t,...n));return zy(r),new Qy(e.firestore,e instanceof Jy?e.converter:null,new kc(r))}}function ev(e,t){return e=Se(e),t=Se(t),(e instanceof Qy||e instanceof Jy)&&(t instanceof Qy||t instanceof Jy)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function tv(e,t){return e=Se(e),t=Se(t),e instanceof Yy&&t instanceof Yy&&e.firestore===t.firestore&&wh(e._query,t._query)&&e.converter===t.converter}class nv{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Vm(this,"async_queue_retry"),this.Ra=()=>{const e=Fm();e&&Pu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=Fm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=Fm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise((()=>{}));const t=new zu;return this.ba((()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ga.push(e),this.va())))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!jf(e))throw e;Pu("AsyncQueue","Operation failed with retryable error: "+e)}this.ga.length>0&&this.ur.Zi((()=>this.va()))}}ba(e){const t=this.ma.then((()=>(this.Ea=!0,e().catch((e=>{this.Ta=e,this.Ea=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ou("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ea=!1,e))))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const r=wg.createAndSchedule(this,e,t,n,(e=>this.Va(e)));return this.pa.push(r),r}Pa(){this.Ta&&Fu()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then((()=>{this.pa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()}))}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function rv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class iv{constructor(){this._progressObserver={},this._taskCompletionResolver=new zu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class sv extends Gy{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new nv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||av(this),this._firestoreClient.terminate()}}function ov(e){return e._firestoreClient||av(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function av(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Fy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ty(e._authCredentials,e._appCheckCredentials,e._queue,r)}function lv(e,t,n){const r=new zu;return e.asyncQueue.enqueue((async()=>{try{await Sy(e,n),await Cy(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===ju.FAILED_PRECONDITION||e.code===ju.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function uv(e){if(e._initialized||e._terminated)throw new qu(ju.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cv{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qu(ju.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hc(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hv(fc.fromBase64String(e))}catch(e){throw new qu(ju.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new hv(fc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dv{constructor(e){this._methodName=e}}class fv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qu(ju.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qu(ju.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ec(this._lat,e._lat)||ec(this._long,e._long)}}const pv=/^__.*__$/;class mv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Jh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yh(e,this.data,t,this.fieldTransforms)}}class gv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Jh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fu()}}class vv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return Uv(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(yv(this.xa)&&pv.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class wv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||Um(e)}ja(e,t,n,r=!1){return new vv({xa:e,methodName:t,Ka:n,path:hc.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function bv(e){const t=e._freezeSettings(),n=Um(e._databaseId);return new wv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ev(e,t,n,r,i,s={}){const o=e.ja(s.merge||s.mergeFields?2:0,t,n,i);Ov("Data must be an object, but it was:",o,r);const a=Dv(r,o);let l,u;if(s.merge)l=new dc(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Lv(t,r,n);if(!o.contains(i))throw new qu(ju.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Vv(e,i)||e.push(i)}l=new dc(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new mv(new Vc(a),l,u)}class _v extends dv{_toFieldTransform(e){if(2!==e.xa)throw 1===e.xa?e.Ua(`${this._methodName}() can only appear at the top level of your update data`):e.Ua(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _v}}function Iv(e,t,n){return new vv({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class kv extends dv{_toFieldTransform(e){return new jh(e.path,new Dh)}isEqual(e){return e instanceof kv}}class Tv extends dv{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=Iv(this,e,!0),n=this.Qa.map((e=>Rv(e,t))),r=new Ph(n);return new jh(e.path,r)}isEqual(e){return this===e}}class Sv extends dv{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=Iv(this,e,!0),n=this.Qa.map((e=>Rv(e,t))),r=new Lh(n);return new jh(e.path,r)}isEqual(e){return this===e}}class Cv extends dv{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new Fh(e.k,Ch(e.k,this.Wa));return new jh(e.path,t)}isEqual(e){return this===e}}function Nv(e,t,n,r){const i=e.ja(1,t,n);Ov("Data must be an object, but it was:",i,r);const s=[],o=Vc.empty();oc(r,((e,r)=>{const a=Fv(t,e,n);r=Se(r);const l=i.La(a);if(r instanceof _v)s.push(a);else{const e=Rv(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new dc(s);return new gv(o,a,i.fieldTransforms)}function Av(e,t,n,r,i,s){const o=e.ja(1,t,n),a=[Lv(t,r,n)],l=[i];if(s.length%2!=0)throw new qu(ju.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(Lv(t,s[e])),l.push(s[e+1]);const u=[],c=Vc.empty();for(let e=a.length-1;e>=0;--e)if(!Vv(u,a[e])){const t=a[e];let n=l[e];n=Se(n);const r=o.La(t);if(n instanceof _v)u.push(t);else{const e=Rv(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new dc(u);return new gv(c,h,o.fieldTransforms)}function xv(e,t,n,r=!1){return Rv(n,e.ja(r?4:3,t))}function Rv(e,t){if(Pv(e=Se(e)))return Ov("Unsupported field value:",t,e),Dv(e,t);if(e instanceof dv)return function(e,t){if(!yv(t.xa))throw t.Ua(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ua(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Rv(i,t.Ba(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Se(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ch(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=rc.fromDate(e);return{timestampValue:Ld(t.k,n)}}if(e instanceof rc){const n=new rc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ld(t.k,n)}}if(e instanceof fv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hv)return{bytesValue:Md(t.k,e._byteString)};if(e instanceof Qy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ua(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Vd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua(`Unsupported field value: ${$y(e)}`)}(e,t)}function Dv(e,t){const n={};return ac(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oc(e,((e,r)=>{const i=Rv(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rc||e instanceof fv||e instanceof hv||e instanceof Qy||e instanceof dv)}function Ov(e,t,n){if(!Pv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=$y(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function Lv(e,t,n){if((t=Se(t))instanceof cv)return t._internalPath;if("string"==typeof t)return Fv(e,t);throw Uv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Mv=new RegExp("[~\\*/\\[\\]]");function Fv(e,t,n){if(t.search(Mv)>=0)throw Uv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cv(...t.split("."))._internalPath}catch(r){throw Uv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Uv(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new qu(ju.INVALID_ARGUMENT,a+e+l)}function Vv(e,t){return e.some((e=>e.isEqual(t)))}class jv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Qy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qv extends jv{data(){return super.data()}}function zv(e,t){return"string"==typeof t?Fv(e,t):t instanceof cv?t._internalPath:t._delegate._internalPath}class Bv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $v extends jv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(zv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Wv extends $v{data(e={}){return super.data(e)}}class Hv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Bv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Wv(this._firestore,this._userDataWriter,n.key,n,new Bv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qu(ju.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Wv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Bv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Wv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Kv(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fu()}}function Gv(e,t){return e instanceof $v&&t instanceof $v?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hv&&t instanceof Hv&&e._firestore===t._firestore&&tv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Qv(e){if(dh(e)&&0===e.explicitOrderBy.length)throw new qu(ju.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}function Jv(e,...t){for(const n of t)e=n._apply(e);return e}class Xv extends Yv{constructor(e,t,n){super(),this.Ga=e,this.za=t,this.Ha=n,this.type="where"}_apply(e){const t=bv(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new qu(ju.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){sw(o,s);const t=[];for(const n of o)t.push(iw(r,e,n));a={arrayValue:{values:t}}}else a=iw(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||sw(o,s),a=xv(n,"where",o,"in"===s||"not-in"===s);const l=Kc.create(i,s,a);return function(e,t){if(t.V()){const n=ph(e);if(null!==n&&!n.isEqual(t.field))throw new qu(ju.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=fh(e);null!==r&&ow(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new qu(ju.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new qu(ju.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Yy(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new lh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Zv extends Yv{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new qu(ju.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new qu(ju.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ih(t,n);return function(e,t){if(null===fh(e)){const n=ph(e);null!==n&&ow(0,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new Yy(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new lh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class ew extends Yv{constructor(e,t,n){super(),this.type=e,this.Ya=t,this.Xa=n}_apply(e){return new Yy(e.firestore,e.converter,vh(e._query,this.Ya,this.Xa))}}class tw extends Yv{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=rw(e,this.type,this.Za,this.tc);return new Yy(e.firestore,e.converter,function(e,t){return new lh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class nw extends Yv{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=rw(e,this.type,this.Za,this.tc);return new Yy(e.firestore,e.converter,function(e,t){return new lh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function rw(e,t,n,r){if(n[0]=Se(n[0]),n[0]instanceof jv)return function(e,t,n,r,i){if(!r)throw new qu(ju.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of gh(e))if(n.field.isKeyField())s.push(Dc(t,r.key));else{const e=r.data.field(n.field);if(vc(e))throw new qu(ju.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new qu(ju.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new nh(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=bv(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new qu(ju.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const l=i[s];if(o[s].field.isKeyField()){if("string"!=typeof l)throw new qu(ju.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof l}`);if(!mh(e)&&-1!==l.indexOf("/"))throw new qu(ju.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${l}' contains a slash.`);const n=e.path.child(uc.fromString(l));if(!kc.isDocumentKey(n))throw new qu(ju.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new kc(n);a.push(Dc(t,i))}else{const e=xv(n,r,l);a.push(e)}}return new nh(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function iw(e,t,n){if("string"==typeof(n=Se(n))){if(""===n)throw new qu(ju.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mh(t)&&-1!==n.indexOf("/"))throw new qu(ju.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(uc.fromString(n));if(!kc.isDocumentKey(r))throw new qu(ju.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dc(e,new kc(r))}if(n instanceof Qy)return Dc(e,n._key);throw new qu(ju.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${$y(n)}.`)}function sw(e,t){if(!Array.isArray(e)||0===e.length)throw new qu(ju.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new qu(ju.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function ow(e,t,n){if(!n.isEqual(t))throw new qu(ju.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class aw{convertValue(e,t="none"){switch(Tc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fu()}}convertObject(e,t){const n={};return oc(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new fv(gc(e.latitude),gc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){const t=mc(e);return new rc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=uc.fromString(e);Uu(hf(n));const r=new Uy(n.get(1),n.get(3)),i=new kc(n.popFirst(5));return r.isEqual(t)||Ou(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function lw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class uw extends aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new hv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qy(this.firestore,null,t)}}class cw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bv(e)}set(e,t,n){this._verifyNotCommitted();const r=hw(e,this._firestore),i=lw(r.converter,t,n),s=Ev(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,zh.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=hw(e,this._firestore);let s;return s="string"==typeof(t=Se(t))||t instanceof cv?Av(this._dataReader,"WriteBatch.update",i._key,t,n,r):Nv(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,zh.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hw(e,this._firestore);return this._mutations=this._mutations.concat(new td(t._key,zh.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qu(ju.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hw(e,t){if((e=Se(e)).firestore!==t)throw new qu(ju.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class dw extends aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new hv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qy(this.firestore,null,t)}}function fw(e,t,n){e=Wy(e,Qy);const r=Wy(e.firestore,sv),i=lw(e.converter,t,n);return gw(r,[Ev(bv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zh.none())])}function pw(e,t,n,...r){e=Wy(e,Qy);const i=Wy(e.firestore,sv),s=bv(i);let o;return o="string"==typeof(t=Se(t))||t instanceof cv?Av(s,"updateDoc",e._key,t,n,r):Nv(s,"updateDoc",e._key,t),gw(i,[o.toMutation(e._key,zh.exists(!0))])}function mw(e,...t){var n,r,i;e=Se(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||rv(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(rv(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof Qy)u=Wy(e.firestore,sv),c=ch(e._key.path),l={next:n=>{t[o]&&t[o](yw(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Wy(e,Yy);u=Wy(n.firestore,sv),c=n._query;const r=new dw(u);l={next:e=>{t[o]&&t[o](new Hv(u,r,n,e))},error:t[o+1],complete:t[o+2]},Qv(e._query)}return function(e,t,n,r){const i=new Ey(r),s=new Rg(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Sg(await Oy(e),s))),()=>{i.na(),e.asyncQueue.enqueueAndForget((async()=>Cg(await Oy(e),s)))}}(ov(u),c,a,l)}function gw(e,t){return function(e,t){const n=new zu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=my(e);try{const e=await function(e,t){const n=Vu(e),r=rc.now(),i=t.reduce(((e,t)=>e.add(t.key)),bd());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=Kh(e,s.get(e.key));null!=t&&o.push(new Jh(e.key,t,jc(t.value.mapValue),zh.exists(!0)))}return n.An.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new ld(ec)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await ry(r,e.changes),await ag(r.remoteStore)}catch(e){const t=bg(e,"Failed to persist write");n.reject(t)}}(await Py(e),t,n))),n.promise}(ov(e),t)}function yw(e,t,n){const r=n.docs.get(t._key),i=new dw(e);return new $v(e,i,t._key,r,new Bv(n.hasPendingWrites,n.fromCache),t.converter)}class vw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bv(e)}get(e){const t=hw(e,this._firestore),n=new uw(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Fu();const r=e[0];if(r.isFoundDocument())return new jv(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new jv(this._firestore,n,t._key,null,t.converter);throw Fu()}))}set(e,t,n){const r=hw(e,this._firestore),i=lw(r.converter,t,n),s=Ev(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=hw(e,this._firestore);let s;return s="string"==typeof(t=Se(t))||t instanceof cv?Av(this._dataReader,"Transaction.update",i._key,t,n,r):Nv(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=hw(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hw(e,this._firestore),n=new dw(this._firestore);return super.get(e).then((e=>new $v(this._firestore,n,t._key,e._document,new Bv(!1,!1),t.converter)))}}function ww(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qu("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function bw(){if("undefined"==typeof Uint8Array)throw new qu("unimplemented","Uint8Arrays are not available in this environment.")}function Ew(){if("undefined"==typeof atob)throw new qu("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){xu=e}(et),Ge(new Ce("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new sv(r,new Hu(e.getProvider("auth-internal")),new Yu(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),st(Nu,"3.4.0",e),st(Nu,"3.4.0","esm2017")}();class _w{constructor(e){this._delegate=e}static fromBase64String(e){return Ew(),new _w(hv.fromBase64String(e))}static fromUint8Array(e){return bw(),new _w(hv.fromUint8Array(e))}toBase64(){return Ew(),this._delegate.toBase64()}toUint8Array(){return bw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Iw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class kw{enableIndexedDbPersistence(e,t){return function(e,t){uv(e=Wy(e,sv));const n=ov(e),r=e._freezeSettings(),i=new wy;return lv(n,i,new yy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){uv(e=Wy(e,sv));const t=ov(e),n=e._freezeSettings(),r=new wy;return lv(t,r,new vy(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new qu(ju.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new zu;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Ff.bt())return Promise.resolve();const t=e+"main";await Ff.delete(t)}(Gp(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Tw{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Uy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Lu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=Wy(e,Gy))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Lu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Au.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ie(JSON.stringify({alg:"none",type:"JWT"})),ie(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new qu(ju.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Au(s)}e._authCredentials=new Wu(new Bu(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await xy(e),n=await Dy(e);return t.setNetworkEnabled(!0),function(e){const t=Vu(e);return t.Gr.delete(0),Hm(t)}(n)}))}(ov(e=Wy(e,sv)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await xy(e),n=await Dy(e);return t.setNetworkEnabled(!1),async function(e){const t=Vu(e);t.Gr.add(0),await Km(t),t.Jr.set("Offline")}(n)}))}(ov(e=Wy(e,sv)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,qy("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new zu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Vu(e);eg(n.remoteStore)||Pu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Vu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.An.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(e){const n=bg(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Py(e),t))),t.promise}(ov(e=Wy(e,sv)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new Ey(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Vu(e).io.add(t),t.next()}(await Oy(e),n))),()=>{n.na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Vu(e).io.delete(t)}(await Oy(e),n)))}}(ov(e=Wy(e,sv)),rv(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new qu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vw(this,Xy(this._delegate,e))}catch(e){throw Rw(e,"collection()","Firestore.collection()")}}doc(e){try{return new xw(this,Zy(this._delegate,e))}catch(e){throw Rw(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mw(this,function(e,t){if(e=Wy(e,Gy),jy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qu(ju.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yy(e,null,function(e){return new lh(uc.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Rw(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new zu;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return Ay(e).then((e=>e.datastore))}(e);new ky(e.asyncQueue,r,t,n).run()})),n.promise}(ov(e=Wy(e,sv)),(n=>t(new vw(e,n))))}(this._delegate,(t=>e(new Cw(this,t))))}batch(){return ov(this._delegate),new Nw(new cw(this._delegate,(e=>gw(this._delegate,e))))}loadBundle(e){return function(e,t){const n=ov(e=Wy(e,sv)),r=new iv;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new _y(e,t)}(function(e,t){if(e instanceof Uint8Array)return by(e,t);if(e instanceof ArrayBuffer)return by(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Um(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Vu(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Vu(e),r=Ud(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ye.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Lg(r));const i=new Og(r,e.localStore,t.k);let s=await t.Ho();for(;s;){const e=await i.yo(s);e&&n._updateProgress(e),s=await t.Ho()}const o=await i.complete();await ry(e,o.In,void 0),await function(e,t){const n=Vu(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ye.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Lu("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await Py(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Vu(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ye.getNamedQuery(e,t)))}(await Ry(e),t)))}(ov(e=Wy(e,sv)),t).then((t=>t?new Yy(e,null,t.query):null))}(this._delegate,e).then((e=>e?new Mw(this,e):null))}}class Sw extends aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new _w(new hv(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xw.forKey(t,this.firestore,null)}}class Cw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sw(e)}get(e){const t=jw(e);return this._delegate.get(t).then((e=>new Ow(this._firestore,new $v(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=jw(e);return n?(ww("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=jw(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=jw(e);return this._delegate.delete(t),this}}class Nw{constructor(e){this._delegate=e}set(e,t,n){const r=jw(e);return n?(ww("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=jw(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=jw(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Aw{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Wv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lw(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Aw.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Aw(e,new Sw(e),t),r.set(t,i)),i}}Aw.INSTANCES=new WeakMap;class xw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sw(e)}static forPath(e,t,n){if(e.length%2!=0)throw new qu("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xw(t,new Qy(t._delegate,n,new kc(e)))}static forKey(e,t,n){return new xw(t,new Qy(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Vw(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vw(this.firestore,Xy(this._delegate,e))}catch(e){throw Rw(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Se(e))instanceof Qy&&ev(this._delegate,e)}set(e,t){t=ww("DocumentReference.set",t);try{return t?fw(this._delegate,e,t):fw(this._delegate,e)}catch(e){throw Rw(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?pw(this._delegate,e):pw(this._delegate,e,t,...n)}catch(e){throw Rw(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return gw(Wy(e.firestore,sv),[new td(e._key,zh.none())])}(this._delegate)}onSnapshot(...e){const t=Dw(e),n=Pw(e,(e=>new Ow(this.firestore,new $v(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return mw(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Wy(e,Qy);const t=Wy(e.firestore,sv),n=ov(t),r=new dw(t);return function(e,t){const n=new zu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Vu(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Wn.Rn(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new qu(ju.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=bg(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Ry(e),t,n))),n.promise}(n,e._key).then((n=>new $v(t,r,e._key,n,new Bv(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Wy(e,Qy);const t=Wy(e.firestore,sv);return Ly(ov(t),e._key,{source:"server"}).then((n=>yw(t,e,n)))}(this._delegate):function(e){e=Wy(e,Qy);const t=Wy(e.firestore,sv);return Ly(ov(t),e._key).then((n=>yw(t,e,n)))}(this._delegate),t.then((e=>new Ow(this.firestore,new $v(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new xw(this.firestore,e?this._delegate.withConverter(Aw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Rw(e,t,n){return e.message=e.message.replace(t,n),e}function Dw(e){for(const t of e)if("object"==typeof t&&!Iw(t))return t;return{}}function Pw(e,t){var n,r;let i;return i=Iw(e[0])?e[0]:Iw(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ow{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xw(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Gv(this._delegate,e._delegate)}}class Lw extends Ow{data(e){const t=this._delegate.data(e);return function(e,t){e||Fu()}(void 0!==t),t}}class Mw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sw(e)}where(e,t,n){try{return new Mw(this.firestore,Jv(this._delegate,function(e,t,n){const r=t,i=zv("where",e);return new Xv(i,r,n)}(e,t,n)))}catch(e){throw Rw(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mw(this.firestore,Jv(this._delegate,function(e,t="asc"){const n=t,r=zv("orderBy",e);return new Zv(r,n)}(e,t)))}catch(e){throw Rw(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mw(this.firestore,Jv(this._delegate,function(e){return Hy("limit",e),new ew("limit",e,"F")}(e)))}catch(e){throw Rw(e,"limit()","Query.limit()")}}limitToLast(e){try{return new Mw(this.firestore,Jv(this._delegate,function(e){return Hy("limitToLast",e),new ew("limitToLast",e,"L")}(e)))}catch(e){throw Rw(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mw(this.firestore,Jv(this._delegate,function(...e){return new tw("startAt",e,!0)}(...e)))}catch(e){throw Rw(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mw(this.firestore,Jv(this._delegate,function(...e){return new tw("startAfter",e,!1)}(...e)))}catch(e){throw Rw(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mw(this.firestore,Jv(this._delegate,function(...e){return new nw("endBefore",e,!0)}(...e)))}catch(e){throw Rw(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mw(this.firestore,Jv(this._delegate,function(...e){return new nw("endAt",e,!1)}(...e)))}catch(e){throw Rw(e,"endAt()","Query.endAt()")}}isEqual(e){return tv(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Wy(e,Yy);const t=Wy(e.firestore,sv),n=ov(t),r=new dw(t);return function(e,t){const n=new zu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await am(e,t,!0),i=new Ug(t,r.zn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=bg(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Ry(e),t,n))),n.promise}(n,e._query).then((n=>new Hv(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Wy(e,Yy);const t=Wy(e.firestore,sv),n=ov(t),r=new dw(t);return My(n,e._query,{source:"server"}).then((n=>new Hv(t,r,e,n)))}(this._delegate):function(e){e=Wy(e,Yy);const t=Wy(e.firestore,sv),n=ov(t),r=new dw(t);return Qv(e._query),My(n,e._query).then((n=>new Hv(t,r,e,n)))}(this._delegate),t.then((e=>new Uw(this.firestore,new Hv(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=Dw(e),n=Pw(e,(e=>new Uw(this.firestore,new Hv(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return mw(this._delegate,t,n)}withConverter(e){return new Mw(this.firestore,e?this._delegate.withConverter(Aw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Fw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Uw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mw(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Lw(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Fw(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Lw(this._firestore,n))}))}isEqual(e){return Gv(this._delegate,e._delegate)}}class Vw extends Mw{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xw(this.firestore,e):null}doc(e){try{return new xw(this.firestore,void 0===e?Zy(this._delegate):Zy(this._delegate,e))}catch(e){throw Rw(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Wy(e.firestore,sv),r=Zy(e),i=lw(e.converter,t);return gw(n,[Ev(bv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zh.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new xw(this.firestore,e)))}isEqual(e){return ev(this._delegate,e._delegate)}withConverter(e){return new Vw(this.firestore,e?this._delegate.withConverter(Aw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jw(e){return Wy(e,Qy)}class qw{constructor(...e){this._delegate=new cv(...e)}static documentId(){return new qw(hc.keyField().canonicalString())}isEqual(e){return(e=Se(e))instanceof cv&&this._delegate._internalPath.isEqual(e._internalPath)}}class zw{constructor(e){this._delegate=e}static serverTimestamp(){const e=new kv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new zw(e)}static delete(){const e=new _v("deleteField");return e._methodName="FieldValue.delete",new zw(e)}static arrayUnion(...e){const t=function(...e){return new Tv("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new zw(t)}static arrayRemove(...e){const t=function(...e){return new Sv("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new zw(t)}static increment(e){const t=function(e){return new Cv("increment",e)}(e);return t._methodName="FieldValue.increment",new zw(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Bw={Firestore:Tw,GeoPoint:fv,Timestamp:rc,Blob:_w,Transaction:Cw,WriteBatch:Nw,DocumentReference:xw,DocumentSnapshot:Ow,Query:Mw,QueryDocumentSnapshot:Lw,QuerySnapshot:Uw,CollectionReference:Vw,FieldPath:qw,FieldValue:zw,setLogLevel:function(e){!function(e){Ru.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ce("firestore-compat",(e=>((e,t)=>new Tw(e,t,new kw))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},Bw)))}(e),e.registerVersion("@firebase/firestore-compat","0.1.9")}(dt),dt.initializeApp({apiKey:"AIzaSyBf_SpzuKsooz78APtry7WZRnoLwzp5po0",authDomain:"maria-moran-luaces-3ba0b.REACT_APPapp.com",projectId:"maria-moran-luaces-3ba0b",storageBucket:"maria-moran-luaces-3ba0b.appspot.com",messagingSenderId:"800221740817",appId:"1 =800221740817 =web =aefcb7b92d75ec451196b0",measurementId:"G-L57ZL2S8R9"});const $w=dt.firestore(),Ww=function(e){var n=e.img,r=(e.name,e.text,e.url,e.type),i=void 0===r?"medium":r;return t.createElement("div",{className:"project "+i},t.createElement("img",{className:"project-main-image",src:n,alt:""}))};function Hw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Kw=function(){var e,n,r=(e=(0,t.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,n)||function(e,t){if(e){if("string"==typeof e)return Hw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hw(e,t):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],s=r[1];return(0,t.useEffect)((function(){$w.collection("projects").limit(3).get().then((function(e){var t=[];e.forEach((function(e){t.push({id:e.id,data:e.data()})})),s(t)}))}),[]),t.createElement("section",{className:"projects-section"},t.createElement("div",{className:"projects-section-info"},t.createElement("h1",null,"Conoce mis proyectos")),t.createElement("div",{className:"projects-container"},i.map((function(e){return t.createElement(q,{key:e.id,to:{pathname:"/project-info/"+e.id}},t.createElement(Ww,{img:e.data.img,name:e.data.name,text:e.data.text,url:e.data.url,type:"short"}))}))),t.createElement("div",{className:"projects-link"},t.createElement("h1",null,"Puedes ver más proyectos míos aquí"),t.createElement(q,{to:"/portfolio"},"Ver todo")))},Gw=function(){return t.createElement("div",{className:"app page"},t.createElement(te,null),t.createElement("div",{className:"content"},t.createElement(Kw,null)))},Qw=function(e){var n=e.title1,r=e.title2,i=e.text;return t.createElement("div",{className:"text"},n?t.createElement("h1",null,n):"",r?t.createElement("h2",null,r):"",i?t.createElement("p",null,i):"")},Yw=function(){return t.createElement("section",{id:"about",className:"page"},t.createElement(Qw,{title1:"¿Quién soy?",text:"Hola, mi nombre es María Morán. En 2021 me gradué en la Universidad Carlos III de Madrid, convirtiéndome, oficialmente, en Ingeniera Informática. El camino hasta aquí ha estado lleno de prácticas aparentemente imposibles, proyectos personales, voluntariados, concursos y, sobre todo, gente maravillosa. Ahora trato de llevar un poco de mí y de lo que sé a los demás, y por eso estoy construyendo un blog que complemento con mi actividad en redes sociales. Tengo muchas ganas de seguir por este camino que acabo de comenzar y ver hasta dónde me lleva."}),t.createElement(Qw,{title1:"Mi recorrido",text:"Con 15 añitos y sin tener muy claro aún quién era yo, descubrí la programación. Vi en ello una herramienta increible para resolver problemas. Aún no entendía completamente su potencial, pero ya tenía la curiosidad. Unos años más tarde, a los 17, con selectividad a la vuelta de la esquina, debía escoger qué iba a hacer el siguiente año. Fue entonces cuando descubrí el mundo de las ingenierías y, de nuevo, me topé con la programación. Vi en la Ingeniería Informática mi oportunidad de diseñar soluciones a problemas reales utilizando esa gran herramienta que había descubierto con 15 años."}),t.createElement(Qw,{title1:"Mi pasión",text:"Resolver problemas reales y facilitar la vida de las personas ha sido, desde siempre, mi pasión, y gracias a la ingeniería y la programación, puedo dedicarme a ello. Creo en el desarrollo de software como un proceso de empatía con el usuario, un acercamiento al mismo y una comprensión profunda de sus deseos y necesidades. Absolutamente todo en mis proyectos personales, desde el diseño a las funcionalidades, están dirigidas por esa visión que tengo del desarrollo de software."}),t.createElement(Qw,{title1:"Mi camino",text:"Estoy dando mis primeros pasos en el mundo profesional. Tengo mi primer trabajo como Software Engineer en Twilio y me veo crecer día a día. Además continúo desarrollando proyectos personales que me apasionan y me permiten mejorar mis habilidades constantemete. Llevar parte de mí a los demás está siendo una parte vital del proceso, me gusta poder transmitir mi conocimiento y beneficiarme del feedback de la comunidad. Creo que estoy en el camino correcto y quiero ver hasta donde me lleva."}))};function Jw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Xw=function(){var e,n,r=(e=(0,t.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,n)||function(e,t){if(e){if("string"==typeof e)return Jw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jw(e,t):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],s=r[1];return(0,t.useEffect)((function(){$w.collection("projects").get().then((function(e){var t=[];e.forEach((function(e){t.push({id:e.id,data:e.data()})})),s(t)}))}),[]),t.createElement("section",{id:"portfolio",class:"page"},t.createElement("div",{className:"portfolio-container"},i.map((function(e){return t.createElement(q,{key:e.id,to:{pathname:"/project-info/"+e.id}},t.createElement(Ww,{type:"large",img:e.data.img,name:e.data.name,text:e.data.text,url:e.data.url}))}))))};function Zw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const eb=function(){var e,n,r=function(){let{matches:e}=(0,t.useContext)(p),n=e[e.length-1];return n?n.params:{}}().id,i=(e=(0,t.useState)({name:"",text:"",url:"",img:"",git:""}),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,n)||function(e,t){if(e){if("string"==typeof e)return Zw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zw(e,t):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],o=i[1];return(0,t.useEffect)((function(){$w.collection("projects").doc(r).onSnapshot((function(e){o(e.data())}))}),[]),t.createElement("div",{className:"project-info"},t.createElement("div",{className:"project-info-images"},t.createElement("img",{src:s.img})),t.createElement("div",{className:"project-info-text"},t.createElement("a",{href:s.git,className:"project-info-icon",alt:"Click to see the code on github"},t.createElement($,null)),t.createElement("h1",null,s.name),t.createElement("p",null,s.text),""!=s.url?t.createElement("a",{className:"project-info-url",href:s.url,target:"_blank"},"Ver projecto"):""))},tb=function(){return t.createElement("section",{id:"contact",class:"page"},t.createElement("div",{class:"contact-cards"},t.createElement(X,{type:"twitter",text:"@_mariamoraan",link:"https://twitter.com/_mariamoraan"}),t.createElement(X,{type:"github",text:"mia-moran",link:"https://github.com/mia-moran"}),t.createElement(X,{type:"linkedin",text:"María Morán Luaces",link:"https://www.linkedin.com/in/maria-moran-luaces/"})),t.createElement("div",{class:"contact-message"},t.createElement("h1",null,"Hey !"),t.createElement("p",null,"Contáctame a través de mis redes sociales o a través de mi email"),t.createElement(X,{type:"mail",text:"mariamoranluaces@gmail.com",link:"mailto:mariamoranluaces@gmail.com"})))};function nb(){var e=b().pathname;return(0,t.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}const rb=function(){return t.createElement(j,null,t.createElement(G,null),t.createElement(nb,null),t.createElement(v,null,t.createElement(g,{path:"/about",element:t.createElement(Yw,null)}),t.createElement(g,{path:"/portfolio",element:t.createElement(Xw,null)}),t.createElement(g,{path:"/project-info/:id",element:t.createElement(eb,null)}),t.createElement(g,{path:"/contact",element:t.createElement(tb,null)}),t.createElement(g,{path:"*",element:t.createElement(Gw,null)})),t.createElement(Q,null))};r.render(t.createElement(rb,null),document.getElementById("app"))})()})();